{"version":3,"sources":["store/stay.reducer.js","services/async-storage.service.js","services/http.service.js","services/user.service.js","store/user.reducer.js","store/review.reducer.js","store/system.reducer.js","store/order.reducer.js","store/store.js","assets/img/pets-allowed.jpg","assets/img/entire-duplex.jpg","assets/img/large-capacity.jpg","assets/img/unique-stays.jpg","services/stay.service.js","store/stay.actions.js","pages/home-page.jsx","pages/about-us.jsx","services/util.service.js","store/user.actions.js","cmps/preview-slider.jsx","cmps/stay-preview.jsx","cmps/stays-list.jsx","cmps/DynamicModal.jsx","cmps/price-range-slider.jsx","cmps/explore-filter.jsx","assets/img/three-dots.svg","pages/explore.jsx","pages/admin-app.jsx","cmps/stay-details/details-base-info.jsx","cmps/stay-details/details-asset-sum.jsx","cmps/stay-details/details-amenities.jsx","services/order.service.js","services/socket.service.js","store/order.actions.js","cmps/dates-picker2.jsx","cmps/stay-details/_guests-modal.jsx","cmps/stay-details/details-checkout-form.jsx","cmps/_read-more.jsx","cmps/stay-details/reviews-preview.jsx","cmps/stay-details/reviews-list.jsx","cmps/stay-details/stay-map.jsx","cmps/stay-details/add-review.jsx","cmps/stay-details/_reviews-avg.jsx","pages/stay-details.jsx","cmps/login-signup.jsx","pages/login.jsx","assets/img/travel.jpg","cmps/trips-page/trip-preview.jsx","cmps/trips-page/trips-list.jsx","pages/trips-page.jsx","cmps/host-page/add-stay-map.jsx","assets/img/no-img.png","cmps/host-page/add-stay.jsx","cmps/host-page/host-stays-list.jsx","cmps/host-page/dash-board.jsx","pages/host-page.jsx","pages/become-a-host.jsx","pages/notifications.jsx","routes.js","cmps/guests-modal.jsx","cmps/locations-popup.jsx","cmps/search-bar.jsx","cmps/user-menu.jsx","cmps/app-header.jsx","cmps/app-footer/top-rated-stays.jsx","services/event-bus.service.js","cmps/user-msg.jsx","cmps/app-footer/locations-footer.jsx","cmps/app-footer/nearby-stays.jsx","cmps/app-footer.jsx","pages/user-details.jsx","root-cmp.jsx","index.js"],"names":["initialState","stays","bookedTrip","stay","review","lastRemovedStay","isMiniHeader","filterBy","startDate","endDate","location","adultNumber","kidsNumber","infantsNumber","capacity","amenities","assetType","uniqueStay","guestModal","datesModal","hostId","storageService","query","get","entityType","entityId","then","entities","find","entity","_id","post","newEntity","_makeId","push","_save","put","updatedEntity","idx","findIndex","splice","remove","postMany","newEntities","map","gStays","gUsers","users","JSON","parse","localStorage","getItem","regex","RegExp","filter","test","loc","address","split","Promise","resolve","setItem","stringify","length","text","possible","i","charAt","Math","floor","random","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","response","status","sessionStorage","clear","window","assign","STORAGE_KEY_LOGGEDIN_USER","gWatchedUser","userService","login","logout","signup","getLoggedinUser","getUsers","getById","userId","update","user","updatedUser","_saveLocalUser","userCred","isHost","imgUrl","notifications","mySaves","removeItem","addEventListener","freshUsers","watchedUser","u","count","reviews","isLoading","orders","order","rootReducer","combineReducers","stayModule","cart","state","action","newState","type","stayId","stayState","userModule","score","systemModule","reviewModule","reviewId","orderModule","lastRemovedOrder","orderId","orderState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","listeners","stayService","save","subscribe","listener","filterPageStays","filterdStays","isStay","forEach","amenity","includes","placeType","PropertyType","toLowerCase","price","priceRange","UpdatedStay","loadStays","dispatch","onAddStay","stayToAdd","savedStay","setFilter","setMiniHeader","getState","onEditStay","stayToSave","updatedStay","cs","_notifySubscribersStaysChanged","locations","city","country","_HomePage","onSetMiniHeader","ev","target","scrollingElement","scrollTop","props","setHeaderDisplay","innerWidth","removeEventListener","changeCount","diff","onClickLoc","val","newFilter","history","scrollTo","this","className","to","src","alt","onClick","duplex","pet","cap","unique","React","Component","mapDispatchToProps","HomePage","connect","FancyBox","style","float","onClose","children","Contacts","height","backgroundColor","Projects","useState","projs","setProjs","projList","proj","stopPropagation","p","transitionName","transitionEnterTimeout","transitionLeaveTimeout","Date","now","SplitPane","width","setWidth","display","left","flex","right","AboutUs","onTellMeMore","clearInterval","interval","toLocaleString","MyErrorBoundary","error","errorInfo","setState","whiteSpace","toString","componentStack","utilService","makeId","txt","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","delay","ms","setTimeout","toTimestamp","strDate","timeToShow","date","timeStamp","time","day","getDate","month","getMonth","year","getFullYear","substr","loadUsers","loadUser","removeUser","updateUser","userToSave","onLogin","credentials","onSignup","catch","err","onLogout","onToggleLikedStay","savedStayId","isLiked","saved","savedUser","onBookTrip","trip","host","hostUser","userTrip","id","hostOrder","myTrips","updatedHost","LazyLoad","imgs","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","img","_StayPreview","onToggleLikeStay","isStayLiked","name","baseVal","imgUrls","color","reviewsAvg","demoReviews","StayPreview","StaysList","DynamicModal","styleClass","child","index","AirbnbSlider","styled","Slider","theme","padding","border","boxShadow","marginLeft","marginRight","palette","mode","opacity","undefined","AirbnbThumbComponent","other","PriceRangeSlider","onCalcAllStaysPriceAvg","onSetPageFilter","allStaysPriceAvg","value","setValue","Box","sx","toFixed","m","components","Thumb","getAriaLabel","defaultValue","onChange","event","newValue","htmlFor","ExploreFilter","closeAllModals","modals","placeTypeIsOpen","PropertyTypeIsOpen","PriceIsOpen","AmenitiesTypeIsOpen","ameintiesOptions","onToggleModals","isChecked","onSetAmenity","onClearPageFilter","_Explore","isScreenOpen","frontFilter","updatedAmeintiesOpts","prevState","filterType","newStays","onToggleScreen","clearState","onRemoveStay","prompt","modal","calcAllStaysPriceAvg","staysAvg","reduce","acc","prevProps","loader","Explore","_AdminApp","username","AdminApp","BasicInfo","onToogleLikeStay","AssetSum","AssetAmenities","getAmenitiesIcons","FastfoodTwoTone","orderService","UpdatedOrder","_notifySubscribersOrdersChanged","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","loadOrders","onRemoveOrder","onUpdateOrder","updatedOrder","DatesPicker2","handleSelect","selection","onSelectDates","toTimeStamp","selectionRange","key","classNames","rangeColors","ranges","GuestsCheckoutModal","onSelectGuests","toggleGuestsModal","guests","adults","kids","infants","_CheckoutForm","isGuestPopupOn","isCheckoutToReserve","isStayReserved","toggleDatesModal","getTripPrice","start","totalNights","totalPrice","calcGuestNum","fullname","buyer","onAddOrder","onCloseModal","getMouseCord","getBtnDivs","divStr","datesModalPos","handleChange","getBoundingClientRect","bottom","orderToAdd","notif","byUser","fullName","createdAt","isRead","savedOrder","CheckoutForm","ReadMore","onToogleReadModal","ReviewsPreview","isReadMoreOn","by","substring","_ReviewsList","slice","ReviewsList","_StayMap","center","lat","lng","onMapClicked","latLng","onMarkerClicked","isInfoWindowOn","onInfoWindowClose","containerStyle","position","margin","google","zoom","initialCenter","visible","StayMap","GoogleApiWrapper","apiKey","_AddReview","newReview","cleanliness","communication","checkIn","accuracy","onRemove","removeReview","clearReview","field","changeRating","formSubmited","preventDefault","onSubmit","initialRating","fullSymbol","emptySymbol","TextareaAutosize","resize","borderRadius","borderColor","fontFamily","fontSize","placeholder","autoComplete","AddReview","ReviewAvg","totalAvg","getAvrage","avgScore","getTotalAvg","totalReviewAvg","Object","keys","setReviewsAvg","types","toUpperCase","_StayDetails","stayReviews","match","loadStay","summary","StayDetails","_LoginSignup","password","isSignup","clearTemplate","editedNotif","notifTxt","toggleSignup","responseGoogle","_LoginPage","withRouter","isSignUp","byUserImg","goBack","toggleSignUp","required","LoginPage","_TripPreview","getTime","onCancelTrip","onRemoveTrip","tripId","onCancelOrder","buyerId","TripPreview","TripsList","trips","_TripsPage","travelImg","TripsPage","_AddStayMap","selectedPlace","geocodeByAddress","results","getLatLng","handleAddressChange","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","TextField","suggestion","active","cursor","description","AddStayMap","_AddStay","newStay","assetSpace","labels","countryCode","handleAmenityChange","checked","handleSelectChange","onAddsStay","ImgUrl","noImg","onUploadImg","UPLOAD_URL","file","files","formData","FormData","append","fetch","body","json","console","options","label","variant","AddStay","HostStaysList","getData","editedOrder","dataStays","stayName","link","unshift","title","columns","sort","_OrdersDashboard","timestamp","dataOrders","buyerName","buyerImg","checkOut","approveBtn","onApproveOrder","onDeclinelOrder","getTotalRate","totalRate","getTotalPrice","getOrdersStatus","Intl","NumberFormat","currency","format","OrdersDashboard","_HostPage","selectedTab","onClearFilter","onGetHostStays","onChangeTab","Tabs","textColor","indicatorColor","Tab","HostPage","_BecomeAHost","onBecomeHost","BecomeAHost","_NotificationsPage","editedNotification","dataNotifications","notification","userUnreadNotifs","routes","path","component","GuestsModal","onSelectAmount","LocationsPopUp","onSetLocationPopUp","onPushTo","_SearchBar","onGetQueryParams","urlParams","URLSearchParams","search","capitalizeArray","str","newStr","currWord","capitalize","join","guestType","onSetFilter","urlQuery","locModal","onToggleSearchModals","onToggleMiniSearchBar","back","SearchBar","_UserMenu","isLoginModalOn","onCloseLogin","onOpenLogin","onOpenBotLogin","some","UserMenu","_AppHeader","isUserMenuOpen","isLoginBotmodal","isMiniInput","isNotifRead","onScrollCloseModals","onCheckRead","AppHeader","TopRatedStays","eventBusService","callListener","detail","dispatchEvent","CustomEvent","showUserMsg","myBus","UserMsg","msg","removeEvent","msgClass","FooterLocations","NearbyStays","_AppFooter","isCartShown","topRatedStays","nearbyStays","filterLocs","removeFromCart","checkout","total","changeScore","carId","AppFooter","_UserDetails","loadAndWatchUser","UserDetails","RootCmp","route","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.893762c6.chunk.js","sourcesContent":["const initialState = {\r\n    stays: [],\r\n    bookedTrip: null,\r\n    stay: null,\r\n    review: null,\r\n    lastRemovedStay: null,\r\n    isMiniHeader: true,\r\n    filterBy: {\r\n        startDate: null,\r\n        endDate: null,\r\n        location: '',\r\n        adultNumber: 0,\r\n        kidsNumber: 0,\r\n        infantsNumber: 0,\r\n        capacity: 0,\r\n        amenities: '',\r\n        assetType: '',\r\n        uniqueStay: '',\r\n        guestModal: false,\r\n        datesModal: false,\r\n        hostId: ''\r\n    }\r\n}\r\nexport function stayReducer(state = initialState, action) {\r\n    var newState = state\r\n    var stays\r\n    var cart\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            newState = { ...state, stays: action.stays }\r\n            break\r\n        case 'SET_STAY':\r\n            newState = { ...state, stay: action.stay }\r\n            break\r\n        case 'REMOVE_STAY':\r\n            const lastRemovedStay = state.stays.find(stay => stay._id === action.stayId)\r\n            stays = state.stays.filter(stay => stay._id !== action.stayId)\r\n            newState = { ...state, stays, lastRemovedStay }\r\n            break\r\n        case 'ADD_STAY':\r\n            newState = { ...state, stays: [...state.stays, action.stay] }\r\n            break\r\n        case 'SET_HEADER':\r\n            newState = { ...state, isMiniHeader: action.isMiniHeader }\r\n            break\r\n        case 'SET_FILTER':\r\n            newState = { ...state, filterBy: { ...action.filter } }\r\n            break;\r\n        case 'UPDATE_STAY':\r\n            stays = state.stays.map(stay => (stay._id === action.stay._id) ? action.stay : stay)\r\n            newState = { ...state, stays, stay: action.stay }\r\n            break\r\n\r\n        case 'REMOVE_FROM_CART':\r\n            cart = state.cart.filter(stay => stay._id !== action.stayId)\r\n            newState = { ...state, cart }\r\n            break\r\n        case 'CLEAR_CART':\r\n            newState = { ...state, cart: [] }\r\n            break\r\n        case 'UNDO_REMOVE_STAY':\r\n            if (state.lastRemovedStay) {\r\n                newState = { ...state, stays: [...state.stays, state.lastRemovedStay], lastRemovedStay: null }\r\n            }\r\n            break\r\n        default:\r\n    }\r\n    // For debug:\r\n    window.stayState = newState\r\n\r\n    return newState\r\n\r\n}\r\n","import * as stays from '../data/stays-data.json';\r\nimport * as users from '../data/users-data.json';\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n    postMany\r\n}\r\nlet gStays = stays.default;\r\nlet gUsers = users.default;\r\n\r\nfunction query(entityType, delay = 200, filterBy) {\r\n    var entities;\r\n    var filterdEntities = []\r\n    if (entityType === 'stay') entities = JSON.parse(localStorage.getItem(entityType)) || _save('stay', gStays);\r\n    if (entityType === 'user') entities = JSON.parse(localStorage.getItem(entityType)) || _save('user', gUsers);\r\n    if (entityType === 'order') entities = JSON.parse(localStorage.getItem(entityType)) || _save('order',[]);\r\n    // var entities = JSON.parse(localStorage.getItem(entityType)) \r\n    if (filterBy) {\r\n        if (filterBy.location) {\r\n            const regex = new RegExp(filterBy.location, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.loc.address.split(',')[0]))\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.assetType) {\r\n            const regex = new RegExp(filterBy.assetType, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.assetType))\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.amenities) {\r\n            const regex = new RegExp(filterBy.amenities, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.amenities))\r\n            return filterdEntities\r\n\r\n        }\r\n        if (filterBy.capacity) {\r\n            filterdEntities = entities.filter(entity => entity.capacity >= filterBy.capacity)\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.uniqueStay) {\r\n            filterdEntities = entities.filter(entity => entity.uniqueStay)\r\n            return filterdEntities;\r\n        }\r\n\r\n\r\n    }\r\n    // return new Promise((resolve, reject) => {\r\n    //     setTimeout(() => {\r\n    //         // reject('OOOOPs')\r\n    //         resolve(entities)\r\n    //     }, delay)\r\n    // })\r\n    return Promise.resolve(entities)\r\n}\r\n\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n    // .then(entities =>)\r\n}\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n    .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}\r\n\r\nfunction postMany(entityType, newEntities) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            newEntities = newEntities.map(entity => ({ ...entity, _id: _makeId() }))\r\n            entities.push(...newEntities)\r\n            _save(entityType, entities)\r\n            return entities\r\n        })\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        if (err.response && err.response.status === 401) {\r\n            sessionStorage.clear();\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\n// import { socketService, SOCKET_EVENT_USER_UPDATED } from './socket.service'\r\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\r\nvar gWatchedUser = null;\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n}\r\n\r\nwindow.userService = userService\r\n\r\n\r\nasync function getUsers() {\r\n    const users = await httpService.get(`user`)\r\n    return users\r\n\r\n}\r\n\r\nasync function getById(userId) {\r\n    const user = await httpService.get(`user/${userId}`)\r\n    gWatchedUser = user;\r\n    return user;\r\n}\r\nfunction remove(userId) {\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // await storageService.put('user', user)\r\n    // Handle case in which admin updates other user's details\r\n    const updatedUser = await httpService.put(`user/${user._id}`, user)\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(updatedUser)\r\n\r\n    return updatedUser;\r\n}\r\n\r\nasync function login(userCred) {\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    // socketService.emit('set-user-socket', user._id);\r\n    if (user) return _saveLocalUser(user)\r\n}\r\nasync function signup(userCred) {\r\n    userCred.isHost = false;\r\n    userCred.imgUrl = '/img/img1.jpg';\r\n    // userCred.myStays = [];\r\n    userCred.notifications = [];\r\n    userCred.mySaves = []\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    // socketService.emit('set-user-socket', user._id);\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\r\n    // socketService.emit('unset-user-socket');\r\n    return await httpService.post('auth/logout')\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER) || 'null')\r\n    \r\n}\r\n\r\n\r\n\r\n// This IIFE functions for Dev purposes \r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n(async () => {\r\n    // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n\r\n    // Here we are listening to changes for the watched user (comming from other browsers)\r\n    window.addEventListener('storage', async () => {\r\n        if (!gWatchedUser) return;\r\n        const freshUsers = await storageService.query('user')\r\n        const watchedUser = freshUsers.find(u => u._id === gWatchedUser._id)\r\n        if (!watchedUser) return;\r\n        //     socketService.emit(SOCKET_EVENT_USER_UPDATED, watchedUser)\r\n        // }\r\n        gWatchedUser = watchedUser\r\n    })\r\n})();\r\n\r\n// This is relevant when backend is connected\r\n// (async () => {\r\n//     var user = getLoggedinUser()\r\n//     if (user) socketService.emit('set-user-socket', user._id)\r\n// })();\r\n\r\n","import { userService } from '../services/user.service.js'\r\n\r\n\r\nconst initialState = {\r\n    count: 10,\r\n    user: userService.getLoggedinUser(),\r\n    users: [],\r\n    watchedUser: null\r\n}\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    var users\r\n    switch (action.type) {\r\n      \r\n        case 'SET_USER':\r\n            newState = { ...state, user: action.user }\r\n            break;\r\n        case 'SET_WATCHED_USER':\r\n            newState = { ...state, watchedUser: action.user }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: action.users }\r\n            break;\r\n        case 'UPDATE_USER':\r\n            users = state.users.map(user => (user._id === action.user._id) ? action.user : user)\r\n            newState = { ...state, users,user:action.user }\r\n            break\r\n        case 'SET_SCORE':\r\n            newState = { ...state, user: { ...state.user, score: action.score } }\r\n            break;\r\n        default:\r\n    }\r\n    // For debug:\r\n    // window.userState = newState;\r\n\r\n    return newState;\r\n\r\n}\r\n","const initialState = {\r\n  reviews: [],\r\n}\r\n\r\nexport function reviewReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews }\r\n    case 'ADD_REVIEW':\r\n      return { ...state, reviews: [...state.reviews, action.review] }\r\n    case 'REMOVE_REVIEW':\r\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","const initialState = {\r\n    orders: [],\r\n    order: null\r\n}\r\nexport function orderReducer(state = initialState, action) {\r\n    var newState = state\r\n    var orders\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            newState = { ...state, orders: action.orders }\r\n            break\r\n        case 'SET_ORDER':\r\n            newState = { ...state, order: action.order }\r\n            break\r\n        case 'REMOVE_ORDER':\r\n            const lastRemovedOrder = state.orders.find(order => order._id === action.orderId)\r\n            orders = state.orders.filter(order => order._id !== action.orderId)\r\n            newState = { ...state, orders, lastRemovedOrder }\r\n            break\r\n        case 'ADD_ORDER':\r\n            newState = { ...state, orders: [...state.orders, action.order] }\r\n            break\r\n        case 'UPDATE_ORDER':\r\n            orders = state.orders.map(order => (order._id === action.order._id) ? action.order : order)\r\n            newState = { ...state, orders, order: action.order }\r\n            break\r\n        default:\r\n            break;\r\n    }\r\n\r\n    // For debug:\r\n    window.orderState = newState\r\n\r\n    return newState\r\n\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { stayReducer } from './stay.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { reviewReducer } from './review.reducer'\r\nimport { systemReducer } from './system.reducer'\r\nimport { orderReducer } from './order.reducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    stayModule: stayReducer,\r\n    userModule: userReducer,\r\n    systemModule: systemReducer,\r\n    reviewModule: reviewReducer,\r\n    orderModule: orderReducer\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/pets-allowed.3367843a.jpg\";","export default __webpack_public_path__ + \"static/media/entire-duplex.ffefbac4.jpg\";","export default __webpack_public_path__ + \"static/media/large-capacity.009296c6.jpg\";","export default __webpack_public_path__ + \"static/media/unique-stays.a435de4d.jpg\";","import { httpService } from './http.service.js'\r\n\r\nconst listeners = []\r\n\r\nexport const stayService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n    subscribe,\r\n    update,\r\n    filterPageStays\r\n}\r\nwindow.cs = stayService;\r\n\r\nasync function query(filterBy = {}) {\r\n    const stays = await httpService.get('stay', { params: filterBy })\r\n    return stays\r\n}\r\nasync function getById(stayId) {\r\n    const stay = await httpService.get(`stay/${stayId}`)\r\n    return stay\r\n}\r\nfunction remove(stayId) {\r\n    return httpService.delete(`stay/${stayId}`)\r\n}\r\nasync function save(stay) {\r\n    return httpService.post('stay', stay)\r\n\r\n}\r\nasync function update(stay) {\r\n    const UpdatedStay = await httpService.put(`stay/${stay._id}`, stay)\r\n    return UpdatedStay;\r\n}\r\n\r\n\r\nfunction filterPageStays(filterBy, stays) {\r\n    var filterdStays = stays\r\n    // if (!Object.values(filterBy.amenities).includes(true)) {\r\n    //     filterdStays = stays\r\n    // } else {\r\n\r\n    //     filterdStays = filterdStays.filter(stay => {\r\n    //     })\r\n    // }\r\n    if (filterBy.amenities.length) {\r\n        filterdStays = filterdStays.filter(stay => {\r\n            let isStay = true\r\n            filterBy.amenities.forEach(amenity => {\r\n                if (!stay.amenities.includes(amenity)) isStay = false\r\n            })\r\n            return isStay\r\n        })\r\n    }\r\n\r\n    if (filterBy.placeType) {\r\n        filterdStays = filterdStays.filter(stay => stay.assetType.split(' ')[0] === filterBy.placeType.split(' ')[0])\r\n    }\r\n    if (filterBy.PropertyType) {\r\n        filterdStays = filterdStays.filter(stay => stay.assetType.toLowerCase().split(' ')[1] === filterBy.PropertyType.toLowerCase())\r\n    }\r\n    filterdStays = filterdStays.filter(stay => stay.price >= filterBy.priceRange[0] && stay.price <= filterBy.priceRange[1])\r\n    return filterdStays\r\n}\r\nfunction subscribe(listener) {\r\n    listeners.push(listener)\r\n}\r\n\r\nfunction _notifySubscribersStaysChanged(stays) {\r\n    listeners.forEach(listener => listener(stays))\r\n}\r\n\r\nwindow.addEventListener('storage', () => {\r\n    query()\r\n        .then(stays => {\r\n            _notifySubscribersStaysChanged(stays)\r\n        })\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { stayService } from \"../services/stay.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nexport function loadStays(filterBy = null) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const stays = await stayService.query(filterBy)\r\n            dispatch({\r\n                type: 'SET_STAYS',\r\n                stays\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadStay(stayId) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const stay = await stayService.getById(stayId)\r\n            dispatch({ type: 'SET_STAY', stay })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function onRemoveStay(stayId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await stayService.remove(stayId)\r\n            dispatch({\r\n                type: 'REMOVE_STAY',\r\n                stayId\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function onAddStay(stayToAdd) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const savedStay = await stayService.save(stayToAdd)\r\n\r\n            dispatch({\r\n                type: 'ADD_STAY',\r\n                stay: savedStay\r\n            })\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy) {\r\n    return async (dispatch) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_FILTER',\r\n                filter: filterBy\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function setMiniHeader(isMiniHeader) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_HEADER',\r\n                isMiniHeader\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onEditStay(stayToSave) {\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedStay = await stayService.update(stayToSave)\r\n            dispatch({\r\n                type: 'UPDATE_STAY',\r\n                stay: updatedStay\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function removeFromCart(carId) {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'REMOVE_FROM_CART',\r\n            carId\r\n        })\r\n    }\r\n}\r\n\r\nexport function checkout() {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const state = getState()\r\n            const total = state.stayModule.cart.reduce((acc, stay) => acc + stay.price, 0)\r\n            const score = await userService.changeScore(-total)\r\n            dispatch({ type: 'SET_SCORE', score })\r\n            dispatch({ type: 'CLEAR_CART' })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport pet from '../assets/img/pets-allowed.jpg'\r\nimport duplex from '../assets/img/entire-duplex.jpg'\r\nimport cap from '../assets/img/large-capacity.jpg'\r\nimport unique from '../assets/img/unique-stays.jpg'\r\nimport { setFilter, setMiniHeader } from '../store/stay.actions';\r\nconst locations = [{ city: 'Porto', country: 'Portugal', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png' }, { city: 'Barcelona', country: 'Spain', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png' }, { city: 'Tel Aviv', country: 'Israel', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png' }, { city: 'Paris', country: \"France\", imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg' }, { city: 'London', country: 'United Kingdom', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg' }, { city: 'New York', country: 'United States', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png' }, { city: 'Amsterdam', country: 'Netherlands', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg' }, { city: 'Rome', country: 'Italy', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png' }]\r\n\r\nclass _HomePage extends React.Component {\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        this.props.setMiniHeader(false)\r\n        window.addEventListener('resize', this.setHeaderDisplay)\r\n        this.setHeaderDisplay()\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.setMiniHeader(true)\r\n        window.removeEventListener('resize', this.setHeaderDisplay)\r\n        window.removeEventListener('scroll', this.onSetMiniHeader)\r\n    }\r\n    onSetMiniHeader = (ev) => {\r\n        if (ev.target.scrollingElement.scrollTop > 50) {\r\n            this.props.setMiniHeader(true)\r\n        } else {\r\n            this.props.setMiniHeader(false)\r\n        }\r\n    }\r\n    setHeaderDisplay = () => {\r\n        if (window.innerWidth <= 780) {\r\n            window.removeEventListener('scroll', this.onSetMiniHeader)\r\n            this.props.setMiniHeader(true)\r\n        } else {\r\n            window.addEventListener('scroll', this.onSetMiniHeader)\r\n            this.props.setMiniHeader(false)\r\n        }\r\n    }\r\n    changeCount = (diff) => {\r\n        const action = { type: 'CHANGE_COUNT', diff }\r\n        this.props.dispatch(action)\r\n    }\r\n    onClickLoc = (val, type) => {\r\n        const newFilter = { ...this.props.filterBy }\r\n        newFilter[type] = val\r\n        this.props.setFilter(newFilter)\r\n        this.props.history.push('/explore')\r\n    }\r\n    render() {\r\n        return (\r\n            <section className=\"home-page flex column main-container\">\r\n                <div className=\"hero  full flex justify-center align-center\">\r\n                    <div className=\"where-to-go flex justify-center align-center\">\r\n                        <h3>Not sure where to go? Perfect.</h3>\r\n                        <button className=\"flex-btn flex justify-center align-center\">\r\n                            <Link to=\"/explore\">I'm flexible\r\n                            </Link>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"sug-loc\">\r\n                    <h2>Popular destinations</h2>\r\n                    <div className=\"locations\">\r\n                        {locations.map((location, idx) => <div key={idx + 1} className=\"loc-section flex\">\r\n                            <img src={location.imgUrl} alt=\"\" className=\"loc-img\" onClick={() => { this.onClickLoc(location.city, 'location') }} />\r\n                            <div className=\"loc-info flex column justify-center\">\r\n                                <p className=\"city-name\">{location.city}</p>\r\n                                <p className=\"country-name\">{location.country}</p>\r\n                            </div>\r\n                        </div>)}\r\n                    </div>\r\n                </div>\r\n                <div className=\"live-any flex column\">\r\n                    <h2>Live Anywhere</h2>\r\n                    <div className=\"live-loc flex space-between\">\r\n\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('duplex', 'assetType') }} src={duplex} />\r\n                            <p>Entire duplex</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('Pets allowed', 'amenity') }} src={pet} />\r\n                            <p>Pets Allowed</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc(7, 'capacity') }} src={cap} />\r\n                            <p>Large capacity</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('unique', 'uniqueStay') }} src={unique} />\r\n                            <p>Unique stays</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"host-banner flex column justify-center\">\r\n                    <h1>Try hosting</h1>\r\n                    <p>Earn extra income and unlock new opportunities by sharing your space</p>\r\n                    <button className=\"try-host-btn\" onClick={()=>(this.props.user.isHost) ?this.props.history.push('/host') : this.props.history.push('/become-a-host')}>Learn More</button>\r\n                </div>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        count: state.userModule.count,\r\n        filterBy: state.stayModule.filterBy,\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setFilter,\r\n    setMiniHeader\r\n}\r\n\r\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { CSSTransitionGroup } from 'react-transition-group'\r\n\r\n\r\nfunction FancyBox(props) {\r\n    return <div className=\"fancy-box\">\r\n        <button style={{ float: 'right' }} onClick={props.onClose}>x</button>\r\n        {props.children}\r\n        {/* //loggiii// */}\r\n    </div>\r\n}\r\n\r\nFancyBox.propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n}\r\n\r\nfunction Contacts() {\r\n    return <section style={{ height: '50vh', backgroundColor: 'pink' }}>\r\n        <h2>Contacts</h2>\r\n    </section>\r\n}\r\nfunction Projects() {\r\n    const [projs, setProjs] = useState(['Puki Proj', 'Muki Proj'])\r\n    const projList = projs.map((proj, idx) => (\r\n        <div className=\"proj-preview\" key={proj} onClick={(ev) => {\r\n            ev.stopPropagation();\r\n            setProjs(projs.filter(p => p !== proj))\r\n        }}>\r\n            {proj}\r\n        </div>\r\n    ));\r\n    return <section style={{ height: '50vh', backgroundColor: 'lightblue' }}>\r\n        <h2>Projects</h2>\r\n        <CSSTransitionGroup transitionName=\"example\" transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={300}>\r\n            {projList}\r\n        </CSSTransitionGroup>\r\n        <button onClick={ev => {\r\n            ev.stopPropagation();\r\n            setProjs([...projs, 'Babu Proj' + Date.now() % 100])\r\n        }}>Add</button>\r\n    </section >\r\n}\r\n\r\nfunction SplitPane(props) {\r\n\r\n    const [width, setWidth] = useState(30)\r\n\r\n    if (false && width === 60) {\r\n        throw new Error('Projects cannot load')\r\n    }\r\n    return (\r\n        <div className=\"split-pane\" style={{\r\n            display: 'flex'\r\n        }}>\r\n            <div style={{ width: width + '%' }} onClick={() => {\r\n                if (width + 10 <= 100) setWidth(width + 10)\r\n            }}>\r\n                {props.left}\r\n            </div>\r\n            <div style={{ flex: 1 }} onClick={() => {\r\n                if (width > 10) setWidth(width - 10)\r\n            }}>\r\n                {props.right}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport class AboutUs extends React.Component {\r\n    state = {\r\n        count: 1000,\r\n    }\r\n    componentDidMount() {\r\n        // this.interval = setInterval(() => {\r\n        //     this.setState(({ count }) => ({ count: count + utilService.getRandomIntInclusive(5, 20) }))\r\n        // }, 2500)\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    shouldComponentUpdate() {\r\n        return true\r\n    }\r\n\r\n    onTellMeMore = () => {\r\n    }\r\n    render() {\r\n        const { count } = this.state\r\n        return (\r\n            <section>\r\n                <h2>About Us</h2>\r\n                <MyErrorBoundary>\r\n\r\n                    <SplitPane\r\n                        left={\r\n                            <Contacts />\r\n                        }\r\n                        right={\r\n                            <Projects />\r\n                        } />\r\n\r\n                </MyErrorBoundary>\r\n\r\n            <FancyBox >\r\n                    <h3>{count.toLocaleString()}Followers</h3>\r\n                    <button onClick={this.onTellMeMore}>TellmeMore</button>\r\n                </FancyBox>\r\n\r\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni aperiam quo veniam velit dolor reprehenderit, laudantium consequatur neque numquam labore quae. Accusamus libero perferendis ducimus? Alias unde hic quisquam doloremque.</p>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass MyErrorBoundary extends React.Component {\r\n    state = { error: null, errorInfo: null };\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        // Catch errors in children and re-render with error message\r\n        // Note: in development the error is still presented on screen and you need to ESC to see the fallback UI\r\n        this.setState({\r\n            error,\r\n            errorInfo\r\n        })\r\n        // TODO: Log error to an error reporting service\r\n        // logger.report(error)\r\n    }\r\n    render() {\r\n        if (this.state.errorInfo) {\r\n            // Error path\r\n            return (\r\n                <div>\r\n                    <h2>Something went wrong.</h2>\r\n\r\n                    <details style={{ whiteSpace: 'pre-wrap' }}>\r\n                        {this.state.error && this.state.error.toString()}\r\n                        <br />\r\n                        {this.state.errorInfo.componentStack}\r\n                    </details>\r\n                </div>\r\n            );\r\n        }\r\n        // Normally, just render children\r\n        return this.props.children;\r\n    }\r\n}\r\n","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    delay,\r\n    toTimestamp,\r\n    timeToShow\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\n\r\nfunction toTimestamp(strDate) {\r\n    var datum = Date.parse(strDate);\r\n    return datum / 1000;\r\n}\r\nfunction timeToShow(date) {\r\n    var timeStamp = (typeof date === 'string') ? Date.parse(date) : date;\r\n    var time = new Date(timeStamp);\r\n    var day = \"0\" + time.getDate();\r\n    var month = \"0\" + (time.getMonth() + 1);\r\n    var year = \"0\" + time.getFullYear();\r\n    var formattedTime = day.substr(-2) + '/' + month.substr(-2) + '/' + year.substr(-2);\r\n    return formattedTime\r\n}\r\n","import { userService } from \"../services/user.service.js\";\r\nimport { utilService } from \"../services/util.service.js\";\r\n// import { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\r\n\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\nexport function loadUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const user = await userService.getById(userId)\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function updateUser(userToSave) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedUser = await userService.update(userToSave)\r\n            dispatch({\r\n                type: 'UPDATE_USER',\r\n                user: updatedUser\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onSignup(credentials) {\r\n    return (dispatch) => {\r\n        userService.signup(credentials)\r\n            .then(user => {\r\n                dispatch({\r\n                    type: 'SET_USER',\r\n                    user\r\n                })\r\n            })\r\n            .catch(err => {\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return (dispatch) => {\r\n        userService.logout()\r\n            .then(() => dispatch({\r\n                type: 'SET_USER',\r\n                user: null\r\n            }))\r\n            .catch(err => {\r\n            })\r\n    }\r\n}\r\nexport function onBecomeHost(userId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(userId)\r\n            user.isHost = true\r\n            const updatedUser = await userService.update(user)\r\n            dispatch({\r\n                type: 'UPDATE_USER', user: updatedUser\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n}\r\nexport function onToggleLikedStay(savedStayId, isLiked, userId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(userId)\r\n            if (isLiked) {\r\n                user.mySaves.push(savedStayId)\r\n            } else {\r\n                user.mySaves = user.mySaves.filter(saved => saved !== savedStayId)\r\n            }\r\n            const savedUser = await userService.update(user)\r\n            dispatch({ type: 'UPDATE_USER', savedUser })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onBookTrip(trip) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(trip.user._id)\r\n            const hostUser = await userService.getById(trip.stay.host._id)\r\n            const orderId = utilService.makeId()\r\n\r\n            const userTrip = trip\r\n            userTrip.id = orderId\r\n            const hostOrder = trip\r\n            hostOrder.id = orderId\r\n\r\n            if (!hostUser.orders) hostUser.orders = []\r\n            if (!user.myTrips) user.myTrips = []\r\n            hostUser.orders.push(hostOrder)\r\n            user.myTrips.push(userTrip)\r\n\r\n            const updatedUser = await userService.update(user)\r\n            const updatedHost = await userService.update(hostUser)\r\n            dispatch({ type: 'UPDATE_USER', user: updatedUser })\r\n            dispatch({ type: 'UPDATE_USER', user: updatedHost })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadAndWatchUser(userId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            // const user = await userService.getById(userId);\r\n            // dispatch({ type: 'SET_WATCHED_USER', user })\r\n            // socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\r\n            // socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n            // socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n            //     dispatch({ type: 'SET_WATCHED_USER', user })\r\n            // })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\n\r\nexport default class LazyLoad extends Component {\r\n\r\n    render() {\r\n        var settings = {\r\n            dots: true,\r\n            infinite: true,\r\n            speed: 500,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            arrows: true,\r\n      \r\n        };\r\n\r\n        const { imgs } = this.props\r\n\r\n        return (\r\n            <Slider {...settings} className=\"preview-slider\">\r\n                {imgs.map((img,idx) => {\r\n                    return (\r\n                        <div key={idx}>\r\n                            <img  src={img} alt=\"Preview img\" />\r\n                        </div>\r\n                    )\r\n                })}\r\n            </Slider>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { FaStar, } from \"react-icons/fa\";\r\nimport { onToggleLikedStay, updateUser } from '../store/user.actions.js'\r\n\r\nimport LazyLoad from \"./preview-slider\"\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nclass _StayPreview extends React.Component {\r\n    state = {\r\n        isLiked: false\r\n    }\r\n    componentDidMount() {\r\n        this.isStayLiked()\r\n    }\r\n    onToggleLikeStay = (ev, stay) => {\r\n        ev.stopPropagation()\r\n        const { user } = this.props\r\n        const { isLiked } = this.state\r\n        if (user) {\r\n            this.setState({ isLiked: !isLiked }, () => {\r\n                this.props.onToggleLikedStay(stay._id, !isLiked, user._id)\r\n            })\r\n        }\r\n        else {\r\n           \r\n        }\r\n    }\r\n    isStayLiked = () => {\r\n        const { user, stay } = this.props\r\n        if (user) {\r\n            if (user.mySaves && user.mySaves.length) {\r\n                const isLiked = user.mySaves.filter(saved => saved === stay._id)\r\n                if (isLiked.length) {\r\n                    this.setState({ isLiked: true })\r\n                }\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                {this.props.stay.name && <div className=\"stay-preview square-ratio\" onClick={(ev) => {\r\n                    if (ev.target.className === 'slick-arrow slick-prev' || ev.target.className === 'slick-arrow slick-next' || ev.target.className.baseVal === 'MuiSvgIcon-root') return\r\n                    this.props.history.push(`/stay/${this.props.stay._id}`)\r\n                }} >\r\n                    <div className=\"preview-wrapper flex column\">\r\n                        <div className=\"\r\n                           \">\r\n                            {!this.state.isLiked ? <FavoriteIcon className=\"unliked\" onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} /> :\r\n                                <FavoriteIcon size={13} onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} />\r\n                            }\r\n                            {/* {this.state.isLiked && <FavoriteIcon size={13} onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} />} */}\r\n                            <LazyLoad imgs={this.props.stay.imgUrls} />\r\n                        </div>\r\n                        <div className=\"preview-details \">\r\n                            <div className=\"preview-rating flex align-center\">\r\n                                <span className=\"rating-star\">\r\n                                    <FaStar size={13} color=\"#FF5A5F\" />\r\n                                </span>\r\n                                <p className=\"preview-rating-amount\">{this.props.stay.reviewsAvg ? this.props.stay.reviewsAvg : 0}</p>\r\n                                <span className=\"preview-review-count flex\"><span>(</span>{this.props.stay.demoReviews} reviews<span>)</span></span>\r\n                            </div>\r\n                            <div className=\"stay-style flex\">\r\n                                <h3><span>{this.props.stay.assetType}</span> &#183; <span>{this.props.stay.loc.address.split(',')[0]}</span></h3>\r\n                            </div>\r\n                            <div className=\"stay-name\" >\r\n                                <h3>{this.props.stay.name}</h3>\r\n                            </div>\r\n                            <div className=\"preview-price\" >\r\n                                <h3><span className=\"preview-price-amount\">${this.props.stay.price}</span> / night</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onToggleLikedStay,\r\n    updateUser\r\n}\r\n\r\n\r\n\r\nexport const StayPreview = connect(mapStateToProps, mapDispatchToProps)(_StayPreview)","import { StayPreview } from \"./stay-preview\";\r\n\r\nexport function StaysList({ stays, history }) {\r\n    return (\r\n        <div className=\"stay-list\">\r\n            {stays.map((stay, idx) =>\r\n                <StayPreview key={idx} stay={stay} history={history}  />\r\n            )}\r\n        </div>)\r\n}","import React from \"react\"\r\nexport class DynamicModal extends React.Component {\r\n\r\n    render() {\r\n        const styleClass = this.props.children.length ? this.props.children[0].props.className : this.props.children.props.className\r\n\r\n        return (\r\n            <div className={`dynamic-sort-modal ${styleClass}`}>\r\n                {/* {this.props.children} */}\r\n                {this.props.children.length ? this.props.children.map((child, index) => (<div key={index}>{child}</div>)) : this.props.children}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Slider, { SliderThumb } from '@mui/material/Slider';\r\nimport { styled } from '@mui/material/styles';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport Box from '@mui/material/Box';\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, value } = props;\r\n\r\n  return (\r\n    <Tooltip enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nValueLabelComponent.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst AirbnbSlider = styled(Slider)(({ theme }) => ({\r\n  color: '#3a8589',\r\n  height: 3,\r\n  padding: '13px 0',\r\n  '& .MuiSlider-thumb': {\r\n    height: 27,\r\n    width: 27,\r\n    backgroundColor: '#fff',\r\n    border: '1px solid currentColor',\r\n    '&:hover': {\r\n      boxShadow: '0 0 0 8px rgba(58, 133, 137, 0.16)',\r\n    },\r\n    '& .airbnb-bar': {\r\n      height: 9,\r\n      width: 1,\r\n      backgroundColor: 'currentColor',\r\n      marginLeft: 1,\r\n      marginRight: 1,\r\n    },\r\n  },\r\n  '& .MuiSlider-track': {\r\n    height: 3,\r\n  },\r\n  '& .MuiSlider-rail': {\r\n    color: theme.palette.mode === 'dark' ? '#bfbfbf' : '#d8d8d8',\r\n    opacity: theme.palette.mode === 'dark' ? undefined : 1,\r\n    height: 3,\r\n  },\r\n}));\r\n\r\nfunction AirbnbThumbComponent(props) {\r\n  const { children, ...other } = props;\r\n  return (\r\n    <SliderThumb {...other}>\r\n      {children}\r\n      <span className=\"airbnb-bar\" />\r\n      <span className=\"airbnb-bar\" />\r\n      <span className=\"airbnb-bar\" />\r\n    </SliderThumb>\r\n  );\r\n}\r\n\r\nAirbnbThumbComponent.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default function PriceRangeSlider({ onCalcAllStaysPriceAvg, onSetPageFilter, allStaysPriceAvg }) {\r\n  const [value, setValue] = React.useState([20, 600])\r\n  onCalcAllStaysPriceAvg()\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue)\r\n    onSetPageFilter('priceRange', newValue)\r\n  }\r\n\r\n  return (\r\n    <div className=\"price-range-container flex \">\r\n      <Box sx={{ width: 320 }}>\r\n        <p className=\"stays-price-avg\">{`The average nightly price is  $${allStaysPriceAvg.toFixed(0) ? allStaysPriceAvg.toFixed(0) : ''}`}</p>\r\n        <Box sx={{ m: 3 }} />\r\n        <div className=\"price-slider-container flex justify-center align-center\">\r\n\r\n          <AirbnbSlider\r\n            components={{ Thumb: AirbnbThumbComponent }}\r\n            getAriaLabel={(index) => (index === 0 ? 'Minimum price' : 'Maximum price')}\r\n            defaultValue={[20, 600]}\r\n            onChange={handleChange}\r\n            max={600}\r\n          />\r\n        </div>\r\n        <div className=\"picks-container \">\r\n          <div className=\"min-price flex column \">\r\n            <span className=\"price-range-span\" htmlFor=\"minPrice\">Min price</span>\r\n            <div>\r\n              <span className=\"price-range-span\">$</span>\r\n              <input className=\"min-input\" type=\"number\" value={value[0]} />\r\n            </div>\r\n          </div>\r\n          <div className=\"max-price flex column \">\r\n            <span className=\"price-range-span\" htmlFor=\"maxPrice\">Max price</span>\r\n            <div>\r\n              <span className=\"price-range-span\">$</span>\r\n              <input className=\"max-input\" type=\"number\" value={value[1]} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { DynamicModal } from './DynamicModal'\r\nimport PriceRangeSlider from './price-range-slider'\r\nexport class ExploreFilter extends React.Component {\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', (ev) => {\r\n            if (ev.target.scrollingElement.scrollTop > 150) {\r\n                this.props.closeAllModals()\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', (ev) => {\r\n            if (ev.target.scrollingElement.scrollTop > 150) {\r\n                this.props.closeAllModals()\r\n\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { placeTypeIsOpen, PropertyTypeIsOpen, PriceIsOpen, AmenitiesTypeIsOpen } = this.props.modals\r\n        const {allStaysPriceAvg, ameintiesOptions ,onCalcAllStaysPriceAvg} = this.props\r\n        const propertyTypes = ['Loft', 'Studio', 'Penthouse', 'Appartment', 'Hotel', 'Villa', 'Duplex', 'Home']\r\n        return (\r\n            <div className=\"explore-filter flex\">\r\n                <div className=\"sort-type type-of-place\">\r\n                    <button onClick={() => { this.props.onToggleModals('placeTypeIsOpen') }}>Type of place</button>\r\n                    {placeTypeIsOpen && <DynamicModal >\r\n                        <div className=\"place-type\" onClick={(ev) => { this.props.onSetPageFilter('placeType', 'Entire Place') }}>\r\n                            <h1>Entire Place</h1>\r\n                            <p>You'll Have The Place To Yourself</p>\r\n                        </div>\r\n                        <div className=\"place-type\" onClick={(ev) => { this.props.onSetPageFilter('placeType', 'Private Room') }}>\r\n                            <h1>Private Room</h1>\r\n                            <p>You'll Have A Private Room To Yourself</p>\r\n                        </div>\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type property-type\">\r\n                    <button onClick={() => { this.props.onToggleModals('PropertyTypeIsOpen') }}>Property Type</button>\r\n                    {PropertyTypeIsOpen && <DynamicModal >\r\n                        {propertyTypes.map((type, idx) => {\r\n                            return (<div key={idx} className='property-type' onClick={(ev) => { this.props.onSetPageFilter('PropertyType', type) }}>\r\n                                <h1>\r\n                                    {type}\r\n                                </h1>\r\n                            </div>)\r\n                        })}\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type price\">\r\n                    <button onClick={() => { this.props.onToggleModals('PriceIsOpen') }}>Price</button>\r\n                    {PriceIsOpen && <DynamicModal >\r\n                        <PriceRangeSlider onCalcAllStaysPriceAvg={onCalcAllStaysPriceAvg} onSetPageFilter={this.props.onSetPageFilter} allStaysPriceAvg={allStaysPriceAvg} />\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"\">\r\n                </div>\r\n                <div className=\"sort-type amenities-type\">\r\n                    <button onClick={() => { this.props.onToggleModals('AmenitiesTypeIsOpen') }}>Amenities</button>\r\n                    {AmenitiesTypeIsOpen && <DynamicModal >\r\n                        {ameintiesOptions.map((amenity, idx) => {\r\n                            return (<div key={idx} className={amenity.isChecked ? 'amenities-type active' : 'amenities-type'} onClick={() => { this.props.onSetAmenity({ name: amenity.name, isChecked: !amenity.isChecked }) }}>\r\n                                <h1>\r\n                                    {amenity.name}\r\n                                </h1>\r\n                            </div>)\r\n                        })}\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type type-of-place\">\r\n                    <button onClick={this.props.onClearPageFilter}>Clear</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/three-dots.27debe2c.svg\";","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadStays, onAddStay, onEditStay, onRemoveStay, setFilter } from '../store/stay.actions.js'\r\nimport { onBookTrip, loadUser } from '../store/user.actions.js'\r\nimport { StaysList } from '../cmps/stays-list.jsx'\r\nimport { ExploreFilter } from '../cmps/explore-filter.jsx'\r\nimport loader from '../assets/img/three-dots.svg'\r\nimport { stayService } from '../services/stay.service.js'\r\nclass _Explore extends React.Component {\r\n    state = {\r\n        stays: [],\r\n        isScreenOpen: false,\r\n        allStaysPriceAvg: null,\r\n        modals: {\r\n            placeTypeIsOpen: false,\r\n            PropertyTypeIsOpen: false,\r\n            PriceIsOpen: false,\r\n            AmenitiesTypeIsOpen: false,\r\n        },\r\n        frontFilter: {\r\n            placeType: '',\r\n            PropertyType: '',\r\n            priceRange: [20, 600],\r\n            amenities: []\r\n        },\r\n        ameintiesOptions: [\r\n            { name: 'TV', isChecked: false },\r\n            { name: 'Wifi', isChecked: false },\r\n            { name: 'Kitchen', isChecked: false },\r\n            { name: 'Smoking allowed', isChecked: false },\r\n            { name: 'Cooking basics', isChecked: false },\r\n            { name: 'Pets Allowed', isChecked: false },\r\n            { name: 'Hot tub', isChecked: false }\r\n        ]\r\n\r\n    }\r\n    async componentDidMount() {\r\n        try {\r\n            const { user } = this.props\r\n            window.scrollTo(0, 0)\r\n            await this.props.loadStays(this.props.filterBy);\r\n            this.setState({ stays: this.props.stays }, () => {\r\n                this.calcAllStaysPriceAvg(this.state.stays)\r\n            })\r\n            if (user) this.props.loadUser(this.props.user._id)\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.filterBy !== this.props.filterBy) {\r\n            this.props.loadStays(this.props.filterBy);\r\n        }\r\n    }\r\n    onSetAmenity = (amenity) => {\r\n        const name = amenity.name\r\n        const isChecked = amenity.isChecked\r\n        const { ameintiesOptions } = this.state\r\n        const { amenities } = this.state.frontFilter\r\n\r\n        const updatedAmeintiesOpts = ameintiesOptions.map(amenity => (amenity.name === name) ? { name, isChecked } : amenity)\r\n        if (isChecked) amenities.push(name)\r\n        else {\r\n            const idx = amenities.findIndex(amenity => amenity === name)\r\n            amenities.splice(idx, 1)\r\n        }\r\n        this.setState(prevState => ({ ...prevState, frontFilter: { ...this.state.frontFilter, amenities }, ameintiesOptions: updatedAmeintiesOpts }), () => { this.onSetPageFilter('ameneties', this.state.frontFilter.amenities) })\r\n    }\r\n \r\n    onSetPageFilter = (filterType, val, ev) => {\r\n        this.setState({ frontFilter: { ...this.state.frontFilter, [filterType]: val } }, () => {\r\n            const newStays = stayService.filterPageStays(this.state.frontFilter, this.props.stays)\r\n            this.setState({ stays: newStays })\r\n        })\r\n    }\r\n    onToggleScreen = (val) => {\r\n        this.setState({ isScreenOpen: val })\r\n    }\r\n    onClearPageFilter = () => {\r\n        const clearState = {\r\n            stays: this.props.stays,\r\n            isScreenOpen: false,\r\n            allStaysPriceAvg: null,\r\n            modals: {\r\n                placeTypeIsOpen: false,\r\n                PropertyTypeIsOpen: false,\r\n                PriceIsOpen: false,\r\n                AmenitiesTypeIsOpen: false,\r\n            },\r\n            frontFilter: {\r\n                placeType: '',\r\n                PropertyType: '',\r\n                priceRange: [20, 600],\r\n                amenities: []\r\n            },\r\n            ameintiesOptions: [\r\n                { name: 'TV', isChecked: false },\r\n                { name: 'Wifi', isChecked: false },\r\n                { name: 'Kitchen', isChecked: false },\r\n                { name: 'Smoking allowed', isChecked: false },\r\n                { name: 'Cooking basics', isChecked: false },\r\n                { name: 'Pets Allowed', isChecked: false },\r\n                { name: 'Hot tub', isChecked: false }\r\n            ]\r\n    \r\n        }\r\n        this.setState({ ...clearState })\r\n        this.closeAllModals()\r\n    }\r\n\r\n    onRemoveStay = (stayId) => {\r\n        this.props.onRemoveStay(stayId)\r\n    }\r\n    onAddStay = () => {\r\n        this.props.onAddStay()\r\n    }\r\n    onEditStay = (stay) => {\r\n        const price = +prompt('New price?')\r\n        const stayToSave = { ...stay, price }\r\n        this.props.onEditStay(stayToSave)\r\n    }\r\n    onToggleModals = (modal) => {\r\n        this.setState({ modals: { placeTypeIsOpen: false, PropertyTypeIsOpen: false, PriceIsOpen: false, AmenitiesTypeIsOpen: false } }, () => {\r\n            this.onToggleScreen(!this.state.modals[modal])\r\n            this.setState({ modals: { ...this.state.modals, [modal]: !this.state[modal] } })\r\n        })\r\n    }\r\n    closeAllModals = () => {\r\n        this.onToggleScreen(false)\r\n        this.setState({ modals: { placeTypeIsOpen: false, PropertyTypeIsOpen: false, PriceIsOpen: false, AmenitiesTypeIsOpen: false } })\r\n    }\r\n    calcAllStaysPriceAvg = (stays) => {\r\n        let staysAvg = stays\r\n        staysAvg = staysAvg.reduce((acc, stay) => {\r\n            acc += stay.price\r\n            return acc\r\n        }, 0)\r\n        this.setState({ allStaysPriceAvg: (staysAvg / stays.length) })\r\n    }\r\n    onCalcAllStaysPriceAvg=()=>{\r\n        this.calcAllStaysPriceAvg(this.state.stays)\r\n    }\r\n    render() {\r\n        const { stays, filterBy } = this.props\r\n        const { isScreenOpen, ameintiesOptions } = this.state\r\n        if (!stays.length) return <div className=\"loader-container flex align-center justify-center page-padding\"><img src={loader} alt=\"loader\" /></div>\r\n        return (\r\n            <main className=\"explore-mega-container main-container page-padding\">\r\n                <div className=\"explore-page-container\">\r\n                    <div className={isScreenOpen ? \"screen screen-open full\" : \"screen full\"} onClick={() => { this.closeAllModals() }}></div>\r\n                    <div className=\"stays-headline\">\r\n                        <p>{this.state.stays.length === 1 ? `1 stay` : `${this.state.stays.length} stays`}</p>\r\n                        <h1>{filterBy.location ? `Places to stay at ${filterBy.location}` : 'Find places to stay'}</h1>\r\n                    </div>\r\n                    <ExploreFilter onCalcAllStaysPriceAvg={this.onCalcAllStaysPriceAvg}ameintiesOptions={ameintiesOptions} stays={this.state.stays} closeAllModals={this.closeAllModals} onSetAmenity={this.onSetAmenity} onSetPageFilter={this.onSetPageFilter} onClearPageFilter={this.onClearPageFilter} modals={this.state.modals} onToggleModals={this.onToggleModals} allStaysPriceAvg={this.state.allStaysPriceAvg} amenities={this.state.frontFilter.amenities} />\r\n                    {stays.length && <StaysList stays={this.state.stays} history={this.props.history} />}\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy,\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n    onRemoveStay,\r\n    onAddStay,\r\n    onEditStay,\r\n    onBookTrip,\r\n    setFilter,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Explore = connect(mapStateToProps, mapDispatchToProps)(_Explore)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport {loadUsers, removeUser} from '../store/user.actions'\r\n\r\n\r\nclass _AdminApp extends React.Component {\r\n    state = {}\r\n\r\n    componentDidMount() {\r\n        this.props.loadUsers()\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        const { isLoading, users, removeUser, loadUsers } = this.props\r\n        return <section className=\"admin\">\r\n                <button onClick={loadUsers}>Refresh Users</button>\r\n                {isLoading && 'Loading...'}\r\n                {users && <ul>\r\n\r\n                    {users.map(user => (\r\n                        <li key={user._id}>\r\n                            <pre>{JSON.stringify(user, null, 2)}</pre>\r\n                            <button\r\n                                onClick={() => {\r\n                                    removeUser(user._id)\r\n                                }}\r\n                            >\r\n                                Remove {user.username}\r\n                            </button>\r\n                        </li>\r\n                    ))}\r\n                </ul>}\r\n        </section>\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isLoading: state.systemModule.isLoading,\r\n        users: state.userModule.users\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadUsers,\r\n    removeUser\r\n}\r\n\r\n\r\nexport const AdminApp = connect(mapStateToProps, mapDispatchToProps)(_AdminApp)","import { FaStar} from 'react-icons/fa'\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport IosShareIcon from '@mui/icons-material/IosShare';\r\n\r\nexport function BasicInfo({ stay, isLiked, onToogleLikeStay, reviewsAvg }) {\r\n    return (\r\n        <section className=\"info-imgs-container\">\r\n            <section className=\"stay-info\">\r\n                <div className=\"stay-name-conatiner\">\r\n                    <h2>{stay.name}</h2>\r\n                </div>\r\n                <section className=\"info-line flex space-between\">\r\n                    <div className=\"stay-info-conatiner flex\">\r\n                        <div className=\"stay-avg-info flex align-end\">\r\n                            <p className=\"info-star\"><FaStar size={14} color=\"#FF5A5F\" /></p>\r\n                            <p className=\"info-line-score\">{reviewsAvg ? reviewsAvg : 0}</p>\r\n                            <p className=\"info-line-reviews\">{`(${stay.demoReviews} reviews)`}</p>\r\n                        </div>\r\n                        <p className=\"dot\"></p>\r\n                        <div className=\"host-location-container flex align-end\">\r\n                            <p className=\"info-line-loc\">{stay.loc.address}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"user-btns-container flex\">\r\n                        <div className=\"share-btn-container flex align-center\">\r\n                            <p className=\"details-share\"  ><IosShareIcon /></p>\r\n                            <p>Share</p>\r\n                        </div>\r\n                        <div className=\"save-btn-container flex align-center\" onClick={() => { onToogleLikeStay() }}>\r\n                            <p className=\"details-like\" >{!isLiked ? <FavoriteBorderIcon /> : <FavoriteIcon  className=\"liked\" />}</p>\r\n                            <p>Save</p>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n            <section className=\"asset-imgs-container flex  \">\r\n                <div className=\"asset-imgs flex\">\r\n                    <div className=\"primary-img square-ratio\"><img src={stay.imgUrls[0]} alt=\"\" /></div>\r\n                    <div className=\"imgs-container flex\">\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[1]} alt=\"\" /></div>\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[2]} alt=\"\" /></div>\r\n                    </div>\r\n                    <div className=\"imgs-container flex\">\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[3]} alt=\"\" /></div>\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[4]} alt=\"\" /></div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </section>\r\n    )\r\n\r\n}","import { FaHome, FaBroom, FaDoorClosed, FaKey } from 'react-icons/fa'\r\n\r\nexport function AssetSum(stay) {\r\n    return (<section className=\"asset-sum-container\">\r\n\r\n        <div className=\"asset-sum\">\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaHome /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Entire Home</h4>\r\n                    <p>Youll have the apartment to yourself.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaBroom className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Enhanced Clean Home</h4>\r\n                    <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaDoorClosed className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Self check-in</h4>\r\n                    <p>Check yourself in with the lockbox.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaKey className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Great check-in experience</h4>\r\n                    <p>95% of recent guests gave the check-in process a 5-star rating.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>)\r\n}\r\n\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     {/* <p className=\"sum-icon\" ></p><FaHome  className=\"sum-icon\" /> */}\r\n//     <p className=\"sum-icon\"><HomeOutlinedIcon/></p>\r\n\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Entire Home</h4>\r\n//     <p>Youll have the apartment to yourself.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     <p className=\"sum-icon\"><LocationOnOutlined  /></p>\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Enhanced Clean Home</h4>\r\n//     <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     <p className=\"sum-icon\"><DoorBackOutlined  /> </p>\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Self check-in</h4>\r\n//     <p>Check yourself in with the lockbox.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n// <p className=\"sum-icon\"><VpnKeyOutlined  /> </p>\r\n\r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Great check-in experience</h4>\r\n//     <p>95% of recent guests gave the check-in process a 5-star rating.</p>\r\n// </div>\r\n// </div>","import { FastfoodTwoTone } from '@material-ui/icons';\r\nimport React from 'react'\r\nimport { FaAirFreshener, FaBlender, FaCar, FaHotTub, FaPaw, FaSmoking, FaSmokingBan, FaTv, FaWifi } from 'react-icons/fa';\r\nexport class AssetAmenities extends React.Component {\r\n    getAmenitiesIcons = (amenity) => {\r\n        switch (amenity) {\r\n            case 'TV':\r\n                return <FaTv />\r\n            case 'Wifi':\r\n                return <FaWifi />\r\n            case 'Kitchen':\r\n                return <FastfoodTwoTone />\r\n            case 'Smoking allowed':\r\n                return <FaSmoking />\r\n            case 'Pets allowed':\r\n                return <FaPaw />\r\n            case 'No smoking':\r\n                return <FaSmokingBan />\r\n            case 'Air conditioner':\r\n                return <FaAirFreshener />\r\n            case 'Cooking basics':\r\n                return <FaBlender />\r\n            case 'Hot tub':\r\n                return <FaHotTub />\r\n            case 'Free parking on premises':\r\n                return <FaCar />\r\n            default:\r\n                break;\r\n\r\n        }\r\n    }\r\n    render() {\r\n        const { amenities } = this.props\r\n        return (\r\n            <ul className=\"amenities-list flex\">\r\n                {amenities && amenities.map(amenity => {\r\n                    return <li key={amenity} className=\"amenity-item flex\">\r\n                        <div className=\"amenity-icon-container\">\r\n                            {this.getAmenitiesIcons(amenity)}\r\n                        </div>\r\n                        <div className=\"amenity-txt\">\r\n                            <p>{amenity}</p>\r\n                        </div>\r\n                    </li>\r\n                })}\r\n            </ul>\r\n        )\r\n    }\r\n\r\n}","import { httpService } from './http.service.js'\r\nconst listeners = []\r\n\r\nexport const orderService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    update,\r\n    remove,\r\n    subscribe\r\n\r\n}\r\nwindow.cs = orderService;\r\n\r\nasync function query(userId, type) {\r\n    // add userId and type to parameters in query\r\n    const orders = await httpService.get('order', { params: { userId, type } })\r\n    return orders\r\n}\r\nasync function getById(orderId) {\r\n    // return storageService.get(STORAGE_KEY, orderId)\r\n    const order = await httpService.get(`order/${orderId}`)\r\n    return order\r\n}\r\nfunction remove(orderId) {\r\n    return httpService.delete(`order/${orderId}`)\r\n}\r\n\r\nfunction save(order) {\r\n    const savedOrder = httpService.post('order', order)\r\n    return savedOrder\r\n}\r\nasync function update(order) {\r\n    const UpdatedOrder = await httpService.put(`order/${order._id}`, order)\r\n    return UpdatedOrder;\r\n}\r\n\r\nfunction subscribe(listener) {\r\n    listeners.push(listener)\r\n}\r\n\r\nfunction _notifySubscribersOrdersChanged(orders) {\r\n    listeners.forEach(listener => listener(orders))\r\n}\r\n\r\nwindow.addEventListener('storage', () => {\r\n    query()\r\n        .then(orders => {\r\n            _notifySubscribersOrdersChanged(orders)\r\n        })\r\n})\r\n\r\n\r\n\r\n","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  window.listenersMap = listenersMap;\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\n// socketService.on('baba', cb)\r\n// socketService.on('baba', cb)\r\n// socketService.on('baba', cb)\r\n// socketService.on('mama', cb)\r\n// socketService.emit('baba', 'Puk')\r\n// socketService.off('baba', cb)\r\n\r\n\r\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n  \r\n})\r\n\r\n","import { orderService } from \"../services/order.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { socketService } from \"../services/socket.service.js\";\r\n\r\nexport function loadOrders(userId, type) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const orders = await orderService.query(userId, type)\r\n            dispatch({\r\n                type: 'SET_ORDERS',\r\n                orders\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function loadOrder(orderId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const order = await orderService.getById(orderId)\r\n            dispatch({\r\n                type: 'SET_ORDER',\r\n                order\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function onRemoveOrder(orderId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await orderService.remove(orderId)\r\n            dispatch({\r\n                type: 'REMOVE_ORDER',\r\n                orderId\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport function onAddOrder(orderToAdd) {\r\n    const { buyer } = orderToAdd\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            const notif = {\r\n                byUser: { fullName: buyer.fullname, imgUrl: buyer.imgUrl, _id: buyer._id },\r\n                createdAt: Date.now(),\r\n                stay: { _id: orderToAdd.stay._id, name: orderToAdd.loc.address, reviewsAvg: orderToAdd.stay.reviewsAvg },\r\n                txt: `Reserved your stay`,\r\n                isRead: false\r\n            }\r\n            const savedOrder = await orderService.save(orderToAdd)\r\n            dispatch({ type: 'ADD_ORDER', order: savedOrder })\r\n            socketService.emit('setNotif', notif)\r\n        }\r\n        catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onCancelOrder(tripId, buyerId, hostId) {\r\n    return async (dispatch) => {\r\n        try {\r\n\r\n            const buyer = await userService.getById(buyerId)\r\n            const hostUser = await userService.getById(hostId)\r\n            buyer.myTrips = buyer.myTrips.filter(trip => { return trip._id !== tripId })\r\n            hostUser.orders = hostUser.orders.filter(trip => { return trip._id !== tripId })\r\n            const updatedUser = await userService.update(buyer)\r\n            const updatedHost = await userService.update(hostUser)\r\n            dispatch({ type: 'UPDATE_USER', user: updatedUser })\r\n            dispatch({ type: 'UPDATE_USER', user: updatedHost })\r\n\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onApproveOrder(order) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(order)\r\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n\r\n\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onUpdateOrder(order) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(order)\r\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n\r\n\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function setFilter(filterBy) {\r\n    return async (dispatch) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_FILTER',\r\n                filter: filterBy\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onEditOrder(orderToSave) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(orderToSave)\r\n            dispatch({\r\n                type: 'UPDATE_ORDER',\r\n                order: updatedOrder\r\n            })\r\n\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function checkout() {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const state = getState()\r\n            const total = state.orderModule.cart.reduce((acc, order) => acc + order.price, 0)\r\n            const score = await userService.changeScore(-total)\r\n            dispatch({ type: 'SET_SCORE', score })\r\n            dispatch({ type: 'CLEAR_CART' })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n","import 'react-date-range/dist/styles.css'; // main style file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\nimport React from \"react\"\r\n\r\nimport { DateRangePicker } from 'react-date-range';\r\n\r\nexport class DatesPicker2 extends React.Component {\r\n    state = {\r\n        startDate: new Date(),\r\n        endDate: new Date()\r\n    }\r\n    handleSelect = ({ selection }) => {\r\n        var { startDate, endDate } = selection\r\n        this.setState({ startDate, endDate }, () => { this.props.onSelectDates(this.state) })\r\n    }\r\n\r\n    toTimeStamp = (strDate) => {\r\n        var datum = Date.parse(strDate);\r\n        return datum / 1000;\r\n    }\r\n    render() {\r\n        const selectionRange = {\r\n            startDate: this.state.startDate,\r\n            endDate: this.state.endDate,\r\n            key: 'selection',\r\n        }\r\n        return (\r\n            <DateRangePicker\r\n                classNames=\"date-picker-2\"\r\n                rangeColors={\"black\"}\r\n                color={\"black\"}\r\n                className=\"date-pick\"\r\n                ranges={[selectionRange]}\r\n                onChange={this.handleSelect}\r\n            />\r\n\r\n        )\r\n    }\r\n}","// import { render } from '@testing-library/react';\r\nimport React from 'react'\r\nimport { FaMinus, FaPlus } from 'react-icons/fa'\r\n\r\nexport class GuestsCheckoutModal extends React.Component {\r\n\r\n    render() {\r\n        const { onSelectGuests, toggleGuestsModal, trip } = this.props\r\n        const { adults, kids, infants } = trip.guests\r\n        // <div className=\"minus-guest-btn flex\" onClick={() => { onSelectGuests('adults', 'minus') }}>\r\n        return (\r\n            <div className=\"guest-mega-container\">\r\n                {trip && <div className=\"guest-popup-container flex column\">\r\n                    <div className=\"screen\" onClick={() => { toggleGuestsModal() }}>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between  align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Adults</p>\r\n                            <p className=\"guest-desc\">Ages 13 or above</p>\r\n                        </div>\r\n                        <div className=\"guest-amount\">\r\n                            <p className={adults ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('adults', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{adults ? adults : 0}</p>\r\n                            <p className=\"guest-btn \" onClick={() => onSelectGuests('adults', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Children</p>\r\n                            <p className=\"guest-desc\">Ages 2-12</p>\r\n                        </div>\r\n                        <div className=\"guest-amount\">\r\n                            <p className={kids ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('kids', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{kids ? kids : 0}</p>\r\n                            <p className=\"guest-btn \" onClick={() => onSelectGuests('kids', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between  align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Infants</p>\r\n                            <p className=\"guest-desc\">Under 2</p>\r\n                        </div>\r\n                        <div className=\"guest-amount \">\r\n                            <p className={infants ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('infants', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{infants?infants:0}</p>\r\n                            <p className=\"guest-btn\" onClick={() => onSelectGuests('infants', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>}\r\n            </div>)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport 'react-dates/initialize';\r\nimport { connect } from 'react-redux'\r\nimport { onAddOrder } from '../../store/order.actions'\r\nimport { FaStar, FaAngleDown, FaAngleUp } from 'react-icons/fa'\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { DatesPicker2 } from '../dates-picker2.jsx';\r\nimport { GuestsCheckoutModal } from './_guests-modal';\r\n\r\nclass _CheckoutForm extends React.Component {\r\n\r\n    state = {\r\n        trip: {\r\n            startDate: this.props.startDate,\r\n            endDate: this.props.endDate,\r\n            guests: { adults: this.props.filterBy.adultNumber, kids: this.props.filterBy.kidsNumber, infants: this.props.filterBy.infantsNumber }\r\n        },\r\n        isGuestPopupOn: false,\r\n        isCheckoutToReserve: false,\r\n        isStayReserved: false,\r\n        datesModal: false\r\n\r\n    }\r\n    componentDidMount() {\r\n        const { stay, filterBy } = this.props\r\n        window.addEventListener('scroll', (ev) => { this.setState({ datesModal: false }) })\r\n        this.setState({\r\n            trip: {\r\n                startDate: filterBy.startDate,\r\n                endDate: filterBy.endDate,\r\n                guests: { adults: filterBy.adultNumber, kids: filterBy.kidsNumber, infants: filterBy.infantsNumber },\r\n                loc: stay.loc\r\n            },\r\n            isGuestPopupOn: false,\r\n            isCheckoutToReserve: false,\r\n            datesModal: false,\r\n            datesModalPos: {}\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', (ev) => { this.setState({ datesModal: false }) })\r\n    }\r\n    onSelectDates = ({ startDate, endDate }) => {\r\n        if (startDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, startDate } }))\r\n        }\r\n        if (endDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, endDate } }))\r\n        }\r\n    }\r\n\r\n    toTimestamp = (strDate) => {\r\n        var datum = Date.parse(strDate);\r\n        return datum / 1000;\r\n    }\r\n\r\n    toggleDatesModal = (val) => {\r\n        this.setState({ datesModal: true, isGuestPopupOn: false })\r\n    }\r\n\r\n    timeToShow = (date, val) => {\r\n        var timeStamp = Date.parse(date);\r\n        var time = new Date(timeStamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n\r\n    getTripPrice = (startDate, endDate, price) => {\r\n        const start = this.toTimestamp(startDate)\r\n        const end = this.toTimestamp(endDate)\r\n        const timeDiff = (end - start)\r\n        const totalNights = (timeDiff / 86400)\r\n        const totalPrice = price * totalNights + 200\r\n        this.setState(prevState => ({ trip: { ...prevState.trip, totalNights, totalPrice }, isCheckoutToReserve: true }));\r\n    }\r\n\r\n    toggleGuestsModal = () => {\r\n        this.setState({ datesModal: false })\r\n        this.setState({ isGuestPopupOn: !this.state.isGuestPopupOn })\r\n        this.calcGuestNum()\r\n    }\r\n    onSelectGuests = (val, action) => {\r\n\r\n        const { stay } = this.props\r\n        var { adults, kids, infants } = this.state.trip.guests\r\n        switch (val) {\r\n            case 'adults':\r\n                if (action === 'minus') adults = adults - 1\r\n                if (adults < 0) adults = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') adults = adults + 1\r\n                break;\r\n            case 'kids':\r\n                if (action === 'minus') kids = kids - 1\r\n                if (kids < 0) kids = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') kids = kids + 1\r\n                break;\r\n            case 'infants':\r\n                if (action === 'minus') infants = infants - 1\r\n                if (infants < 0) infants = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') infants = infants + 1\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState(prevState => ({ ...prevState, trip: { ...prevState.trip, guests: { adults, kids, infants } } }));\r\n    }\r\n\r\n    calcGuestNum = () => {\r\n        const { adults, kids, infants } = this.state.trip.guests\r\n        var res = +adults + +kids + +infants\r\n        return res\r\n    }\r\n\r\n    onBookTrip = (stay, trip) => {\r\n\r\n        if (!this.props.user) {\r\n        } else {\r\n            const { _id, fullname, imgUrl, username } = this.props.user\r\n            trip.buyer = { _id, fullname, imgUrl, username }\r\n            trip.startDate = this.toTimestamp(trip.startDate)\r\n            trip.endDate = this.toTimestamp(trip.endDate)\r\n            trip.host = stay.host\r\n            trip.stay = {\r\n                _id: stay._id,\r\n                imgUrls: stay.imgUrls,\r\n                name: stay.name,\r\n                reviewsAvg: stay.reviewsAvg\r\n            }\r\n            trip.status = 'pending'\r\n            this.props.onAddOrder(trip)\r\n            this.setState({\r\n                trip: {\r\n                    startDate: null,\r\n                    endDate: null,\r\n                    guests: { adults: 1, kids: 0, infants: 0 }\r\n                },\r\n                isGuestPopupOn: false,\r\n                isCheckoutToReserve: false,\r\n                isStayReserved: true\r\n            })\r\n            setTimeout(() => {\r\n                this.setState({ isStayReserved: false })\r\n            }, 2000);\r\n        }\r\n\r\n    }\r\n    onCloseModal = (ev) => {\r\n        this.setState({ isGuestPopupOn: false, datesModal: false })\r\n\r\n    }\r\n    getMouseCord = (ev) => {\r\n\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        const { stay } = this.props\r\n        const { trip, isCheckoutToReserve, isGuestPopupOn, datesModal, isStayReserved } = this.state\r\n        const { price } = stay\r\n        const { startDate, endDate } = trip\r\n        return (\r\n            <section className=\"checkout-popup flex column\">\r\n                {(isGuestPopupOn || datesModal) && <div className=\"checkout-screen\" onClick={(ev) => { this.onCloseModal(ev) }}></div>}\r\n                <section className=\"checkout-container flex\">\r\n                    <div className=\"checkout-form-container\">\r\n                        <div className=\"checkout-form-header flex space-between align-center\" onClick={() => { this.onCloseModal(false) }}>\r\n                            <div className=\"order-price-container \">\r\n                                <p className=\"order-price\"><span>${price}</span> / night</p>\r\n                            </div>\r\n                            <div className=\"check-rating-container flex align-center\">\r\n                                <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                                <p className=\"order-avg-score\">{stay.reviewsAvg}</p>\r\n                                <p className=\"order-reviews\">{`(${stay.reviews.length} reviews)`}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-container\">\r\n                            {datesModal && <DatesPicker2 onSelectDates={this.onSelectDates} handleChange={this.handleChange} />}\r\n                            <div className=\"select-form\">\r\n                                <div className=\"dates-check-container\">\r\n\r\n                                    <div className=\"dates-container flex  \">\r\n                                        <div className=\"checkin-input flex column\" onClick={(ev) => {\r\n                                            const { bottom, left } = ev.target.getBoundingClientRect()\r\n                                            this.setState({ datesModalPos: { bottom, left } })\r\n                                            this.toggleDatesModal(true)\r\n                                        }}>\r\n\r\n                                            <label className=\"title\" htmlFor=\"\">CHECK-IN</label>\r\n                                            <label htmlFor=\"\" ><span>{startDate ? this.timeToShow(startDate, 'startDate') : 'Add date'}</span></label>\r\n                                        </div>\r\n                                        <div className=\"checkout-input flex column\" onClick={(ev) => {\r\n                                            ev.target.getBoundingClientRect()\r\n                                            this.toggleDatesModal(true)\r\n                                        }} >\r\n                                            <label className=\"title\" htmlFor=\"\" >CHECK-OUT</label>\r\n                                            <label htmlFor=\"\" ><span>{endDate ? this.timeToShow(endDate, 'startDate') : 'Add date'}</span></label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"guests-check-container flex space-between\" onClick={() => { this.toggleGuestsModal() }}>\r\n                                    <div className=\"guests-input flex column\"  >\r\n                                        <label className=\"title\" htmlFor=\"\" >GUESTS </label>\r\n                                        <label htmlFor=\"\" ><span>{this.calcGuestNum() === 1 ? `${this.calcGuestNum()} guest` : `${this.calcGuestNum()} guests`}</span></label>\r\n                                    </div>\r\n                                    <div className=\"guest-select-arrow flex\">\r\n                                        {isGuestPopupOn ? <FaAngleUp /> : <FaAngleDown />}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {isCheckoutToReserve &&\r\n                                <div className=\"summed-trip-info\">\r\n                                    <div className=\"sum-line\">\r\n                                        <p>You won't be charged yet</p>\r\n                                    </div>\r\n                                    <div className=\"calc-price-container flex space-between\">\r\n                                        <p className=\"calc-price\">${price} x {trip.totalNights} nights</p>\r\n                                        <p>${trip.totalPrice}</p>\r\n                                    </div>\r\n                                    <div className=\"service-fee-container flex space-between\">\r\n                                        <p className=\"service-fee\">Service fee</p>\r\n                                        <p>$200</p>\r\n                                    </div>\r\n                                    <div className=\"total-price-container flex space-between\">\r\n                                        <p className=\"total\">Total</p>\r\n                                        <p className=\"total-price\">${trip.totalPrice}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            {isStayReserved && <div className=\"stay-msg-container\"><h1>Your order is waiting for approval</h1></div>}\r\n                            <div className=\"checkout-btn-container\" onClick={() => { (isCheckoutToReserve) ? this.onBookTrip(stay, trip) : this.getTripPrice(startDate, endDate, price) }}>\r\n                                {this.getBtnDivs()}\r\n                                <div className=\"content\">\r\n                                    {!isCheckoutToReserve && !isStayReserved && \r\n                                        <button className=\"checkout-btn\" ><span>Check availabilty</span> </button>}\r\n                                    {isCheckoutToReserve && \r\n                                        <button className=\"checkout-btn\" ><span>Reserve</span> </button>\r\n                                    }\r\n                                    {isStayReserved &&\r\n                                        <button className=\"checkout-btn\" ><span>Order pending</span> </button>\r\n                                    }\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div >\r\n                </section>\r\n                {/* <div className=\"report-container flex \">\r\n                    <FaFlag />\r\n                    <p>Report this listing</p>\r\n                </div> */}\r\n                {isGuestPopupOn && <GuestsCheckoutModal toggleGuestsModal={this.toggleGuestsModal} onSelectGuests={this.onSelectGuests} trip={trip} stay={stay} />}\r\n                {/* {isGuestPopupOn && } */}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stay: state.stayModule.stay,\r\n        filterBy: state.stayModule.filterBy,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onAddOrder\r\n}\r\n\r\nexport const CheckoutForm = connect(mapStateToProps, mapDispatchToProps)(_CheckoutForm)\r\n","export function ReadMore({txt, onToogleReadModal}) {\r\n    return (\r\n        <section className=\"read-more-popup-container\">\r\n            <div className=\"read-more-popup\">\r\n                <div className=\"close-btn\"><p onClick={onToogleReadModal}> x </p></div>\r\n                <div className=\"read-more-container\">\r\n                    <p>{txt}</p>\r\n                </div>\r\n                <div className=\"close-btn\">\r\n                    <p onClick={onToogleReadModal} >Close</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { Component } from \"react\";\r\nimport { utilService } from \"../../services/util.service\";\r\nimport { ReadMore } from \"../_read-more\";\r\n\r\nexport class ReviewsPreview extends Component {\r\n    state = {\r\n        isReadMoreOn: false\r\n    }\r\n    onToogleReadModal = () => {\r\n        this.setState({ isReadMoreOn: !this.state.isReadMoreOn })\r\n    }\r\n    render() {\r\n        const { review } = this.props\r\n\r\n        const { isReadMoreOn } = this.state\r\n        return (\r\n            <div className=\"review-card-container\">\r\n                <li >\r\n                    <div className=\"review-card flex column align-center\" >\r\n                        <div className=\"review-user-info flex\">\r\n                            <div className=\"user-review-img-container\">\r\n                                <img src={`https://i.pravatar.cc/100?u=${review.by._id.substr(review.by._id.length - 10)}`} alt=\"\" />\r\n                            </div>\r\n                            <div className=\"txt-info-container flex column\">\r\n                                <div className=\"review-username-container\">\r\n                                    <p className=\"review-username\">{review.by.fullname} </p>\r\n                                </div>\r\n                                <div className=\"review-username-container\">\r\n                                    {typeof review.createdAt === 'number' ? <p >{utilService.timeToShow(review.createdAt)} </p> : <p >{review.createdAt} </p>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"review-txt-container\">\r\n\r\n                            {review.txt && review.txt.length >= 100 && (\r\n                                <p >{review.txt.substring(0, 100)} {review.txt.length > 100 && (<span className=\"read-more\" onClick={this.onToogleReadModal}><br /> More...</span>)}</p>\r\n                            )}\r\n\r\n                            {review.txt && review.txt.length < 100 && <p  >{review.txt}</p>}\r\n                        </div>\r\n\r\n                    </div>\r\n                </li >\r\n                {isReadMoreOn && <ReadMore onToogleReadModal={this.onToogleReadModal} txt={review.txt} />}\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n","// import { FaStar } from 'react-icons/fa'\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ReviewsPreview } from './reviews-preview'\r\n// import { ReviewAvg } from './_reviews-avg'\r\n\r\nclass _ReviewsList extends Component {\r\n    render() {\r\n        const { reviews} = this.props.stay\r\n        const { isReadMoreOn, onToogleReadModal }= this.props\r\n        return (\r\n            <section className=\"reviews-list-container flex \">\r\n                {!reviews.length && <section className=\"reviews-container flex \">\r\n                    <p>No reviews to show...</p>\r\n                </section>\r\n                }\r\n                {reviews.length && <section>\r\n                    <div>\r\n\r\n                        {/* <div className=\"reviews-avgs-container\">\r\n                        <ReviewAvg reviews={reviews} />\r\n                    </div> */}\r\n                        <ul className=\"reviews-container flex space-between\">\r\n                            {reviews.slice(0, 6).map(review => <ReviewsPreview review={review} key={review.id} onToogleReadModal={onToogleReadModal} isReadMoreOn={isReadMoreOn} />)}\r\n                        </ul>\r\n                        {reviews.length > 6 &&\r\n                            <div>\r\n                                <button className=\"show-reviews-btn\">Show all {reviews.length} reviews</button>\r\n                            </div>}\r\n                    </div>\r\n                </section>\r\n                }\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stay: state.stayModule.stay,\r\n    }\r\n}\r\n\r\nexport const ReviewsList = connect(mapStateToProps)(_ReviewsList)","\r\nimport { Component } from 'react';\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\n\r\nclass _StayMap extends Component {\r\n\r\n    state = {\r\n        center: {\r\n            lat: '',\r\n            lng: ''\r\n        },\r\n        loc: {\r\n            lat: '',\r\n            lng: '',\r\n            address: '',\r\n            country: ''\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const loc = this.props.location\r\n        this.setState({ center: { lng: loc.lng, lat: loc.lat }, loc })\r\n    }\r\n    onMapClicked = (props, map, ev) => {\r\n        this.setState({ center: { lat: ev.latLng.lat(), lng: ev.latLng.lng() } })\r\n    }\r\n\r\n    onMarkerClicked = () => {\r\n        this.setState({ isInfoWindowOn: true })\r\n    }\r\n\r\n    onInfoWindowClose = () => {\r\n        this.setState({ isInfoWindowOn: false })\r\n    }\r\n    render() {\r\n        const { lat, lng } = this.state.loc\r\n\r\n        const style = {\r\n            width: '100%',\r\n            height: '400px',\r\n            position: \"relative\",\r\n            margin: \"0 auto\"\r\n        }\r\n        return (\r\n            <section className=\"main-map-container\">\r\n                <div className=\"map-title-container\">\r\n                    <h1 className=\"map-title\">Where youll be</h1>\r\n                </div>\r\n                <div className=\"map-container\">\r\n                    {lat && <Map\r\n                        className=\"stay-map\"\r\n                        containerStyle={style}\r\n                        google={this.props.google}\r\n                        zoom={15}\r\n                        initialCenter={this.state.center}\r\n                        onClick={this.onMapClicked}\r\n                        center={this.state.center}\r\n                    >\r\n                        <Marker\r\n                            position={{ lat, lng }}\r\n                            name={'Current location'}\r\n                        />\r\n\r\n                        <InfoWindow\r\n                            onClose={this.onInfoWindowClose}\r\n                            position={this.state.center}\r\n                            visible={this.state.isInfoWindowOn}\r\n                        >\r\n                            <div>\r\n                                <h1>Hello</h1>\r\n                            </div>\r\n                        </InfoWindow>\r\n                    </Map>}\r\n                    <div>\r\n                        {this.state.loc.address && <h1 className=\"address-title\">{this.state.loc.address.split(',')[0]} , {this.state.loc.address.split(',')[1]}</h1>}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport const StayMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyC4nnRlZ8NjJzwvd5SZMk3ukykZTfqRKNU')\r\n})(_StayMap)","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { TextareaAutosize } from '@material-ui/core';\r\nimport { onEditStay } from '../../store/stay.actions.js'\r\nimport { loadUser } from '../../store/user.actions'\r\nimport { utilService } from '../../services/util.service.js';\r\nimport Rating from 'react-rating';\r\nimport { FaStar } from 'react-icons/fa';\r\n\r\nclass _AddReview extends Component {\r\n    state = {\r\n        newReview: {\r\n            by: {\r\n                fullname: this.props.user.fullname,\r\n                _id: this.props.user._id,\r\n                imgUrl: this.props.user.imgUrl\r\n            },\r\n            createdAt: null,\r\n            txt: '',\r\n            id: utilService.makeId(8),\r\n            cleanliness: null,\r\n            communication: null,\r\n            checkIn: null,\r\n            accuracy: null,\r\n            location: null,\r\n            value: null\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.clearReview()\r\n        if (this.props.user) this.props.loadUser(this.props.user._id)\r\n        this.setState({\r\n            by: {\r\n                fullname: this.props.user.fullname,\r\n                _id: this.props.user._id,\r\n                imgUrl: this.props.user.imgUrl\r\n            }\r\n        })\r\n    }\r\n    onRemove = async reviewId => {\r\n        await this.props.removeReview(reviewId)\r\n        // this.props.history.push('/login')\r\n    }\r\n    clearReview = () => {\r\n        this.setState({\r\n            newReview: {\r\n                createdAt: null,\r\n                txt: '',\r\n                id: utilService.makeId(),\r\n                cleanliness: null,\r\n                communication: null,\r\n                checkIn: null,\r\n                accuracy: null,\r\n                location: null,\r\n                value: null\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'number' ? +target.value : target.value\r\n        this.setState(prevState => ({ newReview: { ...prevState.newReview, [field]: value } }))\r\n    }\r\n    changeRating = (score, name) => {\r\n        this.setState(prevState => ({ newReview: { ...prevState.newReview, [name]: score } }))\r\n    }\r\n\r\n    formSubmited = (ev) => {\r\n        ev.preventDefault()\r\n        const { stay } = this.props\r\n        if (this.props.user._id) {\r\n            this.setState(prevState => ({ newReview: { ...prevState.newReview, createdAt: Date.now() } }), () => {\r\n                const review = this.state.newReview\r\n                review.by = {\r\n                    fullname: this.props.user.fullname,\r\n                    _id: this.props.user._id,\r\n                    imgUrl: this.props.user.imgUrl\r\n                }\r\n\r\n                stay.reviews = [review , ...stay.reviews]\r\n                this.props.onEditStay(stay)\r\n                this.clearReview()\r\n            })\r\n        }\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        const { cleanliness, communication, checkIn, accuracy, location, value, txt } = this.state.newReview\r\n        // const reviewStr = { leftReview: ['cleanliness', 'communication', 'checkIn'], rightReview: ['accuracy', 'location', 'value'] }\r\n        const style = {\r\n            padding: '20px',\r\n            width: '100%',\r\n            height: ' 150px',\r\n            resize: 'none',\r\n            borderRadius: '13px',\r\n            borderColor: ' #bdbcbc',\r\n            fontFamily: \"circular-book\",\r\n            fontSize: \"1rem\"\r\n        }\r\n        return (\r\n            <div >\r\n                <div className=\"add-review-title-container\">\r\n                    <h3>Add review</h3>\r\n                </div>\r\n                <form action=\"\" className=\"add-form flex column \" onSubmit={this.formSubmited} >\r\n                    <div className=\" add-review-container flex \">\r\n\r\n                        {/* <div className=\"line flex\">\r\n                            <p>Cleanliness</p>\r\n                            <Rating\r\n                                onChange={(ev) => this.changeRating(ev, 'cleanliness')}\r\n                                initialRating={cleanliness}\r\n                                fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                            />\r\n                        </div> */}\r\n                        <div className=\"left-review\">\r\n                            <div className=\"line flex\">\r\n                                <p>Cleanliness</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'cleanliness')}\r\n                                    initialRating={cleanliness}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Communication</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'communication')}\r\n                                    initialRating={communication}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Check in</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'checkIn')}\r\n                                    initialRating={checkIn}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right-review\">\r\n                            <div className=\"line flex\">\r\n                                <p>Accuracy</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'accuracy')}\r\n                                    initialRating={accuracy}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Location</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'location')}\r\n                                    initialRating={location}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Value</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'value')}\r\n                                    initialRating={value}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"add-txt-container flex\">\r\n                        <TextareaAutosize\r\n                            style={style}\r\n                            value={txt}\r\n                            placeholder=\"Write you opinion about this stay...\"\r\n                            className=\"review-input\"\r\n                            onChange={this.handleChange}\r\n                            name=\"txt\"\r\n                            autoComplete=\"off\" />\r\n                    </div>\r\n                    <div className=\"add-review-btn\">\r\n\r\n                        <div className=\"checkout-btn-container\" onClick={this.formSubmited}>\r\n                            {this.getBtnDivs()}\r\n                            <div className=\"content\">\r\n                                <button type=\"submit\" className=\"checkout-btn\" ><span>Add</span></button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onEditStay,\r\n    loadUser\r\n}\r\nexport const AddReview = connect(mapStateToProps, mapDispatchToProps)(_AddReview)\r\n// export const AddReview = connect(mapStateToProps)(_AddReview)","import React from \"react\";\r\nimport { FaStar } from \"react-icons/fa\";\r\n\r\nexport class ReviewAvg extends React.Component {\r\n    state = {\r\n        cleanliness: null,\r\n        communication: null,\r\n        checkIn: null,\r\n        accuracy: null,\r\n        location: null,\r\n        value: null,\r\n        totalAvg: null\r\n    }\r\n    componentDidMount() {\r\n        const types = [\"cleanliness\", \"communication\", \"checkIn\", \"accuracy\", \"location\", \"value\"]\r\n        types.forEach(type => {\r\n            this.setState(prevState => ({ ...prevState, [type]: this.getAvrage(type) }), () => {\r\n                this.getTotalAvg()\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n    getAvrage = (type) => {\r\n        const { reviews } = this.props\r\n        let avgScore = 0;\r\n        reviews.map(review => avgScore += +review[type])\r\n        avgScore = ((avgScore / reviews.length)).toFixed(1)\r\n        return avgScore\r\n    }\r\n    getTotalAvg = () => {\r\n        let totalReviewAvg = 0;\r\n        Object.keys(this.state).forEach((key, index) => {\r\n            totalReviewAvg += +this.state[key]\r\n        })\r\n        totalReviewAvg = (totalReviewAvg / 6).toFixed(1)\r\n        this.setState(prevState => ({ ...prevState, totalAvg: +totalReviewAvg }), () => {\r\n            this.props.setReviewsAvg(+totalReviewAvg)\r\n        })\r\n\r\n    }\r\n    render() {\r\n        const { reviews } = this.props\r\n        const types = this.state\r\n        return (\r\n            <section>\r\n                <div className=\"reviews-sec-title-container\">\r\n                    <h1 className=\"reviews-section-title flex\" ><FaStar\r\n                        size={15}\r\n\r\n                        color=\"#FF5A5F\" /> <span>{this.state.totalAvg}</span> <span>Reviews</span> <span></span>{reviews.length} Reviews</h1>\r\n                </div>\r\n                <div className=\"review-avg-container flex space-between\" >\r\n                    <div className=\"left-review\">\r\n                        {Object.keys(types).map((key, index) => {\r\n                            if (index <= 2) {\r\n                                return <div key={key} className=\"line flex align-center space-between\">\r\n                                    <p className=\"line-title\">{key.charAt(0).toUpperCase()}{key.slice(1)}</p>\r\n                                    <div className=\"loader-container flex align-center space-between\">\r\n                                        <div className=\"line-loader-container\">\r\n                                            <div className=\"line-loader\" style={{ width: `${+this.state[key] * 20}%` }}></div>\r\n                                        </div>\r\n                                        <p className=\"review-score\">{this.state[key]}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        })}\r\n                    </div>\r\n                    <div className=\"right-review\">\r\n                        {Object.keys(types).map((key, index) => {\r\n                            if (index > 2 && index <= 5) {\r\n                                return <div key={key} className=\"line flex align-center space-between\">\r\n                                    <p className=\"line-title\">{key.charAt(0).toUpperCase()}{key.slice(1)}</p>\r\n                                    <div className=\"loader-container flex align-center space-between\">\r\n                                        <div className=\"line-loader-container\">\r\n                                            <div className=\"line-loader\" style={{ width: `${+this.state[key] * 20}%` }}></div>\r\n                                        </div>\r\n                                        <p className=\"review-score\">{this.state[key]}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        })}\r\n                    </div>\r\n                </div >\r\n            </section >\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadStay, onEditStay } from '../store/stay.actions.js'\r\nimport { loadUser, onToggleLikedStay } from '../store/user.actions.js'\r\nimport { BasicInfo } from '../cmps/stay-details/details-base-info'\r\nimport { AssetSum } from '../cmps/stay-details/details-asset-sum'\r\nimport { AssetAmenities } from '../cmps/stay-details/details-amenities'\r\nimport 'react-dates/initialize'\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { CheckoutForm } from '../cmps/stay-details/details-checkout-form'\r\nimport { ReviewsList } from '../cmps/stay-details/reviews-list'\r\nimport { StayMap } from '../cmps/stay-details/stay-map'\r\nimport { AddReview } from '../cmps/stay-details/add-review'\r\nimport { ReviewAvg } from '../cmps/stay-details/_reviews-avg'\r\nimport loader from '../assets/img/three-dots.svg'\r\nimport { socketService } from '../services/socket.service'\r\nclass _StayDetails extends React.Component {\r\n    state = {\r\n        stayReviews: [],\r\n        trip: {\r\n            startDate: null,\r\n            endDate: null,\r\n            guests: { adults: 1, kids: 0, infants: 0 },\r\n\r\n        },\r\n        isReadMoreOn: false,\r\n        isLiked: null,\r\n    }\r\n    async componentDidMount() {\r\n        const { user } = this.props\r\n        const { stayId } = this.props.match.params\r\n        if (!stayId) this.props.history.push('/')\r\n        else await this.props.loadStay(stayId)\r\n        window.scrollTo(0, 0)\r\n        if (this.props.stay) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', this.props.stay.host._id)\r\n            // socketService.on('getNotif', (ev) => {})\r\n        }\r\n        if (user) this.props.loadUser(user._id)\r\n\r\n        this.isStayLiked()\r\n    }\r\n    // componentWillUnmount() {\r\n    //     socketService.off('getNotif', (ev) => {})\r\n    // }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { user} = this.props\r\n        if (prevState.isLiked !== this.state.isLiked) {\r\n            this.isStayLiked()\r\n            if (user) this.props.loadUser(user._id)\r\n        }\r\n    }\r\n\r\n    onToogleLikeStay = () => {\r\n        const { user, stay } = this.props\r\n        const { isLiked } = this.state\r\n        if (user) {\r\n            this.setState({ isLiked: !isLiked }, () => {\r\n                this.props.onToggleLikedStay(stay._id, !isLiked, user._id)\r\n            })\r\n        }\r\n    }\r\n\r\n    isStayLiked = () => {\r\n        const { user, stay } = this.props\r\n        if (user && stay) {\r\n            if (user.mySaves) {\r\n                const isLiked = user.mySaves.filter(saved => saved === stay._id)\r\n                if (isLiked.length) {\r\n                    this.setState({ isLiked: true })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = ({ startDate, endDate }) => {\r\n        if (startDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, startDate } }))\r\n        }\r\n        if (endDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, endDate } }))\r\n        }\r\n    }\r\n\r\n\r\n    setReviewsAvg = (avgScore) => {\r\n        const { stay } = this.props\r\n        stay.reviewsAvg = avgScore\r\n        this.setState(prevState => ({ stay: { ...prevState.stay, reviewsAvg: avgScore } }))\r\n\r\n    }\r\n    render() {\r\n        const { isReadMoreOn, isLiked } = this.state\r\n        const { stay, user } = this.props\r\n        return (\r\n            <section className=\"stay-details-section main-container\">\r\n                {(!stay) && <div className=\"loader-container flex align-center justify-center\"><img src={loader} alt=\"loader\" /></div>}\r\n                {stay && <div className=\"stay-details-container\">\r\n                    <BasicInfo user={user} stay={stay} isLiked={isLiked} reviewsAvg={stay.reviewsAvg} onToogleLikeStay={this.onToogleLikeStay} />\r\n                    <section className=\" details-main-conatiner flex\">\r\n                        <div className=\"details-left-container\">\r\n                            <section className=\"host-info-container flex align-center space-between\">\r\n                                <div className=\"asset-short-info flex\">\r\n                                    <div className=\"host-by\">\r\n                                        <p>{`${stay.assetType} hosted by ${stay.host.fullname}`}</p>\r\n                                    </div>\r\n                                    <div className=\"asset-info\">\r\n                                        <p><span>{`${stay.capacity} guests`}</span>  <span >{`${stay.host.fullname} is Superhost!`}</span>   <span>{`${stay.capacity} beds`}</span> </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"host-img-container\">\r\n                                    <img src={`https://i.pravatar.cc/100?u=${stay.host._id.substr(stay.host._id.length - 10)}`} alt=\"\" />\r\n                                </div>\r\n                            </section>\r\n                            <AssetSum />\r\n                            <section className=\"asset-desc-container\">\r\n                                <div className=\"asset-desc\">\r\n                                    {stay.summary > 100 ? <p >{stay.summary.substring(0, 100)} <span className=\"read-more\" > More...</span></p> : <p  >{stay.summary}</p>}\r\n                                </div>\r\n                            </section>\r\n                            <section className=\"amenities-container\">\r\n                                <h4>What this place offers</h4>\r\n                                <div >\r\n                                    <AssetAmenities amenities={stay.amenities} />\r\n                                </div>\r\n                            </section>\r\n                        </div>\r\n                        <div className=\"details-right-container\">\r\n                            <CheckoutForm reviewsAvg={stay.reviewsAvg} />\r\n                        </div>\r\n                    </section>\r\n                    <section className=\"page-bottom-container\">\r\n                        <div className=\"reviews-section-container\" >\r\n                            <ReviewAvg reviews={stay.reviews} setReviewsAvg={this.setReviewsAvg} />\r\n                            <ReviewsList isReadMoreOn={isReadMoreOn} onToogleReadModal={this.onToogleReadModal} />\r\n                            {user && <div className=\"add-review\">\r\n                                <AddReview stay={stay} />\r\n                            </div>}\r\n                        </div>\r\n                        <StayMap location={stay.loc} />\r\n                    </section>\r\n                </div >}\r\n                {/* {isReadMoreOn && <ReadMore txt={this.state.txt} onCloseReadModal={this.onCloseReadModal} />} */}\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stay: state.stayModule.stay,\r\n        reviews: state.reviewModule.reviews\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStay,\r\n    onToggleLikedStay,\r\n    loadUser,\r\n    onEditStay\r\n}\r\nexport const StayDetails = connect(mapStateToProps, mapDispatchToProps)(_StayDetails)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router'\r\nimport { socketService } from '../services/socket.service';\r\nimport { onLogin, onLogout, onSignup, loadUsers, updateUser, loadUser } from '../store/user.actions'\r\nclass _LoginSignup extends React.Component {\r\n    state = {\r\n        credentials: {\r\n            username: '',\r\n            password: '',\r\n            fullname: ''\r\n        },\r\n        isSignup: false,\r\n        users: []\r\n    }\r\n    async componentDidMount() {\r\n\r\n        try {\r\n            await this.props.loadUsers()\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n    clearState = () => {\r\n        const clearTemplate = {\r\n            credentials: {\r\n                username: '',\r\n                password: '',\r\n                fullname: ''\r\n            },\r\n            isSignup: false\r\n        }\r\n        this.setState({ clearTemplate })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n    }\r\n\r\n    onLogin = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username) return;\r\n        await this.props.onLogin(this.state.credentials);\r\n        await this.props.loadUser(this.props.user._id)\r\n        const { user } = this.props\r\n        if (user.isHost) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', user._id)\r\n            socketService.on('getNotif', async (notif) => {\r\n                // {\r\n                //     \"byUser\": {\r\n                //         \"fullName\": \"Houston Anderson\",\r\n                //         \"imgUrl\": \"/img/img1.jpg\",\r\n                //         \"_id\": \"615856f7cb4c045b46874e45\"\r\n                //     },\r\n                //     \"createdAt\": 1633891364304,\r\n                //     \"stay\": {\r\n                //         \"_id\": \"61585943cb4c045b46874e50\",\r\n                //         \"name\": \"New York, United States\"\r\n                //     },\r\n                //     \"txt\": \"Reserved your stay\",\r\n                //     \"isRead\": false\r\n                // }\r\n                const editedNotif = {\r\n                    notifTxt: `${notif.txt} at ${notif.stay.name}`,\r\n                    byUser: notif.byUser.fullName,\r\n                    // byUserImg: <div className=\"user-order-img-container flex align-center\" >\r\n                    //     <div>\r\n                    //         <img src={`https://i.pravatar.cc/100?u=${notif.byUser._id.substr(notif.byUser._id.length - 10)}`} alt=\"user-icon\" />\r\n                    //     </div>\r\n                    //     <p>{notif.byUser.fullName}</p>\r\n                    // </div>,\r\n                    isRead: notif.isRead,\r\n                    createdAt: notif.createdAt,\r\n                    // approveBtn: <div className=\"host-action-btns flex align-center\">\r\n                    //     <NavLink to={`host`} className=\"approve-order-btn\">Go to order</NavLink>\r\n                    // </div>\r\n                }\r\n                user.notifications = [editedNotif, ...user.notifications]\r\n                await this.props.updateUser(user)\r\n            })\r\n        }\r\n        this.clearState()\r\n    }\r\n\r\n    onSignup = (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n        this.props.onSignup(this.state.credentials);\r\n        this.clearState()\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    toggleSignup = () => {\r\n        this.setState({ isSignup: !this.state.isSignup })\r\n    }\r\n    responseGoogle = (response) => {\r\n    }\r\n    render() {\r\n        const { username} = this.state.credentials;\r\n        const { isSignup } = this.state;\r\n        const { user, users } = this.props\r\n        return (\r\n            <div className=\"login-page\">\r\n                {!isSignup && !user && <form className=\"login-form\" onSubmit={this.onLogin}>\r\n                    {users && <select\r\n                        name=\"username\"\r\n                        value={username}\r\n                        onChange={this.handleChange}\r\n                    >\r\n                        <option value=\"\">Select User</option>\r\n                        {users.map(user => <option key={user._id} value={user.username}>{user.fullname}</option>)}\r\n                    </select>}\r\n                    <button>Login!</button>\r\n                </form>}\r\n                {/* <GoogleLoginCmp /> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        users: state.userModule.users\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onLogout,\r\n    onSignup,\r\n    loadUsers,\r\n    loadUser,\r\n    updateUser\r\n}\r\n\r\nexport const LoginSignup = withRouter(connect(mapStateToProps, mapDispatchToProps)(_LoginSignup))\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router'\r\nimport { LoginSignup } from '../cmps/login-signup'\r\nimport { socketService } from '../services/socket.service'\r\nimport { userService } from '../services/user.service'\r\nimport { onLogin, onLogout, onSignup, updateUser, loadUser } from '../store/user.actions'\r\nclass _LoginPage extends React.Component {\r\n    state = {\r\n        credentials: {\r\n            username: '',\r\n            password: '',\r\n            fullname: ''\r\n        },\r\n        isSignUp: false,\r\n        users: []\r\n    }\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        const users = await userService.getUsers()\r\n        this.setState({ users })\r\n    }\r\n\r\n    clearState = () => {\r\n        const clearTemplate = {\r\n            credentials: {\r\n                username: '',\r\n                password: '',\r\n                fullname: ''\r\n            },\r\n            isSignUp: false\r\n        }\r\n        this.setState({ clearTemplate })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n    }\r\n    onLogin = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username) return;\r\n        await this.props.onLogin(this.state.credentials);\r\n        await this.props.loadUser(this.props.user._id)\r\n        const { user } = this.props\r\n        if (user.isHost) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', user._id)\r\n            socketService.on('getNotif', async (notif) => {\r\n                const editedNotif = {\r\n                    notifTxt: `${notif.txt} at ${notif.stay.name}`,\r\n                    byUser: notif.byUser.fullName,\r\n                    byUserImg:`https://i.pravatar.cc/100?u=${notif.byUser._id.substr(notif.byUser._id.length - 10)}`,\r\n                    isRead: notif.isRead,\r\n                    createdAt: notif.createdAt,\r\n                }\r\n                user.notifications = [editedNotif, ...user.notifications]\r\n                await this.props.updateUser(user)\r\n            })\r\n        }\r\n        this.clearState()\r\n        this.props.history.goBack()\r\n    }\r\n    onSignup = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n        await this.props.onSignup(this.state.credentials);\r\n        this.clearState()\r\n        this.props.history.push('/')\r\n    }\r\n    toggleSignUp = (ev) => {\r\n        ev.preventDefault()\r\n        this.setState({ isSignUp: !this.state.isSignUp })\r\n    }\r\n    render() {\r\n        const { username, password, fullname } = this.state.credentials;\r\n        const { isSignUp, users } = this.state;\r\n        if (!users) return <div>loading...</div>\r\n        return (\r\n            <section className=\"items-center main-container page-padding\">\r\n                <form className=\"login flex column justify-center align-center\">\r\n                    <h1>{isSignUp ? 'Sign Up' : 'Login'}</h1>\r\n                    <h2>{isSignUp ? 'Welcome to AnyGo' : 'Welcome back'}</h2>\r\n                    <div className=\"input-fields flex column align-center\">\r\n                        {isSignUp && <div className='fullname-input'>\r\n                            <input className='flex' type=\"text\" name=\"fullname\" placeholder=\"fullname\" value={fullname} onChange={this.handleChange} required />\r\n                        </div>}\r\n                        <div className={isSignUp ? 'login-input border-top' : 'login-input'}>\r\n                            <input className='flex' type=\"text\" name=\"username\" placeholder=\"Username\" value={username} onChange={this.handleChange} required />\r\n                        </div>\r\n                        <div className='password-input'>\r\n                            <input className='flex' type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={this.handleChange} required />\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"login-btn\" onClick={isSignUp ? this.onSignup : this.onLogin}>{isSignUp ? 'Sign Up' : 'Login'}</button>\r\n                    <div className=\"new-user\">\r\n                        <button className=\"new-user-btn\" onClick={this.toggleSignUp}>{isSignUp ? 'Already have an account ?' : 'New user ?'}</button>\r\n                    </div>\r\n                </form>\r\n                {/* <div><LoginSignup /></div> */}\r\n            </section>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onLogout,\r\n    onSignup,\r\n    updateUser,\r\n    loadUser\r\n}\r\n\r\nexport const LoginPage = withRouter(connect(mapStateToProps, mapDispatchToProps)(_LoginPage))\r\n","export default __webpack_public_path__ + \"static/media/travel.eaab62fe.jpg\";","\r\nimport React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { onCancelOrder, onRemoveOrder, onUpdateOrder } from '../../store/order.actions'\r\nimport LazyLoad from \"../preview-slider\"\r\n\r\nclass _TripPreview extends React.Component {\r\n    state = {\r\n        trip: null\r\n    }\r\n\r\n    getTime = (timeStamp) => {\r\n        var time = new Date(timeStamp * 1000);\r\n        var date = '0' + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = date.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n    onCancelTrip = (trip) => {\r\n        trip.status = \"canceled\"\r\n        this.props.onUpdateOrder(trip)\r\n    }\r\n    onRemoveTrip = (tripId) => {\r\n        this.props.onRemoveOrder(tripId)\r\n    }\r\n    render() {\r\n        const { trip } = this.props\r\n        var startDate = this.getTime(trip.startDate)\r\n        var endDate = this.getTime(trip.endDate)\r\n        return (\r\n            <div className=\"trip-preview-container\"  >\r\n                {trip.stay &&\r\n                    <section>\r\n                        <div>\r\n                            <NavLink to={`/stay/${trip.stay._id}`} className=\"trip-img-container\">\r\n                                {trip.stay.imgUrls.length && <LazyLoad imgs={trip.stay.imgUrls} />}\r\n                            </NavLink>\r\n                        </div>\r\n                        <div className=\"trip-preview-details\">\r\n                            <div className=\"name-dates-container flex space-between\">\r\n                                <div><h4>{trip.stay.name}</h4></div>\r\n                                <div>\r\n                                    <div>{startDate}</div>\r\n                                    <div>{endDate}</div>\r\n                                </div>\r\n                            </div>\r\n                            {trip.status === 'pending' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Wait for approval</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onCancelTrip(trip) }} className=\"cancel-btn\">Cancel</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'canceled' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Canceled</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onRemoveTrip(trip._id) }} className=\"cancel-btn\">Remove</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'declined' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Declined by host</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onRemoveTrip(trip._id) }} className=\"cancel-btn\">Remove</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'approved' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Approved by host!</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onCancelTrip(trip) }} className=\"cancel-btn\">Cancel</p>\r\n                                </div>\r\n                            </div>}\r\n                            {/* <div className=\"flex space-between\">\r\n                                {trip.status === 'pending' && <div>\r\n                                    <p>Wait for approval</p>\r\n                                </div>}\r\n                                {trip.status === 'approved' && <div>\r\n                                    <p>Approved by host!</p>\r\n                                </div>}\r\n                                <div><p className=\"user-cancel\" onClick={() => { this.onCancelTrip(trip) }}>Cancel order</p></div>\r\n                            </div> */}\r\n                        </div >\r\n                    </section>}\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onCancelOrder,\r\n    onRemoveOrder,\r\n    onUpdateOrder\r\n}\r\n\r\n\r\nexport const TripPreview = connect(mapStateToProps, mapDispatchToProps)(_TripPreview)","import { TripPreview } from \"./trip-preview\";\r\n\r\nexport function TripsList({ trips, isHost, stays }) {\r\n\r\n    return (\r\n        <div className=\"trip-list flex\">\r\n            {trips.map((trip, idx) =>\r\n                <TripPreview key={idx} trip={trip} />\r\n            )}\r\n        </div>)\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../store/user.actions'\r\nimport travelImg from '../assets/img/travel.jpg'\r\nimport { TripsList } from '../cmps/trips-page/trips-list.jsx'\r\nimport { loadOrders } from '../store/order.actions'\r\nclass _TripsPage extends React.Component {\r\n    state = {\r\n        user: null,\r\n        trips: []\r\n    }\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        await this.props.loadUser(this.props.user._id)\r\n        await this.props.loadOrders(this.props.user._id, 'buyer')\r\n    }\r\n    render() {\r\n        const { user, orders } = this.props\r\n        return (\r\n            <main className=\"trips-page-container main-container\">\r\n                {user && <section className=\"trips-container page-padding\">\r\n                    <div className=\"trips-title-container\">\r\n                        <h1>Trips</h1>\r\n                    </div>\r\n                    {!orders.length && <div className=\"no-trips-txt\">\r\n                        <p>When youre ready to start planning your next trip, were here to help. </p>\r\n                        <div className=\"trips-img-container\">\r\n                            <img src={travelImg} alt=\"\" />\r\n                        </div>\r\n                    </div>}\r\n                  \r\n                    {orders && orders.length && <section className=\"trips-container\">\r\n                        <TripsList trips={orders} isHost={user.isHost} />\r\n                    </section>}\r\n                </section>}\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        orders: state.orderModule.orders\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    loadOrders\r\n}\r\n\r\n\r\nexport const TripsPage = connect(mapStateToProps, mapDispatchToProps)(_TripsPage)","\r\nimport { Component } from 'react';\r\nimport { GoogleApiWrapper } from 'google-maps-react';\r\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng, } from 'react-places-autocomplete';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nclass _AddStayMap extends Component {\r\n\r\n    state = {\r\n        selectedPlace: '',\r\n        loc: {\r\n            lat: '',\r\n            lng: '',\r\n            address: '',\r\n            country: ''\r\n        }\r\n\r\n    }\r\n    handleChange = (address) => {\r\n        this.setState({ selectedPlace: address });\r\n    }\r\n    handleSelect = async (address) => {\r\n        const results = await geocodeByAddress(address)\r\n        const latLng = await getLatLng(results[0])\r\n        this.setState({ selectedPlace: address, loc: { lat: latLng.lat, lng: latLng.lng, address: address } }, () => {\r\n            this.props.handleAddressChange(this.state.loc)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { selectedPlace } = this.state\r\n        return (\r\n            <section >\r\n                <div className=\"add-form-line flex align-center \">\r\n                    <label className=\"add-line\" htmlFor=\"\">Address</label>\r\n\r\n                    <PlacesAutocomplete\r\n                        value={selectedPlace}\r\n                        onChange={this.handleChange}\r\n                        onSelect={this.handleSelect}\r\n                    >\r\n                        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n                            <div>\r\n                                <TextField\r\n                                    value={selectedPlace}\r\n                                    {...getInputProps({\r\n                                        placeholder: 'Search Places ...',\r\n                                        className: 'location-search-input',\r\n                                    })}\r\n                                />\r\n                                <div className=\"autocomplete-dropdown-container\">\r\n                                    {loading && <div>Loading...</div>}\r\n                                    {suggestions.map((suggestion, idx) => {\r\n                                        const className = suggestion.active\r\n                                            ? 'suggestion-item--active'\r\n                                            : 'suggestion-item';\r\n                                        // inline style for demonstration purpose\r\n                                        const style = suggestion.active\r\n                                            ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                                            : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                                        return (\r\n                                            <div\r\n                                                key={idx}\r\n                                                {...getSuggestionItemProps(suggestion, {\r\n                                                    className,\r\n                                                    style,\r\n                                                })}\r\n                                            >\r\n                                                <span>{suggestion.description}</span>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </PlacesAutocomplete>\r\n                </div>\r\n                {/* <div className=\"main-add-map-container\">\r\n\r\n                    <Map\r\n                        containerStyle={style}\r\n                        google={this.props.google}\r\n                        zoom={15}\r\n                        initialCenter={center}\r\n                        onClick={this.onMapClicked}\r\n                        center={center}\r\n                    >\r\n                        <Marker\r\n                            position={center}\r\n                            name={'Current location'}\r\n                            onClick={this.onMarkerClicked}\r\n                        />\r\n                    </Map>\r\n                </div>\r\n                <div>\r\n                    {this.state.loc.address && <h1 className=\"address-title\">{this.state.loc.address.split(',')[0]} , {this.state.loc.address.split(',')[1]}</h1>}\r\n                </div> */}\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport const AddStayMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyC4nnRlZ8NjJzwvd5SZMk3ukykZTfqRKNU')\r\n})(_AddStayMap)","export default __webpack_public_path__ + \"static/media/no-img.b21add8f.png\";","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router';\r\nimport { onAddStay } from '../../store/stay.actions'\r\nimport { AddStayMap } from './add-stay-map';\r\nimport { TextField } from '@material-ui/core';\r\nimport { TextareaAutosize } from \"@material-ui/core\";\r\nimport Select from 'react-select';\r\nimport noImg from '../../assets/img/no-img.png'\r\nclass _AddStay extends React.Component {\r\n    state = {\r\n        newStay: {\r\n            name: '',\r\n            assetType: '',\r\n            assetSpace: '',\r\n            summary: '',\r\n            uniqueStay: false,\r\n            imgUrls: [],\r\n            price: '',\r\n            capacity: '',\r\n            amenities: [],\r\n            labels: [],\r\n            loc: {\r\n                country: '',\r\n                countryCode: '',\r\n                address: '',\r\n                lat: '',\r\n                lng: ''\r\n            },\r\n            host: '',\r\n            reviews: []\r\n        },\r\n        ameintiesOptions: [\r\n            { name: 'TV', isChecked: false },\r\n            { name: 'Wifi', isChecked: false },\r\n            { name: 'Kitchen', isChecked: false },\r\n            { name: 'Smoking allowed', isChecked: false },\r\n            { name: 'Cooking basics', isChecked: false }\r\n        ]\r\n    }\r\n    handleChange = ({ target }) => {\r\n        const field = target.name;\r\n        const value = target.type === 'number' ? +target.value : target.value;\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, [field]: value } }))\r\n    }\r\n    handleAmenityChange = ({ target }) => {\r\n        const name = target.name\r\n        const checked = target.checked\r\n        const { ameintiesOptions } = this.state\r\n        const { amenities } = this.state.newStay\r\n        const updatedAmeintiesOpts = ameintiesOptions.map(amenity => (amenity.name === name) ? { name, isChecked: checked } : amenity)\r\n        if (checked) amenities.push(name)\r\n        else {\r\n            const idx = amenities.findIndex(amenity => amenity === name)\r\n            amenities.splice(idx, 1)\r\n        }\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, amenities }, ameintiesOptions: updatedAmeintiesOpts }))\r\n    }\r\n    handleAddressChange = (address) => {\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, loc: address } }))\r\n    }\r\n    handleSelectChange = (target) => {\r\n        const field = target.name\r\n        const value = target.value\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, [field]: value } }))\r\n    }\r\n\r\n    onAddsStay = (ev) => {\r\n        ev.preventDefault()\r\n        const { newStay } = this.state\r\n        const { _id, fullname, ImgUrl } = this.props.user\r\n        newStay.assetType=`${newStay.assetSpace.split(' ')[1]} ${newStay.assetType}`\r\n        newStay.host = { fullname, _id, ImgUrl }\r\n        this.props.onAddStay(newStay)\r\n        this.setState({\r\n            newStay: {\r\n                name: '',\r\n                assetType: '',\r\n                assetSpace: '',\r\n                summary: '',\r\n                uniqueStay: false,\r\n                imgUrls: [noImg, noImg, noImg, noImg, noImg],\r\n                price: '',\r\n                capacity: '',\r\n                amenities: [],\r\n                labels: [],\r\n                loc: {\r\n                    country: '',\r\n                    countryCode: '',\r\n                    address: '',\r\n                    lat: '',\r\n                    lng: ''\r\n                },\r\n                host: '',\r\n                reviews: []\r\n            }\r\n        })\r\n        this.props.history.push('/explore')\r\n    }\r\n    onUploadImg = (ev) => {\r\n        const CLOUD_NAME = 'dkbfdybze'\r\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n        const file = ev.target.files[0]\r\n        const formData = new FormData()\r\n        formData.append(\"file\", file)\r\n        formData.append(\"upload_preset\", \"ewa9mksh\")\r\n        return fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                const state = this.state\r\n                const ImgUrl = res.url\r\n                state.newStay.imgUrls.push(ImgUrl)\r\n                this.setState((state))\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n    render() {\r\n        const { imgUrls, name, assetSpace, assetType, capacity, summary, price} = this.state.newStay\r\n        const { ameintiesOptions } = this.state\r\n        const spaceOptions = [\r\n            { name: 'assetSpace', value: 'An Entire place', label: 'An Entire place' },\r\n            { name: 'assetSpace', value: 'A Private room', label: 'A Private room' },\r\n            { name: 'assetSpace', value: 'A Shared room', label: 'A Shared room' },\r\n        ];\r\n\r\n        const assetTypeOptions = [\r\n            { name: 'assetType', value: 'Duplex', label: 'Duplex' },\r\n            { name: 'assetType', value: 'Villa', label: 'Villa' },\r\n            { name: 'assetType', value: 'Loft', label: 'Loft' },\r\n            { name: 'assetType', value: 'Farm', label: 'Farm' },\r\n            { name: 'assetType', value: 'Cabin', label: 'Cabin' },\r\n        ];\r\n\r\n        // const ameintiesOptions = [\r\n        //     'TV',\r\n        //     'Wifi',\r\n        //     'Kitchen',\r\n        //     'Smoking allowedarm',\r\n        //     'Cooking basics',\r\n\r\n        // ];\r\n        const style = {\r\n            margin: '20px 0',\r\n            padding: '20px',\r\n            width: '100%',\r\n            height: ' 150px',\r\n            resize: 'none',\r\n            borderRadius: '13px',\r\n            borderColor: ' #bdbcbc',\r\n            fontFamily: \"circular-book\",\r\n            fontSize: \"1rem\"\r\n        }\r\n        if (!imgUrls) return (<div>Loading</div>)\r\n        return (\r\n            <div className=\"add-stay-container\">\r\n                <div>\r\n                    <h1>Add stay!</h1>\r\n                </div>\r\n\r\n\r\n                <div className=\"add-stay-form-container flex\" onSubmit={this.onAddsStay}>\r\n                    <form className=\"add-stay-form\">\r\n                        <section className=\"add-basic-info-container flex align-center\">\r\n                            <div className=\"add-stay-name-container\">\r\n                                <label className=\"add-line\" htmlFor=\"\">Stay name</label>\r\n                                <TextField required type=\"text\" autoComplete=\"off\" value={name} name=\"name\" placeholder=\"Asset name...\" onChange={this.handleChange} />\r\n\r\n                            </div>\r\n                            <div className=\"add-stay-location-container\">\r\n                                <AddStayMap handleAddressChange={this.handleAddressChange} />\r\n                            </div>\r\n\r\n                        </section>\r\n                        <section className=\"add-stay-imgs-container flex\">\r\n                            <div className=\"add-stay-imgs flex\">\r\n                                <div className=\"primary-img square-ratio\" >\r\n\r\n                                    {imgUrls[0] ? <img src={imgUrls[0]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                </div>\r\n                                <div className=\"add-small-imgs-container flex column space-between\">\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[1] ? <img src={imgUrls[1]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                    </div>\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[2] ? <img src={imgUrls[2]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"add-small-imgs-container flex column space-between\">\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[3] ? <img src={imgUrls[3]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                    </div>\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[4] ? <img src={imgUrls[4]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </section>\r\n                        <section className=\"add-stay-details-container flex \">\r\n                            <div className=\"add-form-line flex align-center space-between\">\r\n                                <label className=\"add-line\" htmlFor=\"\">Capacity</label>\r\n                                <TextField required type=\"number\" value={capacity} name=\"capacity\" placeholder=\"Capacity...\" onChange={this.handleChange} />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center space-between\">\r\n                                <label className=\"add-line\" htmlFor=\"\">Asset space</label>\r\n                                <Select\r\n                                    required\r\n                                    placeholder=\"Space type\"\r\n                                    onChange={this.handleSelectChange}\r\n                                    name=\"assetSpace\"\r\n                                    className=\"add-stay-select\"\r\n                                    value={assetSpace}\r\n                                    options={spaceOptions}\r\n                                />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center space-between\">\r\n                                <label className=\"add-line\" htmlFor=\"\">What is your asset type?</label>\r\n                                <Select\r\n                                    required\r\n                                    placeholder=\"Asset type\"\r\n                                    onChange={this.handleSelectChange}\r\n                                    name=\"assetType\"\r\n                                    className=\"add-stay-select\"\r\n                                    value={assetType}\r\n                                    options={assetTypeOptions}\r\n                                />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center space-between\">\r\n                                <TextField required type=\"number\" value={price} name=\"price\" placeholder=\"Price\" onChange={this.handleChange} />\r\n                                <label className=\"add-line\" htmlFor=\"\">/per night</label>\r\n                            </div>\r\n\r\n                        </section>\r\n                        <section className=\"add-stay-summary\">\r\n                            <div className=\"add-desc-line flex column  space-between\">\r\n                                <label className=\"add-line\" htmlFor=\"\">Describe your asset</label>\r\n                                <TextareaAutosize\r\n                                    required\r\n                                    style={style}\r\n                                    value={summary}\r\n                                    placeholder=\"Describe your asset...\"\r\n                                    className=\"asset-desc-input\"\r\n                                    onChange={this.handleChange}\r\n                                    name=\"summary\"\r\n                                    autoComplete=\"off\" />\r\n                            </div>\r\n                        </section>\r\n                        <section className=\"add-amenities-container \">\r\n                            {ameintiesOptions.map((amenity, idx) => {\r\n                                return <div key={idx} className=\"add-amenities-line flex align-center space-between\">\r\n                                    <input type=\"checkbox\" checked={amenity.isChecked} name={amenity.name} onChange={this.handleAmenityChange} />\r\n                                    <label variant=\"h5\">{amenity.name}</label>\r\n                                </div>\r\n                            })}\r\n                        </section>\r\n                        <button className=\" add-page-btn add-stay-btn\">\r\n                            Add Stay\r\n                        </button>\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onAddStay\r\n}\r\n\r\n\r\nexport const AddStay = withRouter(connect(mapStateToProps, mapDispatchToProps)(_AddStay))","import MUIDataTable from \"mui-datatables\";\r\nimport { Component } from \"react\";\r\nimport { FaStar } from \"react-icons/fa\";\r\nimport { NavLink } from \"react-router-dom\";\r\n// import { HoststayPreview } from \"./host-stay-preview\";\r\n\r\nexport class HostStaysList extends Component {\r\n    getData = () => {\r\n        const { stays, orders } = this.props\r\n        const dataStays = [];\r\n        let editedOrder;\r\n        if (stays) {\r\n            stays.forEach(stay => {\r\n                editedOrder = {\r\n                    stayName: stay.name,\r\n                    address: stay.loc.address,\r\n                    price: `$${stay.price}`,\r\n                    reviews: <div className=\"host-stays-reviews flex align-center\">\r\n                        <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                        <p >{stay.reviewsAvg}</p>\r\n                        <p >({stay.reviews.length} reviews)</p>\r\n                    </div>,\r\n                    // reviews: stay.reviews.length,\r\n                    // reviewsAvg: stay.reviewsAvg,\r\n                    orders: orders.filter(order => order.stay._id === stay._id).length,\r\n                    link: <NavLink to={`/stay/${stay._id}`}>Go to stay</NavLink>\r\n                }\r\n                dataStays.unshift(editedOrder)\r\n                editedOrder = null\r\n            })\r\n            return dataStays\r\n        }\r\n    }\r\n    render() {\r\n        const columns = [\r\n\r\n            {\r\n                name: 'stayName',\r\n                label: \"Name\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"address\",\r\n                label: \"Address\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"price\",\r\n                label: \"Price\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"reviews\",\r\n                label: \"Reviews\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"orders\",\r\n                label: \"Total orders\",\r\n\r\n            },\r\n            {\r\n                name: \"link\",\r\n                label: \" \",\r\n\r\n            }\r\n        ];\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n        return (\r\n            <div className=\"notifications-page-container\">\r\n                <section className=\"notifications-container\">\r\n                    <MUIDataTable\r\n                        title={\"Your orders\"}\r\n                        data={this.getData()}\r\n                        columns={columns}\r\n                        options={options}\r\n\r\n                    />\r\n                </section>\r\n                {/* {stays.map((stay, idx) => */}\r\n                {/* <HoststayPreview key={idx} stay={stay} /> */}\r\n                {/* )} */}\r\n\r\n            </div>)\r\n    }\r\n}","import { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../../store/user.actions'\r\nimport { onUpdateOrder, onRemoveOrder } from '../../store/order.actions'\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { FaStar } from 'react-icons/fa'\r\nimport ArrowRightAltRoundedIcon from '@mui/icons-material/ArrowRightAltRounded';\r\n\r\nclass _OrdersDashboard extends Component {\r\n    state = {\r\n        user: null,\r\n        orders: null\r\n    }\r\n    componentDidMount() {\r\n        const { user, orders } = this.props\r\n        this.setState({ orders })\r\n\r\n        if (user) this.props.loadUser(user._id)\r\n        window.scrollTo(0, 0)\r\n\r\n    }\r\n    getTime = (timestamp) => {\r\n        var time = new Date(timestamp * 1000);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n    getData = () => {\r\n        const { orders } = this.props\r\n        const dataOrders = [];\r\n        let editedOrder;\r\n        if (orders) {\r\n            orders.forEach(order =>{\r\n                 editedOrder = {\r\n                    stayName: order.stay.name,\r\n                    // address: order.loc.address,\r\n                    buyerName: order.buyer.fullname,\r\n                    buyerImg: <div className=\"user-order-img-container flex align-center\">\r\n                        <img src={`https://i.pravatar.cc/100?u=${order.buyer._id.substr(order.buyer._id.length - 10)}`} alt=\"\" />\r\n                        <p>{order.buyer.fullname}</p>\r\n                    </div>,\r\n                    price: `$${order.totalPrice}`,\r\n                    status: `${order.status.charAt(0).toUpperCase()}${order.status.substr(1)}`,\r\n                    checkIn: this.getTime(order.startDate),\r\n                    checkOut: this.getTime(order.endDate),\r\n                    approveBtn: <div className=\"host-action-btns flex\">\r\n                        {order.status === 'pending' && <button className=\"approve-order-btn\" onClick={() => { this.onApproveOrder(order._id) }}>Approve</button>}\r\n                        <button className=\"approve-order-btn\" onClick={() => { (order.status === \"declined\") ? this.onRemoveOrder(order._id) : this.onDeclinelOrder(order._id) }}>\r\n                            {(order.status === \"pending\") ? 'Decline' : (order.status === \"approved\") ? 'Cancel' : 'Remove'}</button>\r\n                    </div>\r\n\r\n                }\r\n                dataOrders.unshift(editedOrder)\r\n                editedOrder = null\r\n            })\r\n            return dataOrders\r\n        }\r\n    }\r\n    getTotalRate = (orders) => {\r\n        let totalRate = 0;\r\n        orders.forEach(order => { totalRate += order.stay.reviewsAvg })\r\n        totalRate = totalRate / orders.length\r\n        return totalRate\r\n    }\r\n    getTotalPrice = (orders) => {\r\n        let totalPrice = 0;\r\n        orders.forEach(order => { totalPrice += +order.totalPrice })\r\n        return totalPrice\r\n    }\r\n    onApproveOrder = (orderId) => {\r\n        const { orders } = this.props\r\n        const order = orders.filter(order => order._id === orderId)\r\n        order[0].status = \"approved\"\r\n        this.props.onUpdateOrder(order[0])\r\n    }\r\n    onDeclinelOrder = (orderId) => {\r\n        const { orders } = this.props\r\n        const order = orders.filter(order => order._id === orderId)\r\n        order[0].status = \"declined\"\r\n        this.props.onUpdateOrder(order)\r\n    }\r\n    onRemoveOrder = (orderId) => {\r\n        this.props.onRemoveOrder(orderId)\r\n    }\r\n    getOrdersStatus = (status) => {\r\n        const { orders } = this.props\r\n        const filterdOrders = orders.filter(order => order.status === status)\r\n        return filterdOrders.length\r\n    }\r\n    render() {\r\n        const { orders } = this.props\r\n        const columns = [\r\n            {\r\n                name: 'buyerImg',\r\n                label: \"Name\",\r\n            },\r\n            {\r\n                name: \"stayName\",\r\n                label: \"Address\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"checkIn\",\r\n                label: \"Check in\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"checkOut\",\r\n                label: \"Check out\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"price\",\r\n                label: \"Price\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"status\",\r\n                label: \"Status\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"approveBtn\",\r\n                label: \"Actions\",\r\n\r\n            }\r\n        ];\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n\r\n        return (\r\n            <main className=\"notifications-page-container  \">\r\n                <section className=\"dashboard-header-container flex\">\r\n                    <div className=\"total-rate-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Total Rate</p>\r\n                        </div>\r\n                        <div className=\"dashboard-value flex space-between align-center \">\r\n                            <div className=\"flex  align-center \">\r\n                                <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                                <p className=\"dash-avg-score\">{(!this.getTotalRate(orders)) ? 0 : this.getTotalRate(orders).toFixed(1)}</p>\r\n                            </div>\r\n                            <div className=\"dash-stats-arrow-container flex\">\r\n                                <p>{<ArrowRightAltRoundedIcon className={`stat-arrow ${(Math.random() >= 0.5) ? 'down' : 'up'}`} />}</p>\r\n                                <p className=\"dash-review-stat\">{Math.floor(Math.random() * 7) + 1}%</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"dash-earning-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Monthly earnings</p>\r\n                        </div>\r\n                        <div className=\"dashboard-value\">\r\n                            <p className=\"dash-avg-earning\">{new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(this.getTotalPrice(orders))}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"dash-earning-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Orders</p>\r\n                        </div>\r\n                        <div className=\"orders-sec-dash flex \">\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle approved\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('approved')}/{orders.length}</p>\r\n                            </div>\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle pending\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('pending')}/{orders.length}</p>\r\n                            </div>\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle declined\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('declined')}/{orders.length}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <section className=\"notifications-container\">\r\n                    <MUIDataTable\r\n                        title={\"Your orders\"}\r\n                        data={this.getData()}\r\n                        columns={columns}\r\n                        options={options}\r\n                    />\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    onUpdateOrder,\r\n    onRemoveOrder\r\n}\r\n\r\nexport const OrdersDashboard = connect(mapStateToProps, mapDispatchToProps)(_OrdersDashboard)","import Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../store/user.actions'\r\nimport { AddStay } from '../cmps/host-page/add-stay';\r\nimport { loadOrders } from '../store/order.actions'\r\nimport { loadStays, setFilter } from '../store/stay.actions'\r\nimport { HostStaysList } from '../cmps/host-page/host-stays-list';\r\nimport { OrdersDashboard } from '../cmps/host-page/dash-board';\r\n\r\n// import { OrdersList } from '../cmps/hosts-list.jsx'\r\nclass _HostPage extends React.Component {\r\n    state = {\r\n        user: null,\r\n        orders: [],\r\n        stays: [],\r\n        selectedTab: 'orders'\r\n    }\r\n    async componentDidMount() {\r\n        const { user } = this.props\r\n        window.scrollTo(0, 0)\r\n        this.onGetHostStays()\r\n        if (user) {\r\n            try {\r\n                await this.props.loadOrders(user._id, 'host')\r\n                await this.props.loadStays(this.props.filterBy)\r\n                // await this.props.loadUser(user._id)\r\n            } catch (err) {\r\n            }\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.onClearFilter()\r\n\r\n    }\r\n    onClearFilter = () => {\r\n        const { filterBy } = this.props\r\n        filterBy.hostId = ''\r\n        this.props.setFilter(filterBy)\r\n    }\r\n    onGetHostStays = () => {\r\n        const newFilter = this.props.filterBy\r\n        newFilter.hostId = this.props.user._id\r\n        this.props.setFilter(newFilter)\r\n    }\r\n\r\n    onChangeTab = (ev, value) => {\r\n        this.setState({ selectedTab: value })\r\n    }\r\n\r\n    render() {\r\n        const { user, orders, stays } = this.props\r\n        const { selectedTab } = this.state\r\n        return (\r\n            <main className=\"host-page-container main-container\">\r\n                {/* <div className=\" page-padding\"> */}\r\n                <div>\r\n                    <section className=\"host-tabs-container\">\r\n                        <Tabs\r\n                            value={selectedTab}\r\n                            onChange={this.onChangeTab}\r\n                            textColor=\"secondary\"\r\n                            indicatorColor=\"secondary\"\r\n                            aria-label=\"secondary tabs example\"\r\n                        >\r\n                            <Tab value=\"orders\" label={orders ? `Orders (${orders.length})` : 'Orders'} />\r\n                            <Tab value=\"my-stays\" label=\"My stays\" />\r\n                            <Tab value=\"add-stay\" label=\"Add a stay\" />\r\n                            {/* <Tab value=\"stats\" label=\"Stats\" /> */}\r\n                        </Tabs>\r\n                    </section>\r\n                    {user && <section className=\"host-container\">\r\n\r\n                        {selectedTab === 'orders' && <div>\r\n                            <div className=\"orders-container\">\r\n                                <OrdersDashboard orders={orders} />\r\n                                {/* <OrdersList orders={orders} /> */}\r\n                            </div>\r\n                        </div>}\r\n                        {selectedTab === 'my-stays' && <div className=\"orders-container\">\r\n                                {stays && <HostStaysList orders={orders} stays={stays} />}\r\n                        </div>}\r\n                        {/* {selectedTab === 'stats' && <div>\r\n                            <HostChart />\r\n                        </div>} */}\r\n                        {selectedTab === 'add-stay' && <div>\r\n                            <AddStay />\r\n                        </div>}\r\n                    </section>}\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        orders: state.orderModule.orders,\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy\r\n\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    loadOrders,\r\n    loadStays,\r\n    setFilter\r\n\r\n\r\n}\r\n\r\n\r\nexport const HostPage = connect(mapStateToProps, mapDispatchToProps)(_HostPage)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n// import { stayService } from '../services/stay.service'\r\nimport { onBecomeHost, loadUser } from '../store/user.actions.js'\r\nimport { FaAirbnb } from 'react-icons/fa'\r\n\r\n\r\nclass _BecomeAHost extends React.Component {\r\n    async componentDidMount() {\r\n        await this.props.loadUser(this.props.user._id)\r\n    }\r\n    onBecomeHost = () => {\r\n        if (this.props.user) {\r\n            const userId = this.props.user._id\r\n            this.props.onBecomeHost(userId)\r\n            this.props.history.push('/host')\r\n        }\r\n        else this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"be-host-container\">\r\n                <div className=\"be-host-left-container flex column \">\r\n                    <div className=\"be-host-logo flex align-center\" onClick={() => { this.props.history.push('/') }}><FaAirbnb color=\"#fff\" size={40} /></div>\r\n                    <div className=\"be-host-txt-container flex column align-center\">\r\n                        <div><h1>Hosting</h1></div>\r\n                        <div><h1>makes AnyGo,</h1></div>\r\n                        <div><h1>AnyGo</h1></div>\r\n                    </div>\r\n                    <div className=\"be-host-btn-container flex  align-center\">\r\n                        <button onClick={this.onBecomeHost} className=\"be-host-btn\">Try hosting</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"be-host-img-container\">\r\n                    <img src=\"https://res.cloudinary.com/dkbfdybze/image/upload/v1633436197/become-host_ufwcx6.jpg\" alt=\"\" />\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onBecomeHost,\r\n    loadUser\r\n}\r\n\r\nexport const BecomeAHost = connect(mapStateToProps, mapDispatchToProps)(_BecomeAHost)","import { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { loadUser, updateUser } from '../store/user.actions'\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\n\r\nclass _NotificationsPage extends Component {\r\n    state = {\r\n        user: null,\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n    }\r\n    async componentWillUnmount() {\r\n        const { user } = this.props\r\n        if (user?.notifications?.length) {\r\n            const userUnreadNotifs = user.notifications.map(notif => ({ ...notif, isRead: true }))\r\n            await this.props.updateUser({ ...user, notifications: userUnreadNotifs })\r\n\r\n        }\r\n    }\r\n    getTime = (timestamp) => {\r\n        var time = new Date(timestamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n    getData = () => {\r\n        const { notifications } = this.props.user\r\n        const dataNotifications = [];\r\n        let editedNotification;\r\n        if (notifications) {\r\n            notifications.forEach(notification => {\r\n                editedNotification = {\r\n                    ...notification,\r\n                    byUserImg: <div className=\"user-order-img-container flex align-center\">\r\n                        <img src={notification.byUserImg} alt=\"\" />\r\n                        <p>{notification.byUser}</p>\r\n                    </div>,\r\n                    createdAt: this.getTime(notification.createdAt)\r\n                    // approveBtn: <div className=\"host-action-btns flex\">\r\n                    //     {notification.status === 'pending' && <button className=\"approve-notification-btn\" onClick={() => { this.onApproveNotification(notification._id) }}>Approve</button>}\r\n                    //     <button className=\"approve-notification-btn\" onClick={() => { (notification.status === \"declined\") ? this.onRemoveNotification(notification._id) : this.onDeclinelNotification(notification._id) }}>\r\n                    //         {(notification.status === \"pending\") ? 'Decline' : (notification.status === \"approved\") ? 'Cancel' : 'Remove'}</button>\r\n                    // </div>\r\n                }\r\n                dataNotifications.unshift(editedNotification)\r\n                editedNotification = null\r\n            })\r\n            return dataNotifications\r\n        }\r\n    }\r\n    render() {\r\n        const { user } = this.props\r\n        const columns = [\r\n            {\r\n                name: \"byUserImg\",\r\n                label: \"Name\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"notifTxt\",\r\n                label: \"Notification\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"createdAt\",\r\n                label: \"Time\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            }\r\n        ];\r\n\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n\r\n        return (\r\n            <main className=\"notifications-page-container  main-container\">\r\n                <section className=\"page-padding\">\r\n                    <div className=\"notifications-title-container\">\r\n                        <h1>Notifications</h1>\r\n                    </div>\r\n                    {user && <section className=\"notifications-container\" >\r\n                        <MUIDataTable\r\n                            title={\"Notifications list\"}\r\n                            data={this.getData()}\r\n                            columns={columns}\r\n                            options={options}\r\n\r\n                        />\r\n                    </section>}\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    updateUser,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const NotificationsPage = connect(mapStateToProps, mapDispatchToProps)(_NotificationsPage)","import { HomePage } from './pages/home-page.jsx'\r\nimport { AboutUs } from './pages/about-us.jsx'\r\nimport { Explore } from './pages/explore.jsx'\r\n// import { ChatApp } from './pages/chat-app.jsx'\r\nimport { AdminApp } from './pages/admin-app.jsx'\r\nimport { StayDetails } from './pages/stay-details.jsx'\r\nimport { LoginPage } from './pages/login.jsx'\r\nimport { TripsPage } from './pages/trips-page.jsx'\r\nimport { HostPage } from './pages/host-page.jsx'\r\nimport { BecomeAHost } from './pages/become-a-host.jsx'\r\nimport { NotificationsPage } from './pages/notifications.jsx'\r\n// import { Login } from './pages/'\r\n\r\n// Routes accesible from the main navigation (in AppHeader)\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: HomePage,\r\n    },\r\n\r\n    {\r\n        path: '/explore/',\r\n        component: Explore,\r\n    },\r\n    {\r\n        path: '/stay/:stayId',\r\n        component: StayDetails,\r\n    },\r\n    {\r\n        path: '/trips',\r\n        component: TripsPage,\r\n    },\r\n    {\r\n        path: '/host',\r\n        component: HostPage,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginPage\r\n    },\r\n    {\r\n        path: '/become-a-host',\r\n        component: BecomeAHost\r\n    },\r\n\r\n    {\r\n        path: '/about',\r\n        component: AboutUs,\r\n\r\n    },\r\n    {\r\n        path: '/notifications',\r\n        component: NotificationsPage,\r\n\r\n    },\r\n    {\r\n        path: '/admin',\r\n        component: AdminApp,\r\n    }\r\n]\r\n\r\nexport default routes;","import React from 'react'\r\nimport { FaPlus, FaMinus } from 'react-icons/fa'\r\nexport class GuestsModal extends React.Component {\r\n\r\n\r\n    render() {\r\n        const { adultNumber, kidsNumber, infantsNumber, onSelectAmount } = this.props\r\n        return (\r\n            <div className=\"guest-modal flex column\">\r\n                <div className=\"guest-card flex space-between  align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Adults</p>\r\n                        <p className=\"guest-desc\">Ages 13 or above</p>\r\n                    </div>\r\n                    <div className=\"guest-amount\">\r\n                        <p className={adultNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('adultNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{adultNumber ? adultNumber : 0}</p>\r\n                        <p className=\"guest-btn \" onClick={() => onSelectAmount('adultNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"guest-card flex space-between align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Children</p>\r\n                        <p className=\"guest-desc\">Ages 2-12</p>\r\n                    </div>\r\n                    <div className=\"guest-amount\">\r\n                        <p className={kidsNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('kidsNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{kidsNumber ? kidsNumber : 0}</p>\r\n                        <p className=\"guest-btn \" onClick={() => onSelectAmount('kidsNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"guest-card flex space-between  align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Infants</p>\r\n                        <p className=\"guest-desc\">Under 2</p>\r\n                    </div>\r\n                    <div className=\"guest-amount \">\r\n                        <p className={infantsNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('infantsNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{infantsNumber ? infantsNumber : 0}</p>\r\n                        <p className=\"guest-btn\" onClick={() => onSelectAmount('infantsNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nconst locations = [{ city: 'Porto', country: 'Portugal', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png' }, { city: 'Barcelona', country: 'Spain', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png' }, { city: 'Tel Aviv', country: 'Israel', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png' }, { city: 'Paris', country: \"France\", imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg' }, { city: 'London', country: 'United Kingdom', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg' }, { city: 'New York', country: 'United States', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png' }, { city: 'Amsterdam', country: 'Netherlands', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg' }, { city: 'Rome', country: 'Italy', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png' }]\r\nexport function LocationsPopUp({ closeAllModals, onSetLocationPopUp }) {\r\n    async function onPushTo(loc) {\r\n        closeAllModals()\r\n        onSetLocationPopUp(loc)\r\n    }\r\n\r\n    return (\r\n        <div className=\"location-modal flex column\">\r\n            {locations.map((location, idx) => <div key={idx} className=\"location-card flex align-center\" onClick={() => { onPushTo(location.city) }}>\r\n                <img src={location.imgUrl} alt=\"location\" className=\"loc-img\" />\r\n                <div className=\"flex column\">\r\n                    <p className=\"location-city\">{location.city}</p>\r\n                    <p className=\"location-country\">{location.country}</p>\r\n                </div>\r\n            </div>\r\n            )}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { GuestsModal } from './guests-modal';\r\nimport { FaSearch, FaChevronLeft } from 'react-icons/fa'\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { DatesPicker2 } from \"./dates-picker2\"\r\nimport { LocationsPopUp } from './locations-popup';\r\nclass _SearchBar extends React.Component {\r\n    state = {\r\n        startDate: null,\r\n        endDate: null,\r\n        location: '',\r\n        adultNumber: 0,\r\n        kidsNumber: 0,\r\n        infantsNumber: 0,\r\n        capacity: 0,\r\n        amenities: '',\r\n        assetType: '',\r\n        uniqueStay: '',\r\n        guestModal: false,\r\n        datesModal: false,\r\n        hostId: ''\r\n    }\r\n    componentDidMount() {\r\n        const params = this.onGetQueryParams()\r\n        this.props.setFilter(params)\r\n        this.setState({ ...params })\r\n    }\r\n    onGetQueryParams = () => {\r\n        const urlParams = new URLSearchParams(this.props.location.search);\r\n        const location = urlParams.get('location') || '';\r\n        const startDate = urlParams.get('startDate') || null;\r\n        const endDate = urlParams.get('endDate') || null;\r\n        const adultNumber = +urlParams.get('adults') || 1;\r\n        const kidsNumber = +urlParams.get('kids') || 0;\r\n        const infantsNumber = +urlParams.get('infants') || 0;\r\n        const params = {\r\n            location,\r\n            startDate,\r\n            endDate,\r\n            adultNumber,\r\n            kidsNumber,\r\n            infantsNumber,\r\n            capacity: 0,\r\n            amenities: '',\r\n            assetType: '',\r\n            uniqueStay: '',\r\n            guestModal: false,\r\n            datesModal: false,\r\n            hostId: ''\r\n        }\r\n        return params\r\n    }\r\n    handleChange = (ev) => {\r\n        const value = ev.target.value;\r\n        var newValue = this.capitalizeArray(value)\r\n        this.setState({ location: newValue }, () => { this.props.setFilter(this.state) });\r\n    }\r\n    capitalizeArray = (str) => {\r\n        var newStr = str.split(' ')\r\n        for (var i = 0; i < newStr.length; i++) {\r\n            var currWord = ''\r\n            currWord = newStr[i]\r\n            currWord = this.capitalize(currWord)\r\n            newStr[i] = currWord\r\n        }\r\n        newStr = newStr.join(' ')\r\n        return newStr\r\n    }\r\n    capitalize = (str) => {\r\n        return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()\r\n    }\r\n    onSelectDates = ({ startDate, endDate }) => {\r\n        this.setState({ startDate, endDate }, () => { this.props.setFilter(this.state) })\r\n    }\r\n\r\n    onSelectAmount = (guestType, diff) => {\r\n        switch (guestType) {\r\n            case 'adultNumber':\r\n                if (this.state.adultNumber + diff >= 0) {\r\n                    this.setState({ adultNumber: this.state.adultNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            case 'kidsNumber':\r\n                if (this.state.kidsNumber + diff >= 0) {\r\n                    this.setState({ kidsNumber: this.state.kidsNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            case 'infantsNumber':\r\n                if (this.state.infantsNumber + diff >= 0) {\r\n                    this.setState({ infantsNumber: this.state.infantsNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    onSetFilter = async () => {\r\n        await this.props.setFilter(this.state)\r\n        const { location, startDate, endDate, adultNumber, kidsNumber, infantsNumber } = this.state\r\n        const urlQuery = `explore/?location=${location}&startDate=${startDate}&endDate=${endDate}&adults=${adultNumber}&kids=${kidsNumber}&infants=${infantsNumber}`\r\n        this.props.closeAllModals()\r\n        await this.props.loadStays(this.props.filterBy)\r\n        this.props.history.push(urlQuery)\r\n    }\r\n    onSetLocationPopUp = (val) => {\r\n        this.setState({ location: val },()=>{this.onSetFilter()})\r\n    }\r\n\r\n    timeToShow = (date, val) => {\r\n        var timeStamp = Date.parse(date);\r\n        var time = new Date(timeStamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n\r\n    render() {\r\n        const { isMiniHeader, guestModal, datesModal, locModal, onToggleSearchModals, onToggleMiniSearchBar, closeAllModals, filterBy } = this.props\r\n        const { location, adultNumber, kidsNumber, infantsNumber, endDate, startDate } = this.state\r\n        return (\r\n            <div >\r\n                <div className=\"search-bar-container flex align-center \">\r\n                    <button className=\"go-back-btn\" onClick={() => { window.history.back() }}><FaChevronLeft size={22} /></button>\r\n                    <div className=\"location-container flex column\" onClick={() => { onToggleSearchModals('locModal') }}>\r\n                        <label htmlFor=\"location\" className=\"loc-inpt\">Location\r\n                            <input type=\"text\" name=\"location\" autoComplete=\"off\" value={location} onChange={this.handleChange} placeholder=\"Where are you going?\" />\r\n                        </label>\r\n                    </div>\r\n                    {locModal && <LocationsPopUp onSetLocationPopUp={this.onSetLocationPopUp}  closeAllModals={closeAllModals}  />}\r\n                    <div className=\"mini-search-input\" onClick={onToggleMiniSearchBar}>\r\n                        <p >\r\n                            {filterBy.location ? filterBy.location : 'Start your search'}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"dates-container flex \">\r\n                        <div className=\"check-in-input flex column\">\r\n                            <label htmlFor=\"\" onClick={() => { onToggleSearchModals('datesModal') }}>Check in <span>{startDate ? this.timeToShow(startDate, 'startDate') : 'Add date'}</span></label>\r\n                        </div>\r\n                        <div className=\"check-out-input flex column\" >\r\n                            <label htmlFor=\"\" onClick={() => { onToggleSearchModals('datesModal') }}>Check out <span>{endDate ? this.timeToShow(endDate, 'startDate') : 'Add date'}</span></label>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"guests-container\" >\r\n                        <div className=\"guests-label align-center flex\" onClick={(ev) => { onToggleSearchModals('guestModal',) }}>\r\n                            <label htmlFor=\"\" className=\"flex column\" >\r\n                                <span>Guests</span>\r\n                                <span className=\"guest-placeholder\">Add guests</span>\r\n                            </label>\r\n                        </div>\r\n                        {guestModal && <GuestsModal adultNumber={adultNumber} kidsNumber={kidsNumber} infantsNumber={infantsNumber} onSelectAmount={this.onSelectAmount} />}\r\n                    </div>\r\n                    <div className=\"search-btn-container flex align-center justify-center\" onClick={() => { this.onSetFilter() }} >\r\n                        {isMiniHeader && < FaSearch size={13} />}\r\n                        {!isMiniHeader && < FaSearch size={20} />}\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"search-dates-container \">\r\n                    {datesModal && <DatesPicker2 onSelectDates={this.onSelectDates} />}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport const SearchBar = withRouter(_SearchBar)\r\n\r\n// export const SearchBar = withRouter(connect(mapStateToProps, mapDispatchToProps)(_SearchBar))\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { onLogout, loadUser } from '../store/user.actions'\r\nimport NotificationsNoneIcon from '@mui/icons-material/NotificationsNone';\r\nimport { socketService } from '../services/socket.service'\r\nclass _UserMenu extends React.Component {\r\n    state = {\r\n        isLoginModalOn: false\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.user) {\r\n            this.props.loadUser(this.props.user._id)\r\n        }\r\n    }\r\n\r\n    onLogout = () => {\r\n        this.props.onLogout()\r\n        this.props.onToggleSearchModals('menuModal')\r\n        socketService.off('getNotif')\r\n        socketService.terminate()\r\n        // this.props.history.push('/')\r\n    }\r\n\r\n    onCloseLogin = () => {\r\n        this.setState({ isLoginModalOn: false })\r\n        this.props.onToggleSearchModals('menuModal')\r\n    }\r\n    onOpenLogin = () => {\r\n        this.props.history.push('/login')\r\n        this.props.onOpenBotLogin()\r\n        this.props.onToggleSearchModals('menuModal')\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <div className=\"user-menu-container flex column\" >\r\n                <section className=\"user-menu top-section \">\r\n                    <div >\r\n                        {user && <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line flex space-between\" to=\"/notifications\"><p>Notifications</p><span className={user.notifications.length ? 'user-notifications-icon' : 'user-notifications-icon hide'}>{user.notifications.some(notif => !notif.isRead) ? <NotificationsNoneIcon /> : ''}</span></NavLink>}\r\n                    </div>\r\n                    <div  >\r\n                        {user && <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line\" to=\"/trips\"><p >Trips</p></NavLink>}\r\n                        {!user && <p className=\"user-menu-line\"> Trips</p>}\r\n\r\n                    </div>\r\n                    {\r\n                        user && user.isHost && <div >\r\n                            <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} to=\"/host\" className=\"user-menu-line\" ><p>Host</p></NavLink>\r\n\r\n                        </div>\r\n                    }\r\n                    <div className=\"user-menu-line\">\r\n                        <p>Wishlist</p>\r\n                    </div>\r\n                    <div >\r\n                        {user ? <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line\" to=\"/become-a-host\"><p >Host a expirience</p></NavLink> : <p className=\"user-menu-line\">Host a expirience</p>}\r\n\r\n                    </div>\r\n                </section >\r\n                <section className=\"user-menu bottom-section\">\r\n                    {user && <div className=\"user-menu-line\" onClick={this.onLogout}>\r\n                        <p>Logout</p>\r\n                    </div>}\r\n                    {!user && <div className=\"user-menu-line\" onClick={this.onOpenLogin}>\r\n                        <p>Login</p>\r\n                        {/* <Link to='/login'>Login</Link> */}\r\n                    </div>}\r\n                    {!user && <div className=\"user-menu-line\">\r\n                        <p>Signup</p>\r\n                    </div>}\r\n\r\n                </section>\r\n            </div >\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogout,\r\n    loadUser\r\n}\r\nexport const UserMenu = withRouter(connect(mapStateToProps, mapDispatchToProps)(_UserMenu))","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { FaAirbnb, FaBars} from 'react-icons/fa'\r\nimport { onLogin, onLogout, onSignup, loadUsers, removeUser, } from '../store/user.actions.js'\r\nimport { setFilter, setMiniHeader, loadStays } from '../store/stay.actions';\r\nimport { SearchBar } from './search-bar';\r\nimport { UserMenu } from './user-menu';\r\nclass _AppHeader extends React.Component {\r\n    state = {\r\n        isUserMenuOpen: false,\r\n        isLoginBotmodal: false,\r\n        isScreenOpen: false,\r\n        guestModal: false,\r\n        datesModal: false,\r\n        locModal: false,\r\n        isMiniInput: false,\r\n        isNotifRead: false\r\n\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        window.addEventListener('scroll', this.onScrollCloseModals)\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.isMiniHeader !== this.props.isMiniHeader && !this.props.isMiniHeader) {\r\n            this.closeAllModals()\r\n        }\r\n    \r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.onScrollCloseModals)\r\n    }\r\n\r\n    onScrollCloseModals = (ev) => {\r\n        if (ev.target.scrollingElement.scrollTop > 1) {\r\n            this.closeAllModals()\r\n            this.setState({ isMiniInput: false })\r\n        }\r\n    }\r\n    onOpenBotLogin = () => {\r\n        this.setState({ isLoginBotmodal: true })\r\n    }\r\n    onToggleScreen = (val) => {\r\n        this.setState({ isScreenOpen: val })\r\n    }\r\n    onToggleSearchModals = (modal) => {\r\n        this.closeAllModals()\r\n        switch (modal) {\r\n            case 'locModal':\r\n                this.onToggleScreen(!this.state.locModal)\r\n                this.setState({ locModal: !this.state.locModal })\r\n                break;\r\n            case 'guestModal':\r\n                this.onToggleScreen(!this.state.guestModal)\r\n                this.setState({ guestModal: !this.state.guestModal })\r\n                break;\r\n            case 'datesModal':\r\n                this.onToggleScreen(!this.state.datesModal)\r\n                this.setState({ datesModal: !this.state.datesModal })\r\n                break;\r\n            case 'menuModal':\r\n                this.onToggleScreen(!this.state.isUserMenuOpen)\r\n                this.setState({ isUserMenuOpen: !this.state.isUserMenuOpen })\r\n                break;\r\n            default:\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n    closeAllModals = () => {\r\n        this.onToggleScreen(false)\r\n        this.setState({ locModal: false, guestModal: false, datesModal: false, isUserMenuOpen: false })\r\n    }\r\n    onToggleMiniSearchBar = () => {\r\n        this.setState({ isMiniInput: !this.state.isMiniInput })\r\n    }\r\n    render() {\r\n        const { user, setFilter, filterBy, isMiniHeader } = this.props\r\n        const { isUserMenuOpen, isLoginBotmodal, isScreenOpen, locModal, datesModal, guestModal, isMiniInput} = this.state\r\n        return (\r\n            <header className={isMiniInput ? `app-header-conatiner main-container mini-header-with-input` : isMiniHeader ? `app-header-conatiner main-container mini-header full` : `app-header-conatiner main-container `}>\r\n                <div className={isScreenOpen ? \"screen screen-open full\" : \"screen full\"} onClick={() => { this.closeAllModals() }}></div>\r\n                <nav className=\"user-header-section flex space-between align-center\">\r\n                    <div className=\"logo-container flex align-center\">\r\n                        <NavLink to=\"/\" className=\"logo\"><FaAirbnb size={40} color={!isMiniHeader ? '#fff' : '#ff5a5f'} /><span>AnyGo</span></NavLink>\r\n                    </div>\r\n                    <div className=\"search-bar\">\r\n                        {isMiniHeader && <SearchBar loadStays={this.props.loadStays} closeAllModals={this.closeAllModals} setFilter={setFilter} isMiniHeader={isMiniHeader} filterBy={filterBy} datesModal={datesModal} guestModal={guestModal} locModal={locModal} onToggleSearchModals={this.onToggleSearchModals} onToggleMiniSearchBar={this.onToggleMiniSearchBar} />}\r\n                    </div>\r\n                    <div className=\"nav-bar-container flex \">\r\n                        <div className=\"flex align-center\">\r\n                            <NavLink to=\"/explore/\" className=\"nav-opt\">Explore</NavLink>\r\n                        </div>\r\n                        <div className=\"nav-options flex align-center\">\r\n                            {user && user.isHost ? <NavLink to=\"/host\" className=\"nav-opt\">Switch to hosting</NavLink> : <NavLink to=\"/become-a-host\" className=\"nav-opt\">Become a host</NavLink>}\r\n                        </div>\r\n                        <div className=\"user-img-container \" onClick={() => { this.onToggleSearchModals('menuModal') }}>\r\n                            <button className=\"user-btn flex align-center btn-section  \">\r\n                                <FaBars className=\"menu-btn\" />\r\n                                <div className=\"user-logo-container\">\r\n                                    {user && <img src={`https://i.pravatar.cc/100?u=${user._id.substr(user._id.length - 10)}`} alt=\"\" />}\r\n                                </div>\r\n\r\n                            </button>\r\n                            {(user?.notifications.length && user.notifications.some(notif => !notif.isRead)) ? <div className=\"notif-icon-container\">\r\n                                <div className=\"notif-icon flex align-center justify-center\">{user.notifications.filter(notif => !notif.isRead).length}</div>\r\n                            </div> : ''}\r\n                        </div>\r\n                        <div className=\"user-menu\">\r\n                            {isUserMenuOpen && <UserMenu onCheckRead={this.onCheckRead} onToggleSearchModals={this.onToggleSearchModals} onOpenBotLogin={this.onOpenBotLogin} />}\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n                {!isMiniHeader && <SearchBar loadStays={this.props.loadStays} closeAllModals={this.closeAllModals} setFilter={setFilter} isMiniHeader={isMiniHeader} filterBy={filterBy} datesModal={datesModal} guestModal={guestModal} locModal={locModal} onToggleSearchModals={this.onToggleSearchModals} />}\r\n                {isLoginBotmodal && <div className=\"main-container\">\r\n                </div>}\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.userModule.users,\r\n        user: state.userModule.user,\r\n        count: state.userModule.count,\r\n        isLoading: state.systemModule.isLoading,\r\n        filterBy: state.stayModule.filterBy,\r\n        isMiniHeader: state.stayModule.isMiniHeader\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onLogout,\r\n    loadUsers,\r\n    removeUser,\r\n    setFilter,\r\n    setMiniHeader,\r\n    loadStays\r\n}\r\n\r\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","import { Link } from \"react-router-dom\"\r\n\r\nexport function TopRatedStays({ stays}) {\r\n    return (\r\n        <section className=\"flex column top-rated-stays \">\r\n            <h4>Top rated stays</h4>\r\n            {\r\n                stays.map(stay =>\r\n                    \r\n                    <div  key={stay._id} className=\"flex column stay-links\">\r\n                        <Link to={`/stay/${stay._id}`}>{stay.name}</Link>\r\n                    </div>\r\n                )\r\n            }\r\n        </section>\r\n    )\r\n}","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n\r\n\r\n// eventBusService.emit('baba', [5, 8, 11])\r\n// setTimeout(()=>{\r\n//     eventBusService.emit('baba', 17)\r\n// }, 2000)\r\n\r\n/* Listening Component...\r\n    import {eventBusService} from 'path...event-bus-service'\r\n    eventBusService.on('some-event', (dataFromEvent) => {\r\n    do something with dataFromEvent\r\n    })\r\n\r\n   Receiving Component...\r\n    eventBusService.emit('some-event', data)\r\n*/","import React from 'react'\r\n\r\nimport { eventBusService } from '../services/event-bus.service.js'\r\n\r\n\r\nexport class UserMsg extends React.Component {\r\n\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Here we listen to the event that we emited, its important to remove the listener \r\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\r\n      this.setState({ msg })\r\n      setTimeout(() => {\r\n        this.setState({ msg: null })\r\n      }, 2500)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent()\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <span></span>\r\n    const msgClass = this.state.msg.type || ''\r\n    return (\r\n      <section className={'user-msg ' + msgClass}>\r\n        <div className=\"content-msg\">\r\n        <h3> {this.state.msg.txt}</h3>\r\n        </div>\r\n        <div className=\"close-msg-btn\">\r\n        <button onClick={() => {\r\n          this.setState({ msg: null })\r\n        }}>x</button>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n","const locations = [{ city: 'Porto', country: 'Portugal' }, { city: 'Barcelona', country: 'Spain' }, { city: 'Tel Aviv', country: 'Israel' }, { city: 'Paris', country: \"France\" }, { city: 'London', country: 'United Kingdom' }, { city: 'New York', country: 'United States' }, { city: 'Amsterdam', country: 'Netherlands' }, { city: 'Rome', country: 'Italy' }]\r\nexport function FooterLocations({onClickLoc}) {\r\n    return (\r\n        <div className='flex column footer-locations'>\r\n            <h4>Locations</h4>\r\n            {\r\n                locations.map((loc,idx) =><p key={idx} onClick={()=>onClickLoc(loc.city,'location')}>{loc.city},{loc.country}</p>)\r\n            }\r\n        </div>\r\n    )\r\n}","import { Link } from \"react-router-dom\"\r\n\r\nexport function NearbyStays({ stays }) {\r\n    return <div className='flex column nearby-stays'>\r\n        <h4>Nearby</h4>\r\n        {stays.map(stay => <Link key={stay._id} to={`/stay/${stay._id}`}>{stay.name}</Link>)}\r\n    </div>\r\n}","\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { TopRatedStays } from './app-footer/top-rated-stays'\r\nimport { loadStays } from '../store/stay.actions'\r\nimport { removeFromCart, checkout, setFilter } from '../store/stay.actions'\r\nimport { onBookTrip, loadUser } from '../store/user.actions'\r\nimport { UserMsg } from './user-msg.jsx'\r\nimport { FooterLocations } from './app-footer/locations-footer'\r\nimport { NearbyStays } from './app-footer/nearby-stays'\r\nclass _AppFooter extends React.Component {\r\n\r\n    state = {\r\n        isCartShown: false,\r\n        topRatedStays: [],\r\n        nearbyStays: [],\r\n        stays: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadStays(this.props.filterBy)\r\n        this.setState({ stays: this.props.stays })\r\n        await this.props.loadUser()\r\n        const topRatedStays = this.state.stays.slice(0, 8)\r\n        this.setState({ topRatedStays })\r\n        this.filterLocs(this.state.stays)\r\n    }\r\n    filterLocs =  (stays) => {\r\n        stays = stays.filter(stay => stay.loc.address.toLowerCase().includes('paris'))\r\n        stays = stays.slice(0, 8)\r\n         this.setState({ nearbyStays: stays })\r\n    }\r\n    removeFromCart = (stayId) => {\r\n        this.props.removeFromCart(stayId)\r\n    }\r\n    checkout = () => {\r\n        this.props.checkout();\r\n    }\r\n    getstaytTotal() {\r\n        return this.props.cart.reduce((acc, stay) => acc + stay.price, 0)\r\n    }\r\n    onClickLoc = (val, type) => {\r\n        const newFilter = { ...this.props.filterBy }\r\n        newFilter[type] = val\r\n        this.props.setFilter(newFilter)\r\n        this.props.history.push('/explore')\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <footer className=\"app-footer main-container full\">\r\n                <h2>Insparation for future getaways</h2>\r\n                <div className='flex footer-link-headers'>\r\n\r\n\r\n                </div>\r\n                <div className=\"flex footer-links align-center space-between\">\r\n                    <TopRatedStays stays={this.state.topRatedStays} />\r\n                    <FooterLocations locations={this.locations} onClickLoc={this.onClickLoc} />\r\n                    <NearbyStays stays={this.state.nearbyStays} />\r\n\r\n                </div>\r\n                <div className=\"footer-info flex space-between align-center\">\r\n                    <div className=\"footer-first flex\">\r\n                        <p>\r\n                             2021 AnyGo ,Inc.,\r\n                        </p>\r\n                        <Link to='/login'>Login</Link>\r\n                        {user && <Link to={user.isHost ? '/host' : '/become-a-host'}>{user.isHost ? ' Host page' : ' Become a host'}</Link>}\r\n                    </div>\r\n                    <div className=\"footer-second flex\">\r\n                        <p>$US</p>\r\n                        <p>English(US)</p>\r\n                    </div>\r\n                </div>\r\n                <UserMsg />\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        count: state.userModule.count,\r\n        cart: state.stayModule.cart,\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    checkout,\r\n    onBookTrip,\r\n    removeFromCart,\r\n    loadStays,\r\n    loadUser,\r\n    setFilter\r\n}\r\n\r\n// export const AppFooter = connect(mapStateToProps, mapDispatchToProps)(_AppFooter)\r\nexport const AppFooter = withRouter(connect(mapStateToProps, mapDispatchToProps)(_AppFooter))","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {loadAndWatchUser} from '../store/user.actions'\r\n\r\nexport class _UserDetails extends Component {\r\n  \r\n  async componentDidMount() {\r\n    this.props.loadAndWatchUser(this.props.match.params.id)\r\n  }\r\n\r\n  render() {\r\n    const {user} = this.props\r\n    return (\r\n      <section className=\"user-details\">\r\n        <h1>User Details</h1>\r\n        {user && <div>\r\n          <h3>\r\n            {user.fullname}\r\n          </h3>\r\n          <pre>\r\n            {JSON.stringify(user, null, 2)}\r\n          </pre>\r\n        </div>}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.userModule.watchedUser\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadAndWatchUser\r\n}\r\n\r\nexport const UserDetails = connect(mapStateToProps, mapDispatchToProps)(_UserDetails)\r\n","import React from 'react'\r\n\r\n// const { Switch, Route } = ReactRouterDOM\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nimport routes from './routes'\r\n\r\nimport {AppHeader} from './cmps/app-header'\r\nimport {AppFooter} from './cmps/app-footer'\r\nimport {UserDetails} from './pages/user-details'\r\n\r\nexport class RootCmp extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"root-cmp\">\r\n                <AppHeader  />\r\n                <main>\r\n                    <Switch>\r\n                        {routes.map(route=> <Route key={route.path} exact component={route.component} path={route.path} /> )}\r\n                        <Route path=\"/user/:id\" component={UserDetails} />\r\n                    </Switch>\r\n                </main>\r\n                <AppFooter />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store'\r\nimport { RootCmp } from './root-cmp';\r\nimport './assets/styles/main.scss';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}