{"version":3,"sources":["store/stay.reducer.js","services/async-storage.service.js","services/http.service.js","services/user.service.js","store/user.reducer.js","store/review.reducer.js","store/system.reducer.js","store/order.reducer.js","store/store.js","assets/img/pets-allowed.jpg","assets/img/entire-duplex.jpg","assets/img/large-capacity.jpg","assets/img/unique-stays.jpg","services/stay.service.js","store/stay.actions.js","pages/home-page.jsx","pages/about-us.jsx","services/util.service.js","store/user.actions.js","cmps/preview-slider.jsx","cmps/stay-preview.jsx","cmps/stays-list.jsx","cmps/DynamicModal.jsx","cmps/price-range-slider.jsx","cmps/explore-filter.jsx","assets/img/three-dots.svg","pages/explore.jsx","pages/admin-app.jsx","cmps/stay-details/details-base-info.jsx","cmps/stay-details/details-asset-sum.jsx","cmps/stay-details/details-amenities.jsx","services/order.service.js","services/socket.service.js","store/order.actions.js","cmps/dates-picker2.jsx","cmps/stay-details/_guests-modal.jsx","cmps/stay-details/details-checkout-form.jsx","cmps/_read-more.jsx","cmps/stay-details/reviews-preview.jsx","cmps/stay-details/reviews-list.jsx","cmps/stay-details/stay-map.jsx","cmps/stay-details/add-review.jsx","cmps/stay-details/_reviews-avg.jsx","pages/stay-details.jsx","cmps/login-signup.jsx","pages/login.jsx","assets/img/travel.jpg","cmps/trips-page/trip-preview.jsx","cmps/trips-page/trips-list.jsx","pages/trips-page.jsx","cmps/host-page/add-stay-map.jsx","assets/img/no-img.png","cmps/host-page/add-stay.jsx","cmps/host-page/host-stays-list.jsx","cmps/host-page/dash-board.jsx","pages/host-page.jsx","pages/become-a-host.jsx","pages/notifications.jsx","routes.js","cmps/guests-modal.jsx","cmps/locations-popup.jsx","cmps/search-bar.jsx","cmps/user-menu.jsx","cmps/app-header.jsx","cmps/app-footer/top-rated-stays.jsx","services/event-bus.service.js","cmps/user-msg.jsx","cmps/app-footer/locations-footer.jsx","cmps/app-footer/nearby-stays.jsx","cmps/app-footer.jsx","pages/user-details.jsx","root-cmp.jsx","index.js"],"names":["initialState","stays","bookedTrip","stay","review","lastRemovedStay","isMiniHeader","filterBy","startDate","endDate","location","adultNumber","kidsNumber","infantsNumber","capacity","amenities","assetType","uniqueStay","guestModal","datesModal","hostId","storageService","query","get","entityType","entityId","then","entities","find","entity","_id","post","newEntity","_makeId","push","_save","put","updatedEntity","idx","findIndex","splice","remove","postMany","newEntities","map","gStays","gUsers","users","JSON","parse","localStorage","getItem","regex","RegExp","filter","test","loc","address","split","Promise","resolve","setItem","stringify","length","text","possible","i","charAt","Math","floor","random","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","response","status","sessionStorage","clear","window","assign","STORAGE_KEY_LOGGEDIN_USER","gWatchedUser","userService","login","logout","signup","getLoggedinUser","getUsers","getById","userId","update","user","updatedUser","_saveLocalUser","userCred","isHost","imgUrl","notifications","mySaves","removeItem","addEventListener","freshUsers","watchedUser","u","count","reviews","isLoading","orders","order","rootReducer","combineReducers","stayModule","cart","state","action","newState","type","stayId","stayState","userModule","systemModule","reviewModule","reviewId","orderModule","lastRemovedOrder","orderId","orderState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","listeners","stayService","save","subscribe","listener","filterPageStays","filterdStays","isStay","forEach","amenity","includes","placeType","PropertyType","toLowerCase","price","priceRange","UpdatedStay","loadStays","dispatch","onAddStay","stayToAdd","savedStay","setFilter","setMiniHeader","getState","onEditStay","stayToSave","updatedStay","cs","_notifySubscribersStaysChanged","locations","city","country","_HomePage","onSetMiniHeader","ev","target","scrollingElement","scrollTop","props","setHeaderDisplay","innerWidth","removeEventListener","changeCount","diff","onClickLoc","val","newFilter","history","scrollTo","this","className","to","src","alt","onClick","duplex","pet","cap","unique","React","Component","mapDispatchToProps","HomePage","connect","FancyBox","style","float","onClose","children","Contacts","height","backgroundColor","Projects","useState","projs","setProjs","projList","proj","stopPropagation","p","transitionName","transitionEnterTimeout","transitionLeaveTimeout","Date","now","SplitPane","width","setWidth","display","left","flex","right","AboutUs","onTellMeMore","clearInterval","interval","toLocaleString","MyErrorBoundary","error","errorInfo","setState","whiteSpace","toString","componentStack","utilService","makeId","txt","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","delay","ms","setTimeout","toTimestamp","strDate","timeToShow","date","timeStamp","time","day","getDate","month","getMonth","year","getFullYear","substr","loadUsers","loadUser","removeUser","updateUser","userToSave","onLogin","credentials","onSignup","catch","err","onLogout","onToggleLikedStay","savedStayId","isLiked","saved","savedUser","onBookTrip","trip","host","hostUser","userTrip","id","hostOrder","myTrips","updatedHost","LazyLoad","imgs","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","img","_StayPreview","onToggleLikeStay","isStayLiked","name","baseVal","imgUrls","color","reviewsAvg","demoReviews","StayPreview","StaysList","DynamicModal","styleClass","child","index","AirbnbSlider","styled","Slider","theme","padding","border","boxShadow","marginLeft","marginRight","palette","mode","opacity","undefined","AirbnbThumbComponent","other","PriceRangeSlider","onSetPageFilter","allStaysPriceAvg","value","setValue","Box","sx","toFixed","m","components","Thumb","getAriaLabel","defaultValue","onChange","event","newValue","htmlFor","ExploreFilter","closeAllModals","modals","placeTypeIsOpen","PropertyTypeIsOpen","PriceIsOpen","AmenitiesTypeIsOpen","ameintiesOptions","onToggleModals","isChecked","onSetAmenity","onClearPageFilter","_Explore","isScreenOpen","frontFilter","updatedAmeintiesOpts","prevState","filterType","newStays","onToggleScreen","clearState","calcAllStaysPriceAvg","onRemoveStay","prompt","modal","staysAvg","reduce","acc","prevProps","loader","Explore","_AdminApp","username","AdminApp","BasicInfo","onToogleLikeStay","isMobilePics","AssetSum","AssetAmenities","getAmenitiesIcons","FastfoodTwoTone","orderService","UpdatedOrder","_notifySubscribersOrdersChanged","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","loadOrders","onRemoveOrder","onUpdateOrder","updatedOrder","DatesPicker2","handleSelect","selection","onSelectDates","toTimeStamp","selectionRange","key","classNames","rangeColors","ranges","GuestsCheckoutModal","onSelectGuests","toggleGuestsModal","guests","adults","kids","infants","_CheckoutForm","isGuestPopupOn","isCheckoutToReserve","isStayReserved","toggleDatesModal","getTripPrice","start","totalNights","totalPrice","calcGuestNum","fullname","buyer","onAddOrder","onCloseModal","getMouseCord","getBtnDivs","divStr","datesModalPos","handleChange","getBoundingClientRect","bottom","orderToAdd","notif","byUser","fullName","createdAt","isRead","savedOrder","CheckoutForm","ReadMore","onToogleReadModal","ReviewsPreview","isReadMoreOn","by","substring","_ReviewsList","slice","ReviewsList","_StayMap","center","lat","lng","onMapClicked","latLng","onMarkerClicked","isInfoWindowOn","onInfoWindowClose","containerStyle","position","margin","google","zoom","initialCenter","visible","StayMap","GoogleApiWrapper","apiKey","_AddReview","newReview","cleanliness","communication","checkIn","accuracy","onRemove","removeReview","clearReview","field","changeRating","score","formSubmited","preventDefault","onSubmit","initialRating","fullSymbol","emptySymbol","TextareaAutosize","resize","borderRadius","borderColor","fontFamily","fontSize","placeholder","autoComplete","AddReview","ReviewAvg","totalAvg","getAvrage","avgScore","getTotalAvg","totalReviewAvg","Object","keys","setReviewsAvg","types","toUpperCase","_StayDetails","stayReviews","setMobliePicsDisplay","match","loadStay","summary","StayDetails","_LoginSignup","password","isSignup","clearTemplate","editedNotif","notifTxt","toggleSignup","responseGoogle","LoginSignup","withRouter","_LoginPage","isSignUp","byUserImg","goBack","toggleSignUp","required","LoginPage","_TripPreview","getTime","onCancelTrip","onRemoveTrip","tripId","onCancelOrder","buyerId","TripPreview","TripsList","trips","_TripsPage","travelImg","TripsPage","_AddStayMap","selectedPlace","geocodeByAddress","results","getLatLng","handleAddressChange","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","TextField","suggestion","active","cursor","description","AddStayMap","_AddStay","newStay","assetSpace","labels","countryCode","handleAmenityChange","checked","handleSelectChange","onAddsStay","ImgUrl","noImg","onUploadImg","UPLOAD_URL","file","files","formData","FormData","append","fetch","body","json","console","options","label","variant","AddStay","HostStaysList","getData","editedOrder","dataStays","stayName","link","unshift","title","columns","sort","_OrdersDashboard","timestamp","dataOrders","buyerName","buyerImg","checkOut","approveBtn","onApproveOrder","onDeclinelOrder","getTotalRate","totalRate","getTotalPrice","getOrdersStatus","Intl","NumberFormat","currency","format","OrdersDashboard","_HostPage","selectedTab","onClearFilter","onGetHostStays","onChangeTab","Tabs","textColor","indicatorColor","Tab","HostPage","log","_BecomeAHost","onBecomeHost","BecomeAHost","_NotificationsPage","editedNotification","dataNotifications","notification","userUnreadNotifs","routes","path","component","GuestsModal","onSelectAmount","LocationsPopUp","onSetLocationPopUp","onPushTo","_SearchBar","onGetQueryParams","urlParams","URLSearchParams","search","capitalizeArray","str","newStr","currWord","capitalize","join","guestType","onSetFilter","urlQuery","locModal","onToggleSearchModals","onToggleMiniSearchBar","back","SearchBar","_UserMenu","isLoginModalOn","onCloseLogin","onOpenLogin","onOpenBotLogin","some","UserMenu","_AppHeader","isUserMenuOpen","isLoginBotmodal","isMiniInput","isNotifRead","onScrollCloseModals","onCheckRead","AppHeader","TopRatedStays","eventBusService","callListener","detail","dispatchEvent","CustomEvent","showUserMsg","myBus","UserMsg","msg","removeEvent","msgClass","FooterLocations","NearbyStays","_AppFooter","isCartShown","topRatedStays","nearbyStays","filterLocs","removeFromCart","checkout","total","changeScore","carId","AppFooter","_UserDetails","loadAndWatchUser","UserDetails","RootCmp","route","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4155c4d6.chunk.js","sourcesContent":["const initialState = {\r\n    stays: [],\r\n    bookedTrip: null,\r\n    stay: null,\r\n    review: null,\r\n    lastRemovedStay: null,\r\n    isMiniHeader: true,\r\n    filterBy: {\r\n        startDate: null,\r\n        endDate: null,\r\n        location: '',\r\n        adultNumber: 0,\r\n        kidsNumber: 0,\r\n        infantsNumber: 0,\r\n        capacity: 0,\r\n        amenities: '',\r\n        assetType: '',\r\n        uniqueStay: '',\r\n        guestModal: false,\r\n        datesModal: false,\r\n        hostId: ''\r\n    }\r\n}\r\nexport function stayReducer(state = initialState, action) {\r\n    var newState = state\r\n    var stays\r\n    var cart\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            newState = { ...state, stays: action.stays }\r\n            break\r\n        case 'SET_STAY':\r\n            newState = { ...state, stay: action.stay }\r\n            break\r\n        case 'REMOVE_STAY':\r\n            const lastRemovedStay = state.stays.find(stay => stay._id === action.stayId)\r\n            stays = state.stays.filter(stay => stay._id !== action.stayId)\r\n            newState = { ...state, stays, lastRemovedStay }\r\n            break\r\n        case 'ADD_STAY':\r\n            newState = { ...state, stays: [...state.stays, action.stay] }\r\n            break\r\n        case 'SET_HEADER':\r\n            newState = { ...state, isMiniHeader: action.isMiniHeader }\r\n            break\r\n        case 'SET_FILTER':\r\n            newState = { ...state, filterBy: { ...action.filter } }\r\n            break;\r\n        case 'UPDATE_STAY':\r\n            stays = state.stays.map(stay => (stay._id === action.stay._id) ? action.stay : stay)\r\n            newState = { ...state, stays, stay: action.stay }\r\n            break\r\n\r\n        case 'REMOVE_FROM_CART':\r\n            cart = state.cart.filter(stay => stay._id !== action.stayId)\r\n            newState = { ...state, cart }\r\n            break\r\n        case 'CLEAR_CART':\r\n            newState = { ...state, cart: [] }\r\n            break\r\n        case 'UNDO_REMOVE_STAY':\r\n            if (state.lastRemovedStay) {\r\n                newState = { ...state, stays: [...state.stays, state.lastRemovedStay], lastRemovedStay: null }\r\n            }\r\n            break\r\n        default:\r\n    }\r\n    // For debug:\r\n    window.stayState = newState\r\n\r\n    return newState\r\n\r\n}\r\n","import * as stays from '../data/stays-data.json';\r\nimport * as users from '../data/users-data.json';\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n    postMany\r\n}\r\nlet gStays = stays.default;\r\nlet gUsers = users.default;\r\n\r\nfunction query(entityType, delay = 200, filterBy) {\r\n    var entities;\r\n    var filterdEntities = []\r\n    if (entityType === 'stay') entities = JSON.parse(localStorage.getItem(entityType)) || _save('stay', gStays);\r\n    if (entityType === 'user') entities = JSON.parse(localStorage.getItem(entityType)) || _save('user', gUsers);\r\n    if (entityType === 'order') entities = JSON.parse(localStorage.getItem(entityType)) || _save('order',[]);\r\n    // var entities = JSON.parse(localStorage.getItem(entityType)) \r\n    if (filterBy) {\r\n        if (filterBy.location) {\r\n            const regex = new RegExp(filterBy.location, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.loc.address.split(',')[0]))\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.assetType) {\r\n            const regex = new RegExp(filterBy.assetType, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.assetType))\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.amenities) {\r\n            const regex = new RegExp(filterBy.amenities, 'i');\r\n            filterdEntities = entities.filter(entity => regex.test(entity.amenities))\r\n            return filterdEntities\r\n\r\n        }\r\n        if (filterBy.capacity) {\r\n            filterdEntities = entities.filter(entity => entity.capacity >= filterBy.capacity)\r\n            return filterdEntities\r\n        }\r\n        if (filterBy.uniqueStay) {\r\n            filterdEntities = entities.filter(entity => entity.uniqueStay)\r\n            return filterdEntities;\r\n        }\r\n\r\n\r\n    }\r\n    // return new Promise((resolve, reject) => {\r\n    //     setTimeout(() => {\r\n    //         // reject('OOOOPs')\r\n    //         resolve(entities)\r\n    //     }, delay)\r\n    // })\r\n    return Promise.resolve(entities)\r\n}\r\n\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n    // .then(entities =>)\r\n}\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n    .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}\r\n\r\nfunction postMany(entityType, newEntities) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            newEntities = newEntities.map(entity => ({ ...entity, _id: _makeId() }))\r\n            entities.push(...newEntities)\r\n            _save(entityType, entities)\r\n            return entities\r\n        })\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        if (err.response && err.response.status === 401) {\r\n            sessionStorage.clear();\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\n// import { socketService, SOCKET_EVENT_USER_UPDATED } from './socket.service'\r\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\r\nvar gWatchedUser = null;\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n}\r\n\r\nwindow.userService = userService\r\n\r\n\r\nasync function getUsers() {\r\n    const users = await httpService.get(`user`)\r\n    return users\r\n\r\n}\r\n\r\nasync function getById(userId) {\r\n    const user = await httpService.get(`user/${userId}`)\r\n    gWatchedUser = user;\r\n    return user;\r\n}\r\nfunction remove(userId) {\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // await storageService.put('user', user)\r\n    // Handle case in which admin updates other user's details\r\n    const updatedUser = await httpService.put(`user/${user._id}`, user)\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(updatedUser)\r\n    return updatedUser;\r\n}\r\n\r\nasync function login(userCred) {\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    // socketService.emit('set-user-socket', user._id);\r\n    if (user) return _saveLocalUser(user)\r\n}\r\nasync function signup(userCred) {\r\n    userCred.isHost = false;\r\n    userCred.imgUrl = '/img/img1.jpg';\r\n    // userCred.myStays = [];\r\n    userCred.notifications = [];\r\n    userCred.mySaves = []\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    // socketService.emit('set-user-socket', user._id);\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\r\n    // socketService.emit('unset-user-socket');\r\n    return await httpService.post('auth/logout')\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER) || 'null')\r\n    \r\n}\r\n\r\n\r\n\r\n// This IIFE functions for Dev purposes \r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n(async () => {\r\n    // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n\r\n    // Here we are listening to changes for the watched user (comming from other browsers)\r\n    window.addEventListener('storage', async () => {\r\n        if (!gWatchedUser) return;\r\n        const freshUsers = await storageService.query('user')\r\n        const watchedUser = freshUsers.find(u => u._id === gWatchedUser._id)\r\n        if (!watchedUser) return;\r\n        //     socketService.emit(SOCKET_EVENT_USER_UPDATED, watchedUser)\r\n        // }\r\n        gWatchedUser = watchedUser\r\n    })\r\n})();\r\n\r\n// This is relevant when backend is connected\r\n// (async () => {\r\n//     var user = getLoggedinUser()\r\n//     if (user) socketService.emit('set-user-socket', user._id)\r\n// })();\r\n\r\n","import { userService } from '../services/user.service.js'\r\n\r\n\r\nconst initialState = {\r\n    count: 10,\r\n    user: userService.getLoggedinUser(),\r\n    users: [],\r\n    watchedUser: null\r\n}\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    var users\r\n    switch (action.type) {\r\n      \r\n        case 'SET_USER':\r\n            newState = { ...state, user: action.user }\r\n            break;\r\n        case 'SET_WATCHED_USER':\r\n            newState = { ...state, watchedUser: action.user }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = { ...state, users: action.users }\r\n            break;\r\n        case 'UPDATE_USER':\r\n            users = state.users.map(user => (user._id === action.user._id) ? action.user : user)\r\n            newState = { ...state, users,user:action.user }\r\n            break\r\n        default:\r\n    }\r\n    // For debug:\r\n    // window.userState = newState;\r\n\r\n    return newState;\r\n\r\n}\r\n","const initialState = {\r\n  reviews: [],\r\n}\r\nexport function reviewReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews }\r\n    case 'ADD_REVIEW':\r\n      return { ...state, reviews: [...state.reviews, action.review] }\r\n    case 'REMOVE_REVIEW':\r\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","const initialState = {\r\n    orders: [],\r\n    order: null\r\n}\r\nexport function orderReducer(state = initialState, action) {\r\n    var newState = state\r\n    var orders\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            newState = { ...state, orders: action.orders }\r\n            break\r\n        case 'SET_ORDER':\r\n            newState = { ...state, order: action.order }\r\n            break\r\n        case 'REMOVE_ORDER':\r\n            const lastRemovedOrder = state.orders.find(order => order._id === action.orderId)\r\n            orders = state.orders.filter(order => order._id !== action.orderId)\r\n            newState = { ...state, orders, lastRemovedOrder }\r\n            break\r\n        case 'ADD_ORDER':\r\n            newState = { ...state, orders: [...state.orders, action.order] }\r\n            break\r\n        case 'UPDATE_ORDER':\r\n            orders = state.orders.map(order => (order._id === action.order._id) ? action.order : order)\r\n            newState = { ...state, orders, order: action.order }\r\n            break\r\n        default:\r\n            break;\r\n    }\r\n\r\n    // For debug:\r\n    window.orderState = newState\r\n\r\n    return newState\r\n\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { stayReducer } from './stay.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { reviewReducer } from './review.reducer'\r\nimport { systemReducer } from './system.reducer'\r\nimport { orderReducer } from './order.reducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    stayModule: stayReducer,\r\n    userModule: userReducer,\r\n    systemModule: systemReducer,\r\n    reviewModule: reviewReducer,\r\n    orderModule: orderReducer\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/pets-allowed.3367843a.jpg\";","export default __webpack_public_path__ + \"static/media/entire-duplex.ffefbac4.jpg\";","export default __webpack_public_path__ + \"static/media/large-capacity.009296c6.jpg\";","export default __webpack_public_path__ + \"static/media/unique-stays.a435de4d.jpg\";","import { httpService } from './http.service.js'\r\n\r\nconst listeners = []\r\n\r\nexport const stayService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n    subscribe,\r\n    update,\r\n    filterPageStays\r\n}\r\nwindow.cs = stayService;\r\n\r\nasync function query(filterBy = {}) {\r\n    const stays = await httpService.get('stay', { params: filterBy })\r\n    return stays\r\n}\r\nasync function getById(stayId) {\r\n    const stay = await httpService.get(`stay/${stayId}`)\r\n    return stay\r\n}\r\nfunction remove(stayId) {\r\n    return httpService.delete(`stay/${stayId}`)\r\n}\r\nasync function save(stay) {\r\n    return httpService.post('stay', stay)\r\n\r\n}\r\nasync function update(stay) {\r\n    const UpdatedStay = await httpService.put(`stay/${stay._id}`, stay)\r\n    return UpdatedStay;\r\n}\r\n\r\n\r\nfunction filterPageStays(filterBy, stays) {\r\n    var filterdStays = stays\r\n    // if (!Object.values(filterBy.amenities).includes(true)) {\r\n    //     filterdStays = stays\r\n    // } else {\r\n\r\n    //     filterdStays = filterdStays.filter(stay => {\r\n    //     })\r\n    // }\r\n    if (filterBy.amenities.length) {\r\n        filterdStays = filterdStays.filter(stay => {\r\n            let isStay = true\r\n            filterBy.amenities.forEach(amenity => {\r\n                if (!stay.amenities.includes(amenity)) isStay = false\r\n            })\r\n            return isStay\r\n        })\r\n    }\r\n\r\n    if (filterBy.placeType) {\r\n        filterdStays = filterdStays.filter(stay => stay.assetType.split(' ')[0] === filterBy.placeType.split(' ')[0])\r\n    }\r\n    if (filterBy.PropertyType) {\r\n        filterdStays = filterdStays.filter(stay => stay.assetType.toLowerCase().split(' ')[1] === filterBy.PropertyType.toLowerCase())\r\n    }\r\n    filterdStays = filterdStays.filter(stay => stay.price >= filterBy.priceRange[0] && stay.price <= filterBy.priceRange[1])\r\n    return filterdStays\r\n}\r\nfunction subscribe(listener) {\r\n    listeners.push(listener)\r\n}\r\n\r\nfunction _notifySubscribersStaysChanged(stays) {\r\n    listeners.forEach(listener => listener(stays))\r\n}\r\n\r\nwindow.addEventListener('storage', () => {\r\n    query()\r\n        .then(stays => {\r\n            _notifySubscribersStaysChanged(stays)\r\n        })\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { stayService } from \"../services/stay.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nexport function loadStays(filterBy = null) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const stays = await stayService.query(filterBy)\r\n            dispatch({\r\n                type: 'SET_STAYS',\r\n                stays\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function loadStay(stayId) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const stay = await stayService.getById(stayId)\r\n            dispatch({ type: 'SET_STAY', stay })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\nexport function onRemoveStay(stayId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await stayService.remove(stayId)\r\n            dispatch({\r\n                type: 'REMOVE_STAY',\r\n                stayId\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onAddStay(stayToAdd) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const savedStay = await stayService.save(stayToAdd)\r\n\r\n            dispatch({\r\n                type: 'ADD_STAY',\r\n                stay: savedStay\r\n            })\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy) {\r\n    return async (dispatch) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_FILTER',\r\n                filter: filterBy\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function setMiniHeader(isMiniHeader) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_HEADER',\r\n                isMiniHeader\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onEditStay(stayToSave) {\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedStay = await stayService.update(stayToSave)\r\n            dispatch({\r\n                type: 'UPDATE_STAY',\r\n                stay: updatedStay\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function removeFromCart(carId) {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'REMOVE_FROM_CART',\r\n            carId\r\n        })\r\n    }\r\n}\r\n\r\nexport function checkout() {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const state = getState()\r\n            const total = state.stayModule.cart.reduce((acc, stay) => acc + stay.price, 0)\r\n            const score = await userService.changeScore(-total)\r\n            dispatch({ type: 'SET_SCORE', score })\r\n            dispatch({ type: 'CLEAR_CART' })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport pet from '../assets/img/pets-allowed.jpg'\r\nimport duplex from '../assets/img/entire-duplex.jpg'\r\nimport cap from '../assets/img/large-capacity.jpg'\r\nimport unique from '../assets/img/unique-stays.jpg'\r\nimport { setFilter, setMiniHeader } from '../store/stay.actions';\r\nconst locations = [{ city: 'Porto', country: 'Portugal', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png' }, { city: 'Barcelona', country: 'Spain', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png' }, { city: 'Tel Aviv', country: 'Israel', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png' }, { city: 'Paris', country: \"France\", imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg' }, { city: 'London', country: 'United Kingdom', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg' }, { city: 'New York', country: 'United States', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png' }, { city: 'Amsterdam', country: 'Netherlands', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg' }, { city: 'Rome', country: 'Italy', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png' }]\r\n\r\nclass _HomePage extends React.Component {\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        this.props.setMiniHeader(false)\r\n        window.addEventListener('resize', this.setHeaderDisplay)\r\n        this.setHeaderDisplay()\r\n    }\r\n    componentWillUnmount() {\r\n        this.props.setMiniHeader(true)\r\n        window.removeEventListener('resize', this.setHeaderDisplay)\r\n        window.removeEventListener('scroll', this.onSetMiniHeader)\r\n    }\r\n    onSetMiniHeader = (ev) => {\r\n        if (ev.target.scrollingElement.scrollTop > 50) {\r\n            this.props.setMiniHeader(true)\r\n        } else {\r\n            this.props.setMiniHeader(false)\r\n        }\r\n    }\r\n    setHeaderDisplay = () => {\r\n        if (window.innerWidth <= 780) {\r\n            window.removeEventListener('scroll', this.onSetMiniHeader)\r\n            this.props.setMiniHeader(true)\r\n        } else {\r\n            window.addEventListener('scroll', this.onSetMiniHeader)\r\n            this.props.setMiniHeader(false)\r\n        }\r\n    }\r\n    changeCount = (diff) => {\r\n        const action = { type: 'CHANGE_COUNT', diff }\r\n        this.props.dispatch(action)\r\n    }\r\n    onClickLoc = (val, type) => {\r\n        const newFilter = { ...this.props.filterBy }\r\n        newFilter[type] = val\r\n        this.props.setFilter(newFilter)\r\n        this.props.history.push('/explore')\r\n    }\r\n    render() {\r\n        return (\r\n            <section className=\"home-page flex column main-container\">\r\n                <div className=\"hero  full flex justify-center align-center\">\r\n                    <div className=\"where-to-go flex justify-center align-center\">\r\n                        <h3>Not sure where to go? Perfect.</h3>\r\n                        <button className=\"flex-btn flex justify-center align-center\">\r\n                            <Link to=\"/explore\">I'm flexible\r\n                            </Link>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"sug-loc\">\r\n                    <h2>Popular destinations</h2>\r\n                    <div className=\"locations\">\r\n                        {locations.map((location, idx) => <div key={idx + 1} className=\"loc-section flex\">\r\n                            <img src={location.imgUrl} alt=\"\" className=\"loc-img\" onClick={() => { this.onClickLoc(location.city, 'location') }} />\r\n                            <div className=\"loc-info flex column justify-center\">\r\n                                <p className=\"city-name\">{location.city}</p>\r\n                                <p className=\"country-name\">{location.country}</p>\r\n                            </div>\r\n                        </div>)}\r\n                    </div>\r\n                </div>\r\n                <div className=\"live-any flex column\">\r\n                    <h2>Live Anywhere</h2>\r\n                    <div className=\"live-loc flex space-between\">\r\n\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('duplex', 'assetType') }} src={duplex} />\r\n                            <p>Entire duplex</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('Pets allowed', 'amenity') }} src={pet} />\r\n                            <p>Pets Allowed</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc(7, 'capacity') }} src={cap} />\r\n                            <p>Large capacity</p>\r\n                        </div>\r\n                        <div className=\"live-card flex column\">\r\n                            <img className=\"live-img\" alt=\"alt-live\" onClick={() => { this.onClickLoc('unique', 'uniqueStay') }} src={unique} />\r\n                            <p>Unique stays</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"host-banner flex column justify-center\">\r\n                    <h1>Try hosting</h1>\r\n                    <p>Earn extra income and unlock new opportunities by sharing your space</p>\r\n                    <button className=\"try-host-btn\" onClick={()=>(this.props.user.isHost) ?this.props.history.push('/host') : this.props.history.push('/become-a-host')}>Learn More</button>\r\n                </div>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        count: state.userModule.count,\r\n        filterBy: state.stayModule.filterBy,\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setFilter,\r\n    setMiniHeader\r\n}\r\n\r\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { CSSTransitionGroup } from 'react-transition-group'\r\n\r\n\r\nfunction FancyBox(props) {\r\n    return <div className=\"fancy-box\">\r\n        <button style={{ float: 'right' }} onClick={props.onClose}>x</button>\r\n        {props.children}\r\n        {/* //loggiii// */}\r\n    </div>\r\n}\r\n\r\nFancyBox.propTypes = {\r\n    onClose: PropTypes.func.isRequired\r\n}\r\n\r\nfunction Contacts() {\r\n    return <section style={{ height: '50vh', backgroundColor: 'pink' }}>\r\n        <h2>Contacts</h2>\r\n    </section>\r\n}\r\nfunction Projects() {\r\n    const [projs, setProjs] = useState(['Puki Proj', 'Muki Proj'])\r\n    const projList = projs.map((proj, idx) => (\r\n        <div className=\"proj-preview\" key={proj} onClick={(ev) => {\r\n            ev.stopPropagation();\r\n            setProjs(projs.filter(p => p !== proj))\r\n        }}>\r\n            {proj}\r\n        </div>\r\n    ));\r\n    return <section style={{ height: '50vh', backgroundColor: 'lightblue' }}>\r\n        <h2>Projects</h2>\r\n        <CSSTransitionGroup transitionName=\"example\" transitionEnterTimeout={500}\r\n            transitionLeaveTimeout={300}>\r\n            {projList}\r\n        </CSSTransitionGroup>\r\n        <button onClick={ev => {\r\n            ev.stopPropagation();\r\n            setProjs([...projs, 'Babu Proj' + Date.now() % 100])\r\n        }}>Add</button>\r\n    </section >\r\n}\r\n\r\nfunction SplitPane(props) {\r\n\r\n    const [width, setWidth] = useState(30)\r\n\r\n    if (false && width === 60) {\r\n        throw new Error('Projects cannot load')\r\n    }\r\n    return (\r\n        <div className=\"split-pane\" style={{\r\n            display: 'flex'\r\n        }}>\r\n            <div style={{ width: width + '%' }} onClick={() => {\r\n                if (width + 10 <= 100) setWidth(width + 10)\r\n            }}>\r\n                {props.left}\r\n            </div>\r\n            <div style={{ flex: 1 }} onClick={() => {\r\n                if (width > 10) setWidth(width - 10)\r\n            }}>\r\n                {props.right}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport class AboutUs extends React.Component {\r\n    state = {\r\n        count: 1000,\r\n    }\r\n    componentDidMount() {\r\n        // this.interval = setInterval(() => {\r\n        //     this.setState(({ count }) => ({ count: count + utilService.getRandomIntInclusive(5, 20) }))\r\n        // }, 2500)\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    shouldComponentUpdate() {\r\n        return true\r\n    }\r\n\r\n    onTellMeMore = () => {\r\n    }\r\n    render() {\r\n        const { count } = this.state\r\n        return (\r\n            <section>\r\n                <h2>About Us</h2>\r\n                <MyErrorBoundary>\r\n\r\n                    <SplitPane\r\n                        left={\r\n                            <Contacts />\r\n                        }\r\n                        right={\r\n                            <Projects />\r\n                        } />\r\n\r\n                </MyErrorBoundary>\r\n\r\n            <FancyBox >\r\n                    <h3>{count.toLocaleString()} Followers</h3>\r\n                    <button onClick={this.onTellMeMore}>Tell me More</button>\r\n                </FancyBox>\r\n\r\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni aperiam quo veniam velit dolor reprehenderit, laudantium consequatur neque numquam labore quae. Accusamus libero perferendis ducimus? Alias unde hic quisquam doloremque.</p>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass MyErrorBoundary extends React.Component {\r\n    state = { error: null, errorInfo: null };\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        // Catch errors in children and re-render with error message\r\n        // Note: in development the error is still presented on screen and you need to ESC to see the fallback UI\r\n        this.setState({\r\n            error,\r\n            errorInfo\r\n        })\r\n        // TODO: Log error to an error reporting service\r\n        // logger.report(error)\r\n    }\r\n    render() {\r\n        if (this.state.errorInfo) {\r\n            // Error path\r\n            return (\r\n                <div>\r\n                    <h2>Something went wrong.</h2>\r\n\r\n                    <details style={{ whiteSpace: 'pre-wrap' }}>\r\n                        {this.state.error && this.state.error.toString()}\r\n                        <br />\r\n                        {this.state.errorInfo.componentStack}\r\n                    </details>\r\n                </div>\r\n            );\r\n        }\r\n        // Normally, just render children\r\n        return this.props.children;\r\n    }\r\n}\r\n","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    delay,\r\n    toTimestamp,\r\n    timeToShow\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\n\r\nfunction toTimestamp(strDate) {\r\n    var datum = Date.parse(strDate);\r\n    return datum / 1000;\r\n}\r\nfunction timeToShow(date) {\r\n    var timeStamp = (typeof date === 'string') ? Date.parse(date) : date;\r\n    var time = new Date(timeStamp);\r\n    var day = \"0\" + time.getDate();\r\n    var month = \"0\" + (time.getMonth() + 1);\r\n    var year = \"0\" + time.getFullYear();\r\n    var formattedTime = day.substr(-2) + '/' + month.substr(-2) + '/' + year.substr(-2);\r\n    return formattedTime\r\n}\r\n","import { userService } from \"../services/user.service.js\";\r\nimport { utilService } from \"../services/util.service.js\";\r\n// import { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\r\n\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\nexport function loadUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const user = await userService.getById(userId)\r\n            dispatch({ type: 'SET_USER', user })\r\n        } catch (err) {\r\n\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function updateUser(userToSave) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedUser = await userService.update(userToSave)\r\n            dispatch({\r\n                type: 'UPDATE_USER',\r\n                user: updatedUser\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onSignup(credentials) {\r\n    return (dispatch) => {\r\n        userService.signup(credentials)\r\n            .then(user => {\r\n                dispatch({\r\n                    type: 'SET_USER',\r\n                    user\r\n                })\r\n            })\r\n            .catch(err => {\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return (dispatch) => {\r\n        userService.logout()\r\n            .then(() => dispatch({\r\n                type: 'SET_USER',\r\n                user: null\r\n            }))\r\n            .catch(err => {\r\n            })\r\n    }\r\n}\r\nexport function onBecomeHost(userId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(userId)\r\n            user.isHost = true\r\n            const updatedUser = await userService.update(user)\r\n            dispatch({\r\n                type: 'UPDATE_USER', user: updatedUser\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n}\r\nexport function onToggleLikedStay(savedStayId, isLiked, userId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(userId)\r\n            if (isLiked) {\r\n                user.mySaves.push(savedStayId)\r\n            } else {\r\n                user.mySaves = user.mySaves.filter(saved => saved !== savedStayId)\r\n            }\r\n            const savedUser = await userService.update(user)\r\n            dispatch({ type: 'UPDATE_USER', savedUser })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onBookTrip(trip) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const user = await userService.getById(trip.user._id)\r\n            const hostUser = await userService.getById(trip.stay.host._id)\r\n            const orderId = utilService.makeId()\r\n\r\n            const userTrip = trip\r\n            userTrip.id = orderId\r\n            const hostOrder = trip\r\n            hostOrder.id = orderId\r\n\r\n            if (!hostUser.orders) hostUser.orders = []\r\n            if (!user.myTrips) user.myTrips = []\r\n            hostUser.orders.push(hostOrder)\r\n            user.myTrips.push(userTrip)\r\n\r\n            const updatedUser = await userService.update(user)\r\n            const updatedHost = await userService.update(hostUser)\r\n            dispatch({ type: 'UPDATE_USER', user: updatedUser })\r\n            dispatch({ type: 'UPDATE_USER', user: updatedHost })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadAndWatchUser(userId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            // const user = await userService.getById(userId);\r\n            // dispatch({ type: 'SET_WATCHED_USER', user })\r\n            // socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\r\n            // socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n            // socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n            //     dispatch({ type: 'SET_WATCHED_USER', user })\r\n            // })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\nexport default class LazyLoad extends Component {\r\n    render() {\r\n        var settings = {\r\n            dots: true,\r\n            infinite: true,\r\n            speed: 500,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            arrows: true,\r\n        };\r\n        const { imgs } = this.props\r\n        return (\r\n            <Slider {...settings} className=\"preview-slider\">\r\n                {imgs.map((img, idx) => {\r\n                    return (\r\n                        <div key={idx}>\r\n                            <img src={img} alt=\"Preview img\" />\r\n                        </div>\r\n                    )\r\n                })}\r\n            </Slider>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { FaStar, } from \"react-icons/fa\";\r\nimport { onToggleLikedStay, updateUser } from '../store/user.actions.js'\r\nimport LazyLoad from \"./preview-slider\"\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nclass _StayPreview extends React.Component {\r\n    state = {\r\n        isLiked: false\r\n    }\r\n    componentDidMount() {\r\n        this.isStayLiked()\r\n    }\r\n    onToggleLikeStay = (ev, stay) => {\r\n        ev.stopPropagation()\r\n        const { user } = this.props\r\n        const { isLiked } = this.state\r\n        if (user) {\r\n            this.setState({ isLiked: !isLiked }, () => {\r\n                this.props.onToggleLikedStay(stay._id, !isLiked, user._id)\r\n            })\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n    isStayLiked = () => {\r\n        const { user, stay } = this.props\r\n        if (user) {\r\n            if (user.mySaves && user.mySaves.length) {\r\n                const isLiked = user.mySaves.filter(saved => saved === stay._id)\r\n                if (isLiked.length) {\r\n                    this.setState({ isLiked: true })\r\n                }\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.props.stay.name && <div className=\"stay-preview square-ratio\" onClick={(ev) => {\r\n                    if (ev.target.className === 'slick-arrow slick-prev' || ev.target.className === 'slick-arrow slick-next' || ev.target.className.baseVal === 'MuiSvgIcon-root') return\r\n                    this.props.history.push(`/stay/${this.props.stay._id}`)\r\n                }} >\r\n                    <div className=\"preview-wrapper flex column\">\r\n                        <div className=\"\r\n                           \">\r\n                            {!this.state.isLiked ? <FavoriteIcon className=\"unliked\" onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} /> :\r\n                                <FavoriteIcon size={13} onClick={(ev) => this.onToggleLikeStay(ev, this.props.stay)} />\r\n                            }\r\n                            <LazyLoad imgs={this.props.stay.imgUrls} />\r\n                        </div>\r\n                        <div className=\"preview-details \">\r\n                            <div className=\"preview-rating flex align-center\">\r\n                                <span className=\"rating-star\">\r\n                                    <FaStar size={13} color=\"#FF5A5F\" />\r\n                                </span>\r\n                                <p className=\"preview-rating-amount\">{this.props.stay.reviewsAvg ? this.props.stay.reviewsAvg : 0}</p>\r\n                                <span className=\"preview-review-count flex\"><span>(</span>{this.props.stay.demoReviews} reviews<span>)</span></span>\r\n                            </div>\r\n                            <div className=\"stay-style flex\">\r\n                                <h3><span>{this.props.stay.assetType}</span> &#183; <span>{this.props.stay.loc.address.split(',')[0]}</span></h3>\r\n                            </div>\r\n                            <div className=\"stay-name\" >\r\n                                <h3>{this.props.stay.name}</h3>\r\n                            </div>\r\n                            <div className=\"preview-price\" >\r\n                                <h3><span className=\"preview-price-amount\">${this.props.stay.price}</span> / night</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onToggleLikedStay,\r\n    updateUser\r\n}\r\n\r\n\r\n\r\nexport const StayPreview = connect(mapStateToProps, mapDispatchToProps)(_StayPreview)\r\n","import { StayPreview } from \"./stay-preview\";\r\n\r\nexport function StaysList({ stays, history }) {\r\n    return (\r\n        <div className=\"stay-list\">\r\n            {stays.map((stay, idx) =>\r\n                <StayPreview key={idx} stay={stay} history={history}  />\r\n            )}\r\n        </div>)\r\n}","import React from \"react\"\r\nexport class DynamicModal extends React.Component {\r\n    render() {\r\n        const styleClass = this.props.children.length ? this.props.children[0].props.className : this.props.children.props.className\r\n        return (\r\n            <div className={`dynamic-sort-modal ${styleClass}`}>\r\n                {this.props.children.length ? this.props.children.map((child, index) => (<div key={index}>{child}</div>)) : this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Slider, { SliderThumb } from '@mui/material/Slider';\r\nimport { styled } from '@mui/material/styles';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport Box from '@mui/material/Box';\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, value } = props;\r\n\r\n  return (\r\n    <Tooltip enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\nValueLabelComponent.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\nconst AirbnbSlider = styled(Slider)(({ theme }) => ({\r\n  color: '#3a8589',\r\n  height: 3,\r\n  padding: '13px 0',\r\n  '& .MuiSlider-thumb': {\r\n    height: 27,\r\n    width: 27,\r\n    backgroundColor: '#fff',\r\n    border: '1px solid currentColor',\r\n    '&:hover': {\r\n      boxShadow: '0 0 0 8px rgba(58, 133, 137, 0.16)',\r\n    },\r\n    '& .airbnb-bar': {\r\n      height: 9,\r\n      width: 1,\r\n      backgroundColor: 'currentColor',\r\n      marginLeft: 1,\r\n      marginRight: 1,\r\n    },\r\n  },\r\n  '& .MuiSlider-track': {\r\n    height: 3,\r\n  },\r\n  '& .MuiSlider-rail': {\r\n    color: theme.palette.mode === 'dark' ? '#bfbfbf' : '#d8d8d8',\r\n    opacity: theme.palette.mode === 'dark' ? undefined : 1,\r\n    height: 3,\r\n  },\r\n}));\r\n\r\nfunction AirbnbThumbComponent(props) {\r\n  const { children, ...other } = props;\r\n  return (\r\n    <SliderThumb {...other}>\r\n      {children}\r\n      <span className=\"airbnb-bar\" />\r\n      <span className=\"airbnb-bar\" />\r\n      <span className=\"airbnb-bar\" />\r\n    </SliderThumb>\r\n  );\r\n}\r\n\r\nAirbnbThumbComponent.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default function PriceRangeSlider({ onSetPageFilter, allStaysPriceAvg }) {\r\n  const [value, setValue] = React.useState([20, 600])\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue)\r\n    onSetPageFilter('priceRange', newValue)\r\n  }\r\n\r\n  return (\r\n    <div className=\"price-range-container flex \">\r\n      <Box sx={{ width: 320 }}>\r\n        <p className=\"stays-price-avg\">{`The average nightly price is  $${allStaysPriceAvg.toFixed(0) ? allStaysPriceAvg.toFixed(0) : ''}`}</p>\r\n        <Box sx={{ m: 3 }} />\r\n        <div className=\"price-slider-container flex justify-center align-center\">\r\n\r\n          <AirbnbSlider\r\n            components={{ Thumb: AirbnbThumbComponent }}\r\n            getAriaLabel={(index) => (index === 0 ? 'Minimum price' : 'Maximum price')}\r\n            defaultValue={[20, 600]}\r\n            onChange={handleChange}\r\n            max={600}\r\n          />\r\n        </div>\r\n        <div className=\"picks-container \">\r\n          <div className=\"min-price flex column \">\r\n            <span className=\"price-range-span\" htmlFor=\"minPrice\">Min price</span>\r\n            <div>\r\n              <span className=\"price-range-span\">$</span>\r\n              <input className=\"min-input\" type=\"number\" value={value[0]} />\r\n            </div>\r\n          </div>\r\n          <div className=\"max-price flex column \">\r\n            <span className=\"price-range-span\" htmlFor=\"maxPrice\">Max price</span>\r\n            <div>\r\n              <span className=\"price-range-span\">$</span>\r\n              <input className=\"max-input\" type=\"number\" value={value[1]} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { DynamicModal } from './DynamicModal'\r\nimport PriceRangeSlider from './price-range-slider'\r\nexport class ExploreFilter extends React.Component {\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', (ev) => {\r\n            if (ev.target.scrollingElement.scrollTop > 150) {\r\n                this.props.closeAllModals()\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', (ev) => {\r\n            if (ev.target.scrollingElement.scrollTop > 150) {\r\n                this.props.closeAllModals()\r\n\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { placeTypeIsOpen, PropertyTypeIsOpen, PriceIsOpen, AmenitiesTypeIsOpen } = this.props.modals\r\n        const { allStaysPriceAvg, ameintiesOptions } = this.props\r\n        const propertyTypes = ['Loft', 'Studio', 'Penthouse', 'Appartment', 'Hotel', 'Villa', 'Duplex', 'Home']\r\n        return (\r\n            <div className=\"explore-filter flex\">\r\n                <div className=\"sort-type type-of-place\">\r\n                    <button onClick={() => { this.props.onToggleModals('placeTypeIsOpen') }}>Type of place</button>\r\n                    {placeTypeIsOpen && <DynamicModal >\r\n                        <div className=\"place-type\" onClick={(ev) => { this.props.onSetPageFilter('placeType', 'Entire Place') }}>\r\n                            <h1>Entire Place</h1>\r\n                            <p>You'll Have The Place To Yourself</p>\r\n                        </div>\r\n                        <div className=\"place-type\" onClick={(ev) => { this.props.onSetPageFilter('placeType', 'Private Room') }}>\r\n                            <h1>Private Room</h1>\r\n                            <p>You'll Have A Private Room To Yourself</p>\r\n                        </div>\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type property-type\">\r\n                    <button onClick={() => { this.props.onToggleModals('PropertyTypeIsOpen') }}>Property Type</button>\r\n                    {PropertyTypeIsOpen && <DynamicModal >\r\n                        {propertyTypes.map((type, idx) => {\r\n                            return (<div key={idx} className='property-type' onClick={(ev) => { this.props.onSetPageFilter('PropertyType', type) }}>\r\n                                <h1>\r\n                                    {type}\r\n                                </h1>\r\n                            </div>)\r\n                        })}\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type price\">\r\n                    <button onClick={() => { this.props.onToggleModals('PriceIsOpen') }}>Price</button>\r\n                    {PriceIsOpen && <DynamicModal >\r\n                        <PriceRangeSlider onSetPageFilter={this.props.onSetPageFilter} allStaysPriceAvg={allStaysPriceAvg} />\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"\">\r\n                </div>\r\n                <div className=\"sort-type amenities-type\">\r\n                    <button onClick={() => { this.props.onToggleModals('AmenitiesTypeIsOpen') }}>Amenities</button>\r\n                    {AmenitiesTypeIsOpen && <DynamicModal >\r\n                        {ameintiesOptions.map((amenity, idx) => {\r\n                            return (<div key={idx} className={amenity.isChecked ? 'amenities-type active' : 'amenities-type'} onClick={() => { this.props.onSetAmenity({ name: amenity.name, isChecked: !amenity.isChecked }) }}>\r\n                                <h1>\r\n                                    {amenity.name}\r\n                                </h1>\r\n                            </div>)\r\n                        })}\r\n                    </DynamicModal>}\r\n                </div>\r\n                <div className=\"sort-type type-of-place\">\r\n                    <button onClick={this.props.onClearPageFilter}>Clear</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/three-dots.27debe2c.svg\";","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadStays, onAddStay, onEditStay, onRemoveStay, setFilter } from '../store/stay.actions.js'\r\nimport { onBookTrip, loadUser } from '../store/user.actions.js'\r\nimport { StaysList } from '../cmps/stays-list.jsx'\r\nimport { ExploreFilter } from '../cmps/explore-filter.jsx'\r\nimport loader from '../assets/img/three-dots.svg'\r\nimport { stayService } from '../services/stay.service.js'\r\nclass _Explore extends React.Component {\r\n    state = {\r\n        stays: [],\r\n        isScreenOpen: false,\r\n        allStaysPriceAvg: null,\r\n        modals: {\r\n            placeTypeIsOpen: false,\r\n            PropertyTypeIsOpen: false,\r\n            PriceIsOpen: false,\r\n            AmenitiesTypeIsOpen: false,\r\n        },\r\n        frontFilter: {\r\n            placeType: '',\r\n            PropertyType: '',\r\n            priceRange: [20, 600],\r\n            amenities: []\r\n        },\r\n        ameintiesOptions: [\r\n            { name: 'TV', isChecked: false },\r\n            { name: 'Wifi', isChecked: false },\r\n            { name: 'Kitchen', isChecked: false },\r\n            { name: 'Smoking allowed', isChecked: false },\r\n            { name: 'Cooking basics', isChecked: false },\r\n            { name: 'Pets Allowed', isChecked: false },\r\n            { name: 'Hot tub', isChecked: false }\r\n        ]\r\n\r\n    }\r\n    async componentDidMount() {\r\n        try {\r\n            const { user } = this.props\r\n            window.scrollTo(0, 0)\r\n            await this.props.loadStays(this.props.filterBy);\r\n            this.setState({ stays: this.props.stays }, () => {\r\n                this.calcAllStaysPriceAvg(this.state.stays)\r\n            })\r\n            if (user) this.props.loadUser(this.props.user._id)\r\n        } catch (err) {\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.filterBy !== this.props.filterBy) {\r\n            this.props.loadStays(this.props.filterBy);\r\n        }\r\n        if (prevProps.stays !== this.props.stays) {\r\n            this.setState({ stays: this.props.stays })\r\n        }\r\n    }\r\n    onSetAmenity = (amenity) => {\r\n        const name = amenity.name\r\n        const isChecked = amenity.isChecked\r\n        const { ameintiesOptions } = this.state\r\n        const { amenities } = this.state.frontFilter\r\n\r\n        const updatedAmeintiesOpts = ameintiesOptions.map(amenity => (amenity.name === name) ? { name, isChecked } : amenity)\r\n        if (isChecked) amenities.push(name)\r\n        else {\r\n            const idx = amenities.findIndex(amenity => amenity === name)\r\n            amenities.splice(idx, 1)\r\n        }\r\n        this.setState(prevState => ({ ...prevState, frontFilter: { ...this.state.frontFilter, amenities }, ameintiesOptions: updatedAmeintiesOpts }), () => { this.onSetPageFilter('ameneties', this.state.frontFilter.amenities) })\r\n    }\r\n\r\n    onSetPageFilter = (filterType, val, ev) => {\r\n        this.setState({ frontFilter: { ...this.state.frontFilter, [filterType]: val } }, () => {\r\n            const newStays = stayService.filterPageStays(this.state.frontFilter, this.props.stays)\r\n            this.setState({ stays: newStays })\r\n        })\r\n    }\r\n    onToggleScreen = (val) => {\r\n        this.setState({ isScreenOpen: val })\r\n    }\r\n    onClearPageFilter = () => {\r\n        const clearState = {\r\n            stays: this.props.stays,\r\n            isScreenOpen: false,\r\n            allStaysPriceAvg: null,\r\n            modals: {\r\n                placeTypeIsOpen: false,\r\n                PropertyTypeIsOpen: false,\r\n                PriceIsOpen: false,\r\n                AmenitiesTypeIsOpen: false,\r\n            },\r\n            frontFilter: {\r\n                placeType: '',\r\n                PropertyType: '',\r\n                priceRange: [20, 600],\r\n                amenities: []\r\n            },\r\n            ameintiesOptions: [\r\n                { name: 'TV', isChecked: false },\r\n                { name: 'Wifi', isChecked: false },\r\n                { name: 'Kitchen', isChecked: false },\r\n                { name: 'Smoking allowed', isChecked: false },\r\n                { name: 'Cooking basics', isChecked: false },\r\n                { name: 'Pets Allowed', isChecked: false },\r\n                { name: 'Hot tub', isChecked: false }\r\n            ]\r\n\r\n        }\r\n        this.setState({ ...clearState }, () => {\r\n            this.calcAllStaysPriceAvg(this.state.stays)\r\n        })\r\n        this.closeAllModals()\r\n    }\r\n\r\n    onRemoveStay = (stayId) => {\r\n        this.props.onRemoveStay(stayId)\r\n    }\r\n    onAddStay = () => {\r\n        this.props.onAddStay()\r\n    }\r\n    onEditStay = (stay) => {\r\n        const price = +prompt('New price?')\r\n        const stayToSave = { ...stay, price }\r\n        this.props.onEditStay(stayToSave)\r\n    }\r\n    onToggleModals = (modal) => {\r\n        this.setState({ modals: { placeTypeIsOpen: false, PropertyTypeIsOpen: false, PriceIsOpen: false, AmenitiesTypeIsOpen: false } }, () => {\r\n            this.onToggleScreen(!this.state.modals[modal])\r\n            this.setState({ modals: { ...this.state.modals, [modal]: !this.state[modal] } })\r\n        })\r\n    }\r\n    closeAllModals = () => {\r\n        this.onToggleScreen(false)\r\n        this.setState({ modals: { placeTypeIsOpen: false, PropertyTypeIsOpen: false, PriceIsOpen: false, AmenitiesTypeIsOpen: false } })\r\n    }\r\n    calcAllStaysPriceAvg = (stays) => {\r\n        let staysAvg = stays\r\n        staysAvg = staysAvg.reduce((acc, stay) => {\r\n            acc += stay.price\r\n            return acc\r\n        }, 0)\r\n        this.setState({ allStaysPriceAvg: (staysAvg / stays.length) })\r\n    }\r\n\r\n    render() {\r\n        const { stays, filterBy } = this.props\r\n        const { isScreenOpen, ameintiesOptions } = this.state\r\n        if (!stays.length) return <div className=\"loader-container flex align-center justify-center page-padding\"><img src={loader} alt=\"loader\" /></div>\r\n        return (\r\n            <main className=\"explore-mega-container main-container page-padding\">\r\n                <div className=\"explore-page-container\">\r\n                    <div className={isScreenOpen ? \"screen screen-open full\" : \"screen full\"} onClick={() => { this.closeAllModals() }}></div>\r\n                    <div className=\"stays-headline\">\r\n                        <p>{this.state.stays.length === 1 ? `1 stay` : `${this.state.stays.length} stays`}</p>\r\n                        <h1>{filterBy.location ? `Places to stay at ${filterBy.location}` : 'Find places to stay'}</h1>\r\n                    </div>\r\n                    <ExploreFilter ameintiesOptions={ameintiesOptions} stays={this.state.stays} closeAllModals={this.closeAllModals} onSetAmenity={this.onSetAmenity} onSetPageFilter={this.onSetPageFilter} onClearPageFilter={this.onClearPageFilter} modals={this.state.modals} onToggleModals={this.onToggleModals} allStaysPriceAvg={this.state.allStaysPriceAvg} amenities={this.state.frontFilter.amenities} />\r\n                    {stays.length && <StaysList stays={this.state.stays} history={this.props.history} />}\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy,\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n    onRemoveStay,\r\n    onAddStay,\r\n    onEditStay,\r\n    onBookTrip,\r\n    setFilter,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const Explore = connect(mapStateToProps, mapDispatchToProps)(_Explore)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport {loadUsers, removeUser} from '../store/user.actions'\r\n\r\n\r\nclass _AdminApp extends React.Component {\r\n    state = {}\r\n\r\n    componentDidMount() {\r\n        this.props.loadUsers()\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        const { isLoading, users, removeUser, loadUsers } = this.props\r\n        return <section className=\"admin\">\r\n                <button onClick={loadUsers}>Refresh Users</button>\r\n                {isLoading && 'Loading...'}\r\n                {users && <ul>\r\n\r\n                    {users.map(user => (\r\n                        <li key={user._id}>\r\n                            <pre>{JSON.stringify(user, null, 2)}</pre>\r\n                            <button\r\n                                onClick={() => {\r\n                                    removeUser(user._id)\r\n                                }}\r\n                            >\r\n                                Remove {user.username}\r\n                            </button>\r\n                        </li>\r\n                    ))}\r\n                </ul>}\r\n        </section>\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isLoading: state.systemModule.isLoading,\r\n        users: state.userModule.users\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadUsers,\r\n    removeUser\r\n}\r\n\r\n\r\nexport const AdminApp = connect(mapStateToProps, mapDispatchToProps)(_AdminApp)","import { FaStar } from 'react-icons/fa'\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport IosShareIcon from '@mui/icons-material/IosShare';\r\nimport LazyLoad from '../preview-slider';\r\n\r\nexport function BasicInfo({ stay, isLiked, onToogleLikeStay, reviewsAvg, isMobilePics }) {\r\n    return (\r\n        <section className=\"info-imgs-container\">\r\n            <section className=\"stay-info\">\r\n                <div className=\"stay-name-conatiner\">\r\n                    <h2>{stay.name}</h2>\r\n                </div>\r\n                <section className=\"info-line flex space-between\">\r\n                    <div className=\"stay-info-conatiner flex\">\r\n                        <div className=\"stay-avg-info flex align-end\">\r\n                            <p className=\"info-star\"><FaStar size={14} color=\"#FF5A5F\" /></p>\r\n                            <p className=\"info-line-score\">{reviewsAvg ? reviewsAvg : 0}</p>\r\n                            <p className=\"info-line-reviews\">{`(${stay.demoReviews} reviews)`}</p>\r\n                        </div>\r\n                        <p className=\"dot\">•</p>\r\n                        <div className=\"host-location-container flex align-end\">\r\n                            <p className=\"info-line-loc\">{stay.loc.address}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"user-btns-container flex\">\r\n                        <div className=\"share-btn-container flex align-center\">\r\n                            <p className=\"details-share\"  ><IosShareIcon /></p>\r\n                            <p>Share</p>\r\n                        </div>\r\n                        <div className=\"save-btn-container flex align-center\" onClick={() => { onToogleLikeStay() }}>\r\n                            <p className=\"details-like\" >{!isLiked ? <FavoriteBorderIcon /> : <FavoriteIcon className=\"liked\" />}</p>\r\n                            <p>Save</p>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n            <section className=\"asset-imgs-container flex  \">\r\n\r\n                {!isMobilePics ? <div className=\"asset-imgs flex\">\r\n                    <div className=\"primary-img square-ratio\"><img src={stay.imgUrls[0]} alt=\"\" /></div>\r\n                    <div className=\"imgs-container flex\">\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[1]} alt=\"\" /></div>\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[2]} alt=\"\" /></div>\r\n                    </div>\r\n                    <div className=\"imgs-container flex\">\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[3]} alt=\"\" /></div>\r\n                        <div className=\"asset-img square-ratio\"><img src={stay.imgUrls[4]} alt=\"\" /></div>\r\n                    </div>\r\n                </div> : <div className=\"asset-imgs flex\">\r\n                    <div className=\"primary-img square-ratio\"> <LazyLoad imgs={stay.imgUrls} /></div>\r\n                </div>}\r\n            </section>\r\n        </section>\r\n    )\r\n\r\n}","import { FaHome, FaBroom, FaDoorClosed, FaKey } from 'react-icons/fa'\r\n\r\nexport function AssetSum(stay) {\r\n    return (<section className=\"asset-sum-container\">\r\n\r\n        <div className=\"asset-sum\">\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaHome /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Entire Home</h4>\r\n                    <p>You’ll have the apartment to yourself.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaBroom className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Enhanced Clean Home</h4>\r\n                    <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaDoorClosed className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Self check-in</h4>\r\n                    <p>Check yourself in with the lockbox.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"asset-sum-item flex\">\r\n                <div className=\"sum-icon-container\">\r\n                    <p className=\"sum-icon\" ><FaKey className=\"sum-icon\" /></p>\r\n                </div>\r\n                <div className=\"sum-txt\">\r\n                    <h4>Great check-in experience</h4>\r\n                    <p>95% of recent guests gave the check-in process a 5-star rating.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>)\r\n}\r\n\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     {/* <p className=\"sum-icon\" ></p><FaHome  className=\"sum-icon\" /> */}\r\n//     <p className=\"sum-icon\"><HomeOutlinedIcon/></p>\r\n\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Entire Home</h4>\r\n//     <p>You’ll have the apartment to yourself.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     <p className=\"sum-icon\"><LocationOnOutlined  /></p>\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Enhanced Clean Home</h4>\r\n//     <p>This host committed to Airbnb's 5-step enhanced cleaning process.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n//     <p className=\"sum-icon\"><DoorBackOutlined  /> </p>\r\n    \r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Self check-in</h4>\r\n//     <p>Check yourself in with the lockbox.</p>\r\n// </div>\r\n// </div>\r\n// <div className=\"asset-sum-item flex\">\r\n// <div className=\"sum-icon-container\">\r\n// <p className=\"sum-icon\"><VpnKeyOutlined  /> </p>\r\n\r\n// </div>\r\n// <div className=\"sum-txt\">\r\n//     <h4>Great check-in experience</h4>\r\n//     <p>95% of recent guests gave the check-in process a 5-star rating.</p>\r\n// </div>\r\n// </div>","import { FastfoodTwoTone } from '@material-ui/icons';\r\nimport React from 'react'\r\nimport { FaAirFreshener, FaBlender, FaCar, FaHotTub, FaPaw, FaSmoking, FaSmokingBan, FaTv, FaWifi } from 'react-icons/fa';\r\nexport class AssetAmenities extends React.Component {\r\n    getAmenitiesIcons = (amenity) => {\r\n        switch (amenity) {\r\n            case 'TV':\r\n                return <FaTv />\r\n            case 'Wifi':\r\n                return <FaWifi />\r\n            case 'Kitchen':\r\n                return <FastfoodTwoTone />\r\n            case 'Smoking allowed':\r\n                return <FaSmoking />\r\n            case 'Pets allowed':\r\n                return <FaPaw />\r\n            case 'No smoking':\r\n                return <FaSmokingBan />\r\n            case 'Air conditioner':\r\n                return <FaAirFreshener />\r\n            case 'Cooking basics':\r\n                return <FaBlender />\r\n            case 'Hot tub':\r\n                return <FaHotTub />\r\n            case 'Free parking on premises':\r\n                return <FaCar />\r\n            default:\r\n                break;\r\n\r\n        }\r\n    }\r\n    render() {\r\n        const { amenities } = this.props\r\n        return (\r\n            <ul className=\"amenities-list flex\">\r\n                {amenities && amenities.map(amenity => {\r\n                    return <li key={amenity} className=\"amenity-item flex\">\r\n                        <div className=\"amenity-icon-container\">\r\n                            {this.getAmenitiesIcons(amenity)}\r\n                        </div>\r\n                        <div className=\"amenity-txt\">\r\n                            <p>{amenity}</p>\r\n                        </div>\r\n                    </li>\r\n                })}\r\n            </ul>\r\n        )\r\n    }\r\n\r\n}","import { httpService } from './http.service.js'\r\nconst listeners = []\r\n\r\nexport const orderService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    update,\r\n    remove,\r\n    subscribe\r\n\r\n}\r\nwindow.cs = orderService;\r\n\r\nasync function query(userId, type) {\r\n    // add userId and type to parameters in query\r\n    const orders = await httpService.get('order', { params: { userId, type } })\r\n    return orders\r\n}\r\nasync function getById(orderId) {\r\n    // return storageService.get(STORAGE_KEY, orderId)\r\n    const order = await httpService.get(`order/${orderId}`)\r\n    return order\r\n}\r\nfunction remove(orderId) {\r\n    return httpService.delete(`order/${orderId}`)\r\n}\r\n\r\nfunction save(order) {\r\n    const savedOrder = httpService.post('order', order)\r\n    return savedOrder\r\n}\r\nasync function update(order) {\r\n    const UpdatedOrder = await httpService.put(`order/${order._id}`, order)\r\n    return UpdatedOrder;\r\n}\r\n\r\nfunction subscribe(listener) {\r\n    listeners.push(listener)\r\n}\r\n\r\nfunction _notifySubscribersOrdersChanged(orders) {\r\n    listeners.forEach(listener => listener(orders))\r\n}\r\n\r\nwindow.addEventListener('storage', () => {\r\n    query()\r\n        .then(orders => {\r\n            _notifySubscribersOrdersChanged(orders)\r\n        })\r\n})\r\n\r\n\r\n\r\n","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  window.listenersMap = listenersMap;\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\n// socketService.on('baba', cb)\r\n// socketService.on('baba', cb)\r\n// socketService.on('baba', cb)\r\n// socketService.on('mama', cb)\r\n// socketService.emit('baba', 'Puk')\r\n// socketService.off('baba', cb)\r\n\r\n\r\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n  \r\n})\r\n\r\n","import { orderService } from \"../services/order.service.js\";\r\nimport { userService } from \"../services/user.service.js\";\r\nimport { socketService } from \"../services/socket.service.js\";\r\nexport function loadOrders(userId, type) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const orders = await orderService.query(userId, type)\r\n            dispatch({\r\n                type: 'SET_ORDERS',\r\n                orders\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function loadOrder(orderId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const order = await orderService.getById(orderId)\r\n            dispatch({\r\n                type: 'SET_ORDER',\r\n                order\r\n            })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onRemoveOrder(orderId) {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            await orderService.remove(orderId)\r\n            dispatch({\r\n                type: 'REMOVE_ORDER',\r\n                orderId\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onAddOrder(orderToAdd) {\r\n    const { buyer } = orderToAdd\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            const notif = {\r\n                byUser: { fullName: buyer.fullname, imgUrl: buyer.imgUrl, _id: buyer._id },\r\n                createdAt: Date.now(),\r\n                stay: { _id: orderToAdd.stay._id, name: orderToAdd.loc.address, reviewsAvg: orderToAdd.stay.reviewsAvg },\r\n                txt: `Reserved your stay`,\r\n                isRead: false\r\n            }\r\n            const savedOrder = await orderService.save(orderToAdd)\r\n            dispatch({ type: 'ADD_ORDER', order: savedOrder })\r\n            socketService.emit('setNotif', notif)\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onCancelOrder(tripId, buyerId, hostId) {\r\n    return async (dispatch) => {\r\n        try {\r\n\r\n            const buyer = await userService.getById(buyerId)\r\n            const hostUser = await userService.getById(hostId)\r\n            buyer.myTrips = buyer.myTrips.filter(trip => { return trip._id !== tripId })\r\n            hostUser.orders = hostUser.orders.filter(trip => { return trip._id !== tripId })\r\n            const updatedUser = await userService.update(buyer)\r\n            const updatedHost = await userService.update(hostUser)\r\n            dispatch({ type: 'UPDATE_USER', user: updatedUser })\r\n            dispatch({ type: 'UPDATE_USER', user: updatedHost })\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onApproveOrder(order) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(order)\r\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function onUpdateOrder(order) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(order)\r\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n        }\r\n        catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function setFilter(filterBy) {\r\n    return async (dispatch) => {\r\n        try {\r\n            await dispatch({\r\n                type: 'SET_FILTER',\r\n                filter: filterBy\r\n            })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n}\r\nexport function onEditOrder(orderToSave) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedOrder = await orderService.update(orderToSave)\r\n            dispatch({\r\n                type: 'UPDATE_ORDER',\r\n                order: updatedOrder\r\n            })\r\n\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\nexport function checkout() {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            const state = getState()\r\n            const total = state.orderModule.cart.reduce((acc, order) => acc + order.price, 0)\r\n            const score = await userService.changeScore(-total)\r\n            dispatch({ type: 'SET_SCORE', score })\r\n            dispatch({ type: 'CLEAR_CART' })\r\n        } catch (err) {\r\n        }\r\n    }\r\n}\r\n\r\n","import 'react-date-range/dist/styles.css'; // main style file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\nimport React from \"react\"\r\nimport { DateRangePicker } from 'react-date-range';\r\nexport class DatesPicker2 extends React.Component {\r\n    state = {\r\n        startDate: new Date(),\r\n        endDate: new Date()\r\n    }\r\n    handleSelect = ({ selection }) => {\r\n        var { startDate, endDate } = selection\r\n        this.setState({ startDate, endDate }, () => { this.props.onSelectDates(this.state) })\r\n    }\r\n    toTimeStamp = (strDate) => {\r\n        var datum = Date.parse(strDate);\r\n        return datum / 1000;\r\n    }\r\n    render() {\r\n        const selectionRange = {\r\n            startDate: this.state.startDate,\r\n            endDate: this.state.endDate,\r\n            key: 'selection',\r\n        }\r\n        return (\r\n            <DateRangePicker\r\n                classNames=\"date-picker-2\"\r\n                rangeColors={\"black\"}\r\n                color={\"black\"}\r\n                className=\"date-pick\"\r\n                ranges={[selectionRange]}\r\n                onChange={this.handleSelect}\r\n            />\r\n\r\n        )\r\n    }\r\n}","// import { render } from '@testing-library/react';\r\nimport React from 'react'\r\nimport { FaMinus, FaPlus } from 'react-icons/fa'\r\n\r\nexport class GuestsCheckoutModal extends React.Component {\r\n\r\n    render() {\r\n        const { onSelectGuests, toggleGuestsModal, trip } = this.props\r\n        const { adults, kids, infants } = trip.guests\r\n        // <div className=\"minus-guest-btn flex\" onClick={() => { onSelectGuests('adults', 'minus') }}>\r\n        return (\r\n            <div className=\"guest-mega-container\">\r\n                {trip && <div className=\"guest-popup-container flex column\">\r\n                    <div className=\"screen\" onClick={() => { toggleGuestsModal() }}>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between  align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Adults</p>\r\n                            <p className=\"guest-desc\">Ages 13 or above</p>\r\n                        </div>\r\n                        <div className=\"guest-amount\">\r\n                            <p className={adults ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('adults', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{adults ? adults : 0}</p>\r\n                            <p className=\"guest-btn \" onClick={() => onSelectGuests('adults', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Children</p>\r\n                            <p className=\"guest-desc\">Ages 2-12</p>\r\n                        </div>\r\n                        <div className=\"guest-amount\">\r\n                            <p className={kids ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('kids', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{kids ? kids : 0}</p>\r\n                            <p className=\"guest-btn \" onClick={() => onSelectGuests('kids', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"guest-card flex space-between  align-center\">\r\n                        <div className=\"column\">\r\n                            <p className=\"guest-type\">Infants</p>\r\n                            <p className=\"guest-desc\">Under 2</p>\r\n                        </div>\r\n                        <div className=\"guest-amount \">\r\n                            <p className={infants ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectGuests('infants', 'minus')}><FaMinus /></p>\r\n                            <p className=\"guest-amount-count\">{infants?infants:0}</p>\r\n                            <p className=\"guest-btn\" onClick={() => onSelectGuests('infants', 'plus')}><FaPlus />\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>}\r\n            </div>)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport 'react-dates/initialize';\r\nimport { connect } from 'react-redux'\r\nimport { onAddOrder } from '../../store/order.actions'\r\nimport { FaStar, FaAngleDown, FaAngleUp } from 'react-icons/fa'\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { DatesPicker2 } from '../dates-picker2.jsx';\r\nimport { GuestsCheckoutModal } from './_guests-modal';\r\nimport { utilService } from '../../services/util.service';\r\n\r\nclass _CheckoutForm extends React.Component {\r\n\r\n    state = {\r\n        trip: {\r\n            startDate: this.props.startDate,\r\n            endDate: this.props.endDate,\r\n            guests: { adults: this.props.filterBy.adultNumber, kids: this.props.filterBy.kidsNumber, infants: this.props.filterBy.infantsNumber }\r\n        },\r\n        isGuestPopupOn: false,\r\n        isCheckoutToReserve: false,\r\n        isStayReserved: false,\r\n        datesModal: false\r\n\r\n    }\r\n    componentDidMount() {\r\n        const { stay, filterBy } = this.props\r\n        window.addEventListener('scroll', (ev) => { this.setState({ datesModal: false }) })\r\n        this.setState({\r\n            trip: {\r\n                startDate: filterBy.startDate,\r\n                endDate: filterBy.endDate,\r\n                guests: { adults: filterBy.adultNumber, kids: filterBy.kidsNumber, infants: filterBy.infantsNumber },\r\n                loc: stay.loc\r\n            },\r\n            isGuestPopupOn: false,\r\n            isCheckoutToReserve: false,\r\n            datesModal: false,\r\n            datesModalPos: {}\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', (ev) => { this.setState({ datesModal: false }) })\r\n    }\r\n    onSelectDates = ({ startDate, endDate }) => {\r\n        if (startDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, startDate } }))\r\n        }\r\n        if (endDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, endDate } }))\r\n        }\r\n    }\r\n\r\n    toTimestamp = (strDate) => {\r\n        var datum = Date.parse(strDate);\r\n        return datum / 1000;\r\n    }\r\n\r\n    toggleDatesModal = (val) => {\r\n        this.setState({ datesModal: true, isGuestPopupOn: false })\r\n    }\r\n\r\n    timeToShow = (date, val) => {\r\n        var timeStamp = Date.parse(date);\r\n        var time = new Date(timeStamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n\r\n    getTripPrice = (startDate, endDate, price) => {\r\n        const start = this.toTimestamp(startDate)\r\n        const end = this.toTimestamp(endDate)\r\n        const timeDiff = (end - start)\r\n        const totalNights = (timeDiff / 86400)\r\n        const totalPrice = price * totalNights + 200\r\n        this.setState(prevState => ({ trip: { ...prevState.trip, totalNights, totalPrice }, isCheckoutToReserve: true }));\r\n    }\r\n\r\n    toggleGuestsModal = () => {\r\n        this.setState({ datesModal: false })\r\n        this.setState({ isGuestPopupOn: !this.state.isGuestPopupOn })\r\n        this.calcGuestNum()\r\n    }\r\n    onSelectGuests = (val, action) => {\r\n\r\n        const { stay } = this.props\r\n        var { adults, kids, infants } = this.state.trip.guests\r\n        switch (val) {\r\n            case 'adults':\r\n                if (action === 'minus') adults = adults - 1\r\n                if (adults < 0) adults = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') adults = adults + 1\r\n                break;\r\n            case 'kids':\r\n                if (action === 'minus') kids = kids - 1\r\n                if (kids < 0) kids = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') kids = kids + 1\r\n                break;\r\n            case 'infants':\r\n                if (action === 'minus') infants = infants - 1\r\n                if (infants < 0) infants = 0\r\n                if (adults + kids + infants >= stay.capacity) return\r\n                if (action === 'plus') infants = infants + 1\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState(prevState => ({ ...prevState, trip: { ...prevState.trip, guests: { adults, kids, infants } } }));\r\n    }\r\n\r\n    calcGuestNum = () => {\r\n        const { adults, kids, infants } = this.state.trip.guests\r\n        var res = +adults + +kids + +infants\r\n        return res\r\n    }\r\n\r\n    onBookTrip = (stay, trip) => {\r\n        if (!this.props.user) {\r\n        } else {\r\n            const { _id, fullname, imgUrl, username } = this.props.user\r\n            trip.buyer = { _id, fullname, imgUrl, username }\r\n            trip.startDate = this.toTimestamp(trip.startDate)\r\n            trip.endDate = this.toTimestamp(trip.endDate)\r\n            trip.host = stay.host\r\n            trip.stay = {\r\n                _id: stay._id,\r\n                imgUrls: stay.imgUrls,\r\n                name: stay.name,\r\n                reviewsAvg: stay.reviewsAvg\r\n            }\r\n            trip.status = 'pending'\r\n            trip.demoReviews = utilService.getRandomIntInclusive(50,300)\r\n            this.props.onAddOrder(trip)\r\n            this.setState({\r\n                trip: {\r\n                    startDate: null,\r\n                    endDate: null,\r\n                    guests: { adults: 1, kids: 0, infants: 0 }\r\n                },\r\n                isGuestPopupOn: false,\r\n                isCheckoutToReserve: false,\r\n                isStayReserved: true\r\n            })\r\n            setTimeout(() => {\r\n                this.setState({ isStayReserved: false })\r\n            }, 2000);\r\n        }\r\n\r\n    }\r\n    onCloseModal = (ev) => {\r\n        this.setState({ isGuestPopupOn: false, datesModal: false })\r\n\r\n    }\r\n    getMouseCord = (ev) => {\r\n\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        const { stay } = this.props\r\n        const { trip, isCheckoutToReserve, isGuestPopupOn, datesModal, isStayReserved } = this.state\r\n        const { price } = stay\r\n        const { startDate, endDate } = trip\r\n        return (\r\n            <section className=\"checkout-popup flex column\">\r\n                {(isGuestPopupOn || datesModal) && <div className=\"checkout-screen\" onClick={(ev) => { this.onCloseModal(ev) }}></div>}\r\n                <section className=\"checkout-container flex\">\r\n                    <div className=\"checkout-form-container\">\r\n                        <div className=\"checkout-form-header flex space-between align-center\" onClick={() => { this.onCloseModal(false) }}>\r\n                            <div className=\"order-price-container \">\r\n                                <p className=\"order-price\"><span>${price}</span> / night</p>\r\n                            </div>\r\n                            <div className=\"check-rating-container flex align-center\">\r\n                                <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                                <p className=\"order-avg-score\">{stay.reviewsAvg}</p>\r\n                                <p className=\"order-reviews\">{`(${stay.demoReviews} reviews)`}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-container\">\r\n                            {datesModal && <DatesPicker2 onSelectDates={this.onSelectDates} handleChange={this.handleChange} />}\r\n                            <div className=\"select-form\">\r\n                                <div className=\"dates-check-container\">\r\n\r\n                                    <div className=\"dates-container flex  \">\r\n                                        <div className=\"checkin-input flex column\" onClick={(ev) => {\r\n                                            const { bottom, left } = ev.target.getBoundingClientRect()\r\n                                            this.setState({ datesModalPos: { bottom, left } })\r\n                                            this.toggleDatesModal(true)\r\n                                        }}>\r\n\r\n                                            <label className=\"title\" htmlFor=\"\">CHECK-IN</label>\r\n                                            <label htmlFor=\"\" ><span>{startDate ? this.timeToShow(startDate, 'startDate') : 'Add date'}</span></label>\r\n                                        </div>\r\n                                        <div className=\"checkout-input flex column\" onClick={(ev) => {\r\n                                            ev.target.getBoundingClientRect()\r\n                                            this.toggleDatesModal(true)\r\n                                        }} >\r\n                                            <label className=\"title\" htmlFor=\"\" >CHECK-OUT</label>\r\n                                            <label htmlFor=\"\" ><span>{endDate ? this.timeToShow(endDate, 'startDate') : 'Add date'}</span></label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"guests-check-container flex space-between\" onClick={() => { this.toggleGuestsModal() }}>\r\n                                    <div className=\"guests-input flex column\"  >\r\n                                        <label className=\"title\" htmlFor=\"\" >GUESTS </label>\r\n                                        <label htmlFor=\"\" ><span>{this.calcGuestNum() === 1 ? `${this.calcGuestNum()} guest` : `${this.calcGuestNum()} guests`}</span></label>\r\n                                    </div>\r\n                                    <div className=\"guest-select-arrow flex\">\r\n                                        {isGuestPopupOn ? <FaAngleUp /> : <FaAngleDown />}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            {isCheckoutToReserve &&\r\n                                <div className=\"summed-trip-info\">\r\n                                    <div className=\"sum-line\">\r\n                                        <p>You won't be charged yet</p>\r\n                                    </div>\r\n                                    <div className=\"calc-price-container flex space-between\">\r\n                                        <p className=\"calc-price\">${price} x {trip.totalNights} nights</p>\r\n                                        <p>${trip.totalPrice}</p>\r\n                                    </div>\r\n                                    <div className=\"service-fee-container flex space-between\">\r\n                                        <p className=\"service-fee\">Service fee</p>\r\n                                        <p>$200</p>\r\n                                    </div>\r\n                                    <div className=\"total-price-container flex space-between\">\r\n                                        <p className=\"total\">Total</p>\r\n                                        <p className=\"total-price\">${trip.totalPrice}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            {isStayReserved && <div className=\"stay-msg-container\"><h1>Your order is waiting for approval</h1></div>}\r\n                            <div className=\"checkout-btn-container\" onClick={() => { (isCheckoutToReserve) ? this.onBookTrip(stay, trip) : this.getTripPrice(startDate, endDate, price) }}>\r\n                                {this.getBtnDivs()}\r\n                                <div className=\"content\">\r\n                                    {!isCheckoutToReserve && !isStayReserved && \r\n                                        <button className=\"checkout-btn\" ><span>Check availabilty</span> </button>}\r\n                                    {isCheckoutToReserve && \r\n                                        <button className=\"checkout-btn\" ><span>Reserve</span> </button>\r\n                                    }\r\n                                    {isStayReserved &&\r\n                                        <button className=\"checkout-btn\" ><span>Order pending</span> </button>\r\n                                    }\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div >\r\n                </section>\r\n                {/* <div className=\"report-container flex \">\r\n                    <FaFlag />\r\n                    <p>Report this listing</p>\r\n                </div> */}\r\n                {isGuestPopupOn && <GuestsCheckoutModal toggleGuestsModal={this.toggleGuestsModal} onSelectGuests={this.onSelectGuests} trip={trip} stay={stay} />}\r\n                {/* {isGuestPopupOn && } */}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stay: state.stayModule.stay,\r\n        filterBy: state.stayModule.filterBy,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onAddOrder\r\n}\r\n\r\nexport const CheckoutForm = connect(mapStateToProps, mapDispatchToProps)(_CheckoutForm)\r\n","export function ReadMore({txt, onToogleReadModal}) {\r\n    return (\r\n        <section className=\"read-more-popup-container\">\r\n            <div className=\"read-more-popup\">\r\n                <div className=\"close-btn\"><p onClick={onToogleReadModal}> x </p></div>\r\n                <div className=\"read-more-container\">\r\n                    <p>{txt}</p>\r\n                </div>\r\n                <div className=\"close-btn\">\r\n                    <p onClick={onToogleReadModal} >Close</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { Component } from \"react\";\r\nimport { utilService } from \"../../services/util.service\";\r\nimport { ReadMore } from \"../_read-more\";\r\n\r\nexport class ReviewsPreview extends Component {\r\n    state = {\r\n        isReadMoreOn: false\r\n    }\r\n    onToogleReadModal = () => {\r\n        this.setState({ isReadMoreOn: !this.state.isReadMoreOn })\r\n    }\r\n    render() {\r\n        const { review } = this.props\r\n\r\n        const { isReadMoreOn } = this.state\r\n        return (\r\n            <div className=\"review-card-container\">\r\n                <li >\r\n                    <div className=\"review-card flex column align-center\" >\r\n                        <div className=\"review-user-info flex\">\r\n                            <div className=\"user-review-img-container\">\r\n                                <img src={`https://i.pravatar.cc/100?u=${review.by._id.substr(review.by._id.length - 8)}`} alt=\"\" />\r\n                            </div>\r\n                            <div className=\"txt-info-container flex column\">\r\n                                <div className=\"review-username-container\">\r\n                                    <p className=\"review-username\">{review.by.fullname} </p>\r\n                                </div>\r\n                                <div className=\"review-username-container\">\r\n                                    {typeof review.createdAt === 'number' ? <p >{utilService.timeToShow(review.createdAt)} </p> : <p >{review.createdAt} </p>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"review-txt-container\">\r\n\r\n                            {review.txt && review.txt.length >= 100 && (\r\n                                <p >{review.txt.substring(0, 100)} {review.txt.length > 100 && (<span className=\"read-more\" onClick={this.onToogleReadModal}><br /> More...</span>)}</p>\r\n                            )}\r\n\r\n                            {review.txt && review.txt.length < 100 && <p  >{review.txt}</p>}\r\n                        </div>\r\n\r\n                    </div>\r\n                </li >\r\n                {isReadMoreOn && <ReadMore onToogleReadModal={this.onToogleReadModal} txt={review.txt} />}\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n","// import { FaStar } from 'react-icons/fa'\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ReviewsPreview } from './reviews-preview'\r\n// import { ReviewAvg } from './_reviews-avg'\r\n\r\nclass _ReviewsList extends Component {\r\n    render() {\r\n        const { reviews} = this.props.stay\r\n        const { isReadMoreOn, onToogleReadModal }= this.props\r\n        return (\r\n            <section className=\"reviews-list-container flex \">\r\n                {!reviews.length && <section className=\"reviews-container flex \">\r\n                    <p>No reviews to show...</p>\r\n                </section>\r\n                }\r\n                {reviews.length && <section>\r\n                    <div>\r\n\r\n                        {/* <div className=\"reviews-avgs-container\">\r\n                        <ReviewAvg reviews={reviews} />\r\n                    </div> */}\r\n                        <ul className=\"reviews-container flex space-between\">\r\n                            {reviews.slice(0, 6).map(review => <ReviewsPreview review={review} key={review.id} onToogleReadModal={onToogleReadModal} isReadMoreOn={isReadMoreOn} />)}\r\n                        </ul>\r\n                        {reviews.length > 6 &&\r\n                            <div>\r\n                                <button className=\"show-reviews-btn\">Show all {reviews.length} reviews</button>\r\n                            </div>}\r\n                    </div>\r\n                </section>\r\n                }\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stay: state.stayModule.stay,\r\n    }\r\n}\r\n\r\nexport const ReviewsList = connect(mapStateToProps)(_ReviewsList)","\r\nimport { Component } from 'react';\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\n\r\nclass _StayMap extends Component {\r\n\r\n    state = {\r\n        center: {\r\n            lat: '',\r\n            lng: ''\r\n        },\r\n        loc: {\r\n            lat: '',\r\n            lng: '',\r\n            address: '',\r\n            country: ''\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const loc = this.props.location\r\n        this.setState({ center: { lng: loc.lng, lat: loc.lat }, loc })\r\n    }\r\n    onMapClicked = (props, map, ev) => {\r\n        this.setState({ center: { lat: ev.latLng.lat(), lng: ev.latLng.lng() } })\r\n    }\r\n\r\n    onMarkerClicked = () => {\r\n        this.setState({ isInfoWindowOn: true })\r\n    }\r\n\r\n    onInfoWindowClose = () => {\r\n        this.setState({ isInfoWindowOn: false })\r\n    }\r\n    render() {\r\n        const { lat, lng } = this.state.loc\r\n\r\n        const style = {\r\n            width: '100%',\r\n            height: '400px',\r\n            position: \"relative\",\r\n            margin: \"0 auto\"\r\n        }\r\n        return (\r\n            <section className=\"main-map-container\">\r\n                <div className=\"map-title-container\">\r\n                    <h1 className=\"map-title\">Where you’ll be</h1>\r\n                </div>\r\n                <div className=\"map-container\">\r\n                    {lat && <Map\r\n                        className=\"stay-map\"\r\n                        containerStyle={style}\r\n                        google={this.props.google}\r\n                        zoom={15}\r\n                        initialCenter={this.state.center}\r\n                        onClick={this.onMapClicked}\r\n                        center={this.state.center}\r\n                    >\r\n                        <Marker\r\n                            position={{ lat, lng }}\r\n                            name={'Current location'}\r\n                        />\r\n\r\n                        <InfoWindow\r\n                            onClose={this.onInfoWindowClose}\r\n                            position={this.state.center}\r\n                            visible={this.state.isInfoWindowOn}\r\n                        >\r\n                            <div>\r\n                                <h1>Hello</h1>\r\n                            </div>\r\n                        </InfoWindow>\r\n                    </Map>}\r\n                    <div>\r\n                        {this.state.loc.address && <h1 className=\"address-title\">{this.state.loc.address.split(',')[0]} , {this.state.loc.address.split(',')[1]}</h1>}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport const StayMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyC4nnRlZ8NjJzwvd5SZMk3ukykZTfqRKNU')\r\n})(_StayMap)","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { TextareaAutosize } from '@material-ui/core';\r\nimport { onEditStay } from '../../store/stay.actions.js'\r\nimport { loadUser } from '../../store/user.actions'\r\nimport { utilService } from '../../services/util.service.js';\r\nimport Rating from 'react-rating';\r\nimport { FaStar } from 'react-icons/fa';\r\n\r\nclass _AddReview extends Component {\r\n    state = {\r\n        newReview: {\r\n            by: {\r\n                fullname: this.props.user.fullname,\r\n                _id: this.props.user._id,\r\n                imgUrl: this.props.user.imgUrl\r\n            },\r\n            createdAt: null,\r\n            txt: '',\r\n            id: utilService.makeId(8),\r\n            cleanliness: null,\r\n            communication: null,\r\n            checkIn: null,\r\n            accuracy: null,\r\n            location: null,\r\n            value: null\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.clearReview()\r\n        if (this.props.user) this.props.loadUser(this.props.user._id)\r\n        this.setState({\r\n            by: {\r\n                fullname: this.props.user.fullname,\r\n                _id: this.props.user._id,\r\n                imgUrl: this.props.user.imgUrl\r\n            }\r\n        })\r\n    }\r\n    onRemove = async reviewId => {\r\n        await this.props.removeReview(reviewId)\r\n        // this.props.history.push('/login')\r\n    }\r\n    clearReview = () => {\r\n        this.setState({\r\n            newReview: {\r\n                createdAt: null,\r\n                txt: '',\r\n                id: utilService.makeId(),\r\n                cleanliness: null,\r\n                communication: null,\r\n                checkIn: null,\r\n                accuracy: null,\r\n                location: null,\r\n                value: null\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'number' ? +target.value : target.value\r\n        this.setState(prevState => ({ newReview: { ...prevState.newReview, [field]: value } }))\r\n    }\r\n    changeRating = (score, name) => {\r\n        this.setState(prevState => ({ newReview: { ...prevState.newReview, [name]: score } }))\r\n    }\r\n\r\n    formSubmited = (ev) => {\r\n        ev.preventDefault()\r\n        const { stay } = this.props\r\n        if (this.props.user._id) {\r\n            this.setState(prevState => ({ newReview: { ...prevState.newReview, createdAt: Date.now() } }), () => {\r\n                const review = this.state.newReview\r\n                review.by = {\r\n                    fullname: this.props.user.fullname,\r\n                    _id: this.props.user._id,\r\n                    imgUrl: this.props.user.imgUrl\r\n                }\r\n\r\n                stay.reviews = [review , ...stay.reviews]\r\n                this.props.onEditStay(stay)\r\n                this.clearReview()\r\n            })\r\n        }\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        const { cleanliness, communication, checkIn, accuracy, location, value, txt } = this.state.newReview\r\n        // const reviewStr = { leftReview: ['cleanliness', 'communication', 'checkIn'], rightReview: ['accuracy', 'location', 'value'] }\r\n        const style = {\r\n            padding: '20px',\r\n            width: '100%',\r\n            height: ' 150px',\r\n            resize: 'none',\r\n            borderRadius: '13px',\r\n            borderColor: ' #bdbcbc',\r\n            fontFamily: \"circular-book\",\r\n            fontSize: \"1rem\"\r\n        }\r\n        return (\r\n            <div >\r\n                <div className=\"add-review-title-container\">\r\n                    <h3>Add review</h3>\r\n                </div>\r\n                <form action=\"\" className=\"add-form flex column \" onSubmit={this.formSubmited} >\r\n                    <div className=\" add-review-container flex \">\r\n\r\n                        {/* <div className=\"line flex\">\r\n                            <p>Cleanliness</p>\r\n                            <Rating\r\n                                onChange={(ev) => this.changeRating(ev, 'cleanliness')}\r\n                                initialRating={cleanliness}\r\n                                fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                            />\r\n                        </div> */}\r\n                        <div className=\"left-review\">\r\n                            <div className=\"line flex\">\r\n                                <p>Cleanliness</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'cleanliness')}\r\n                                    initialRating={cleanliness}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Communication</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'communication')}\r\n                                    initialRating={communication}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Check in</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'checkIn')}\r\n                                    initialRating={checkIn}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right-review\">\r\n                            <div className=\"line flex\">\r\n                                <p>Accuracy</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'accuracy')}\r\n                                    initialRating={accuracy}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Location</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'location')}\r\n                                    initialRating={location}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                            <div className=\"line flex\">\r\n                                <p>Value</p>\r\n                                <Rating\r\n                                    onChange={(ev) => this.changeRating(ev, 'value')}\r\n                                    initialRating={value}\r\n                                    fullSymbol={<FaStar size={13} color=\"#FF5A5F\" />}\r\n                                    emptySymbol={<FaStar size={13} color=\"lightgray\" border=\"1px solid #FF5A5F\" />}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"add-txt-container flex\">\r\n                        <TextareaAutosize\r\n                            style={style}\r\n                            value={txt}\r\n                            placeholder=\"Write you opinion about this stay...\"\r\n                            className=\"review-input\"\r\n                            onChange={this.handleChange}\r\n                            name=\"txt\"\r\n                            autoComplete=\"off\" />\r\n                    </div>\r\n                    <div className=\"add-review-btn\">\r\n\r\n                        <div className=\"checkout-btn-container\" onClick={this.formSubmited}>\r\n                            {this.getBtnDivs()}\r\n                            <div className=\"content\">\r\n                                <button type=\"submit\" className=\"checkout-btn\" ><span>Add</span></button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onEditStay,\r\n    loadUser\r\n}\r\nexport const AddReview = connect(mapStateToProps, mapDispatchToProps)(_AddReview)\r\n// export const AddReview = connect(mapStateToProps)(_AddReview)","import React from \"react\";\r\nimport { FaStar } from \"react-icons/fa\";\r\n\r\nexport class ReviewAvg extends React.Component {\r\n    state = {\r\n        cleanliness: null,\r\n        communication: null,\r\n        checkIn: null,\r\n        accuracy: null,\r\n        location: null,\r\n        value: null,\r\n        totalAvg: null\r\n    }\r\n    componentDidMount() {\r\n        const types = [\"cleanliness\", \"communication\", \"checkIn\", \"accuracy\", \"location\", \"value\"]\r\n        types.forEach(type => {\r\n            this.setState(prevState => ({ ...prevState, [type]: this.getAvrage(type) }), () => {\r\n                this.getTotalAvg()\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n    getAvrage = (type) => {\r\n        const { reviews } = this.props\r\n        let avgScore = 0;\r\n        reviews.map(review => avgScore += +review[type])\r\n        avgScore = ((avgScore / reviews.length)).toFixed(1)\r\n        return avgScore\r\n    }\r\n    getTotalAvg = () => {\r\n        let totalReviewAvg = 0;\r\n        Object.keys(this.state).forEach((key, index) => {\r\n            totalReviewAvg += +this.state[key]\r\n        })\r\n        totalReviewAvg = (totalReviewAvg / 6).toFixed(1)\r\n        this.setState(prevState => ({ ...prevState, totalAvg: +totalReviewAvg }), () => {\r\n            this.props.setReviewsAvg(+totalReviewAvg)\r\n        })\r\n\r\n    }\r\n    render() {\r\n        const { reviews,demoReviews } = this.props\r\n        const types = this.state\r\n        return (\r\n            <section>\r\n                <div className=\"reviews-sec-title-container\">\r\n                    <h1 className=\"reviews-section-title flex\" ><FaStar\r\n                        size={15}\r\n\r\n                        color=\"#FF5A5F\" /> <span>{this.state.totalAvg}</span> <span>Reviews</span> <span>•</span>{demoReviews} Reviews</h1>\r\n                </div>\r\n                <div className=\"review-avg-container flex space-between\" >\r\n                    <div className=\"left-review\">\r\n                        {Object.keys(types).map((key, index) => {\r\n                            if (index <= 2) {\r\n                                return <div key={key} className=\"line flex align-center space-between\">\r\n                                    <p className=\"line-title\">{key.charAt(0).toUpperCase()}{key.slice(1)}</p>\r\n                                    <div className=\"loader-container flex align-center space-between\">\r\n                                        <div className=\"line-loader-container\">\r\n                                            <div className=\"line-loader\" style={{ width: `${+this.state[key] * 20}%` }}></div>\r\n                                        </div>\r\n                                        <p className=\"review-score\">{this.state[key]}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        })}\r\n                    </div>\r\n                    <div className=\"right-review\">\r\n                        {Object.keys(types).map((key, index) => {\r\n                            if (index > 2 && index <= 5) {\r\n                                return <div key={key} className=\"line flex align-center space-between\">\r\n                                    <p className=\"line-title\">{key.charAt(0).toUpperCase()}{key.slice(1)}</p>\r\n                                    <div className=\"loader-container flex align-center space-between\">\r\n                                        <div className=\"line-loader-container\">\r\n                                            <div className=\"line-loader\" style={{ width: `${+this.state[key] * 20}%` }}></div>\r\n                                        </div>\r\n                                        <p className=\"review-score\">{this.state[key]}</p>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        })}\r\n                    </div>\r\n                </div >\r\n            </section >\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadStay, onEditStay } from '../store/stay.actions.js'\r\nimport { loadUser, onToggleLikedStay } from '../store/user.actions.js'\r\nimport { BasicInfo } from '../cmps/stay-details/details-base-info'\r\nimport { AssetSum } from '../cmps/stay-details/details-asset-sum'\r\nimport { AssetAmenities } from '../cmps/stay-details/details-amenities'\r\nimport 'react-dates/initialize'\r\nimport 'react-dates/lib/css/_datepicker.css';\r\nimport { CheckoutForm } from '../cmps/stay-details/details-checkout-form'\r\nimport { ReviewsList } from '../cmps/stay-details/reviews-list'\r\nimport { StayMap } from '../cmps/stay-details/stay-map'\r\nimport { AddReview } from '../cmps/stay-details/add-review'\r\nimport { ReviewAvg } from '../cmps/stay-details/_reviews-avg'\r\nimport loader from '../assets/img/three-dots.svg'\r\nimport { socketService } from '../services/socket.service'\r\nclass _StayDetails extends React.Component {\r\n    state = {\r\n        stayReviews: [],\r\n        trip: {\r\n            startDate: null,\r\n            endDate: null,\r\n            guests: { adults: 1, kids: 0, infants: 0 },\r\n\r\n        },\r\n        isReadMoreOn: false,\r\n        isLiked: null,\r\n        isMobilePics: false\r\n    }\r\n    setMobliePicsDisplay = () => {\r\n        if (window.innerWidth <= 780) {\r\n            this.setState({ isMobilePics: true })\r\n        } else {\r\n            this.setState({ isMobilePics: false })\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        this.setMobliePicsDisplay()\r\n        const { user } = this.props\r\n        const { stayId } = this.props.match.params\r\n        window.addEventListener('resize', this.setMobliePicsDisplay)\r\n        if (!stayId) this.props.history.push('/')\r\n        else await this.props.loadStay(stayId)\r\n        window.scrollTo(0, 0)\r\n        if (this.props.stay) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', this.props.stay.host._id)\r\n            // socketService.on('getNotif', (ev) => {})\r\n        }\r\n        if (user) this.props.loadUser(user._id)\r\n\r\n        this.isStayLiked()\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.setMobliePicsDisplay)\r\n        // socketService.off('getNotif', (ev) => {})\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { user } = this.props\r\n        if (prevState.isLiked !== this.state.isLiked) {\r\n            this.isStayLiked()\r\n            if (user) this.props.loadUser(user._id)\r\n        }\r\n    }\r\n\r\n    onToogleLikeStay = () => {\r\n        const { user, stay } = this.props\r\n        const { isLiked } = this.state\r\n        if (user) {\r\n            this.setState({ isLiked: !isLiked }, () => {\r\n                this.props.onToggleLikedStay(stay._id, !isLiked, user._id)\r\n            })\r\n        }\r\n    }\r\n\r\n    isStayLiked = () => {\r\n        const { user, stay } = this.props\r\n        if (user && stay) {\r\n            if (user.mySaves) {\r\n                const isLiked = user.mySaves.filter(saved => saved === stay._id)\r\n                if (isLiked.length) {\r\n                    this.setState({ isLiked: true })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = ({ startDate, endDate }) => {\r\n        if (startDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, startDate } }))\r\n        }\r\n        if (endDate) {\r\n            this.setState(prevState => ({ trip: { ...prevState.trip, endDate } }))\r\n        }\r\n    }\r\n\r\n\r\n    setReviewsAvg = (avgScore) => {\r\n        const { stay } = this.props\r\n        stay.reviewsAvg = avgScore\r\n        this.setState(prevState => ({ stay: { ...prevState.stay, reviewsAvg: avgScore } }))\r\n\r\n    }\r\n    render() {\r\n        const { isReadMoreOn, isLiked, isMobilePics } = this.state\r\n        const { stay, user } = this.props\r\n        return (\r\n            <section className=\"stay-details-section main-container\">\r\n                {(!stay) && <div className=\"loader-container flex align-center justify-center\"><img src={loader} alt=\"loader\" /></div>}\r\n                {stay && <div className=\"stay-details-container\">\r\n                    <BasicInfo isMobilePics={isMobilePics} user={user} stay={stay} isLiked={isLiked} reviewsAvg={stay.reviewsAvg} onToogleLikeStay={this.onToogleLikeStay} />\r\n                    <section className=\" details-main-conatiner flex\">\r\n                        <div className=\"details-left-container\">\r\n                            <section className=\"host-info-container flex align-center space-between\">\r\n                                <div className=\"asset-short-info flex\">\r\n                                    <div className=\"host-by\">\r\n                                        <p>{`${stay.assetType} hosted by ${stay.host.fullname}`}</p>\r\n                                    </div>\r\n                                    <div className=\"asset-info\">\r\n                                        <p><span>{`${stay.capacity} guests`}</span> • <span >{`${stay.host.fullname} is Superhost!`}</span> •  <span>{`${stay.capacity} beds`}</span> </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"host-img-container\">\r\n                                    <img src={`https://i.pravatar.cc/100?u=${stay.host._id.substr(stay.host._id.length - 8)}`} alt=\"\" />\r\n                                </div>\r\n                            </section>\r\n                            <AssetSum />\r\n                            <section className=\"asset-desc-container\">\r\n                                <div className=\"asset-desc\">\r\n                                    {stay.summary > 100 ? <p >{stay.summary.substring(0, 100)} <span className=\"read-more\" > More...</span></p> : <p  >{stay.summary}</p>}\r\n                                </div>\r\n                            </section>\r\n                            <section className=\"amenities-container\">\r\n                                <h4>What this place offers</h4>\r\n                                <div >\r\n                                    <AssetAmenities amenities={stay.amenities} />\r\n                                </div>\r\n                            </section>\r\n                        </div>\r\n                        <div className=\"details-right-container\">\r\n                            <CheckoutForm reviewsAvg={stay.reviewsAvg} />\r\n                        </div>\r\n                    </section>\r\n                    <section className=\"page-bottom-container\">\r\n                        <div className=\"reviews-section-container\" >\r\n                            <ReviewAvg demoReviews={stay.demoReviews} reviews={stay.reviews} setReviewsAvg={this.setReviewsAvg} />\r\n                            <ReviewsList isReadMoreOn={isReadMoreOn} onToogleReadModal={this.onToogleReadModal} />\r\n                            {user && <div className=\"add-review\">\r\n                                <AddReview stay={stay} />\r\n                            </div>}\r\n                        </div>\r\n                        <StayMap location={stay.loc} />\r\n                    </section>\r\n                </div >}\r\n                {/* {isReadMoreOn && <ReadMore txt={this.state.txt} onCloseReadModal={this.onCloseReadModal} />} */}\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stay: state.stayModule.stay,\r\n        reviews: state.reviewModule.reviews\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStay,\r\n    onToggleLikedStay,\r\n    loadUser,\r\n    onEditStay\r\n}\r\nexport const StayDetails = connect(mapStateToProps, mapDispatchToProps)(_StayDetails)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router'\r\nimport { socketService } from '../services/socket.service';\r\nimport { onLogin, onLogout, onSignup, loadUsers, updateUser, loadUser } from '../store/user.actions'\r\nclass _LoginSignup extends React.Component {\r\n    state = {\r\n        credentials: {\r\n            username: '',\r\n            password: '',\r\n            fullname: ''\r\n        },\r\n        isSignup: false,\r\n        users: []\r\n    }\r\n    async componentDidMount() {\r\n        try {\r\n            await this.props.loadUsers()\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n    clearState = () => {\r\n        const clearTemplate = {\r\n            credentials: {\r\n                username: '',\r\n                password: '',\r\n                fullname: ''\r\n            },\r\n            isSignup: false\r\n        }\r\n        this.setState({ clearTemplate })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n    }\r\n\r\n    onLogin = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username) return;\r\n        await this.props.onLogin(this.state.credentials);\r\n        await this.props.loadUser(this.props.user._id)\r\n        const { user } = this.props\r\n        if (user.isHost) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', user._id)\r\n            socketService.on('getNotif', async (notif) => {\r\n                const editedNotif = {\r\n                    notifTxt: `${notif.txt} at ${notif.stay.name}`,\r\n                    byUser: notif.byUser.fullName,\r\n                    isRead: notif.isRead,\r\n                    createdAt: notif.createdAt,\r\n                }\r\n                user.notifications = [editedNotif, ...user.notifications]\r\n                await this.props.updateUser(user)\r\n            })\r\n        }\r\n        this.clearState()\r\n    }\r\n    onSignup = (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n        this.props.onSignup(this.state.credentials);\r\n        this.clearState()\r\n        this.props.history.push('/')\r\n    }\r\n    toggleSignup = () => {\r\n        this.setState({ isSignup: !this.state.isSignup })\r\n    }\r\n    responseGoogle = (response) => {\r\n    }\r\n    render() {\r\n        const { username } = this.state.credentials;\r\n        const { isSignup } = this.state;\r\n        const { user, users } = this.props\r\n        return (\r\n            <div className=\"login-page\">\r\n                {!isSignup && !user && <form className=\"login-form\" onSubmit={this.onLogin}>\r\n                    {users && <select\r\n                        name=\"username\"\r\n                        value={username}\r\n                        onChange={this.handleChange}\r\n                    >\r\n                        <option value=\"\">Select User</option>\r\n                        {users.map(user => <option key={user._id} value={user.username}>{user.fullname}</option>)}\r\n                    </select>}\r\n                    <button>Login!</button>\r\n                </form>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        users: state.userModule.users\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onLogout,\r\n    onSignup,\r\n    loadUsers,\r\n    loadUser,\r\n    updateUser\r\n}\r\nexport const LoginSignup = withRouter(connect(mapStateToProps, mapDispatchToProps)(_LoginSignup))\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router'\r\nimport { LoginSignup } from '../cmps/login-signup'\r\nimport { socketService } from '../services/socket.service'\r\nimport { userService } from '../services/user.service'\r\nimport { onLogin, onLogout, onSignup, updateUser, loadUser } from '../store/user.actions'\r\nclass _LoginPage extends React.Component {\r\n    state = {\r\n        credentials: {\r\n            username: '',\r\n            password: '',\r\n            fullname: ''\r\n        },\r\n        isSignUp: false,\r\n        users: []\r\n    }\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        const users = await userService.getUsers()\r\n        this.setState({ users })\r\n    }\r\n\r\n    clearState = () => {\r\n        const clearTemplate = {\r\n            credentials: {\r\n                username: '',\r\n                password: '',\r\n                fullname: ''\r\n            },\r\n            isSignUp: false\r\n        }\r\n        this.setState({ clearTemplate })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ credentials: { ...this.state.credentials, [field]: value } });\r\n    }\r\n    onLogin = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username) return;\r\n        await this.props.onLogin(this.state.credentials);\r\n        await this.props.loadUser(this.props.user._id)\r\n        const { user } = this.props\r\n        if (user.isHost) {\r\n            socketService.setup()\r\n            socketService.emit('setHost', user._id)\r\n            socketService.on('getNotif', async (notif) => {\r\n                const editedNotif = {\r\n                    notifTxt: `${notif.txt} at ${notif.stay.name}`,\r\n                    byUser: notif.byUser.fullName,\r\n                    byUserImg: `https://i.pravatar.cc/100?u=${notif.byUser._id.substr(notif.byUser._id.length - 8)}`,\r\n                    isRead: notif.isRead,\r\n                    createdAt: notif.createdAt,\r\n                }\r\n                user.notifications = [editedNotif, ...user.notifications]\r\n                await this.props.updateUser(user)\r\n            })\r\n        }\r\n        this.clearState()\r\n        this.props.history.goBack()\r\n    }\r\n    onSignup = async (ev = null) => {\r\n        if (ev) ev.preventDefault();\r\n        if (!this.state.credentials.username || !this.state.credentials.password || !this.state.credentials.fullname) return;\r\n        await this.props.onSignup(this.state.credentials);\r\n        this.clearState()\r\n        this.props.history.push('/')\r\n    }\r\n    toggleSignUp = (ev) => {\r\n        ev.preventDefault()\r\n        this.setState({ isSignUp: !this.state.isSignUp })\r\n    }\r\n    render() {\r\n        const { username, password, fullname } = this.state.credentials;\r\n        const { isSignUp, users } = this.state;\r\n        if (!users) return <div>loading...</div>\r\n        return (\r\n            <section className=\"items-center main-container page-padding\">\r\n                <form className=\"login flex column justify-center align-center\">\r\n                    <h1>{isSignUp ? 'Sign Up' : 'Login'}</h1>\r\n                    <h2>{isSignUp ? 'Welcome to AnyGo' : 'Welcome back'}</h2>\r\n                    <div className=\"input-fields flex column align-center\">\r\n                        {isSignUp && <div className='fullname-input'>\r\n                            <input className='flex' type=\"text\" name=\"fullname\" placeholder=\"fullname\" value={fullname} onChange={this.handleChange} required />\r\n                        </div>}\r\n                        <div className={isSignUp ? 'login-input border-top' : 'login-input'}>\r\n                            <input className='flex' type=\"text\" name=\"username\" placeholder=\"Username\" value={username} onChange={this.handleChange} required />\r\n                        </div>\r\n                        <div className='password-input'>\r\n                            <input className='flex' type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={this.handleChange} required />\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"login-btn\" onClick={isSignUp ? this.onSignup : this.onLogin}>{isSignUp ? 'Sign Up' : 'Login'}</button>\r\n                    <div className=\"new-user\">\r\n                        <button className=\"new-user-btn\" onClick={this.toggleSignUp}>{isSignUp ? 'Already have an account ?' : 'New user ?'}</button>\r\n                    </div>\r\n                </form>\r\n            </section>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onLogout,\r\n    onSignup,\r\n    updateUser,\r\n    loadUser\r\n}\r\n\r\nexport const LoginPage = withRouter(connect(mapStateToProps, mapDispatchToProps)(_LoginPage))\r\n","export default __webpack_public_path__ + \"static/media/travel.eaab62fe.jpg\";","\r\nimport React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { onCancelOrder, onRemoveOrder, onUpdateOrder } from '../../store/order.actions'\r\nimport LazyLoad from \"../preview-slider\"\r\n\r\nclass _TripPreview extends React.Component {\r\n    state = {\r\n        trip: null\r\n    }\r\n\r\n    getTime = (timeStamp) => {\r\n        var time = new Date(timeStamp * 1000);\r\n        var date = '0' + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = date.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n    onCancelTrip = (trip) => {\r\n        trip.status = \"canceled\"\r\n        this.props.onUpdateOrder(trip)\r\n    }\r\n    onRemoveTrip = (tripId) => {\r\n        this.props.onRemoveOrder(tripId)\r\n    }\r\n    render() {\r\n        const { trip } = this.props\r\n        var startDate = this.getTime(trip.startDate)\r\n        var endDate = this.getTime(trip.endDate)\r\n        return (\r\n            <div className=\"trip-preview-container\"  >\r\n                {trip.stay &&\r\n                    <section>\r\n                        <div>\r\n                            <NavLink to={`/stay/${trip.stay._id}`} className=\"trip-img-container\">\r\n                                {trip.stay.imgUrls.length && <LazyLoad imgs={trip.stay.imgUrls} />}\r\n                            </NavLink>\r\n                        </div>\r\n                        <div className=\"trip-preview-details\">\r\n                            <div className=\"name-dates-container flex space-between\">\r\n                                <div><h4>{trip.stay.name}</h4></div>\r\n                                <div>\r\n                                    <div>{startDate}</div>\r\n                                    <div>{endDate}</div>\r\n                                </div>\r\n                            </div>\r\n                            {trip.status === 'pending' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Wait for approval</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onCancelTrip(trip) }} className=\"cancel-btn\">Cancel</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'canceled' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Canceled</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onRemoveTrip(trip._id) }} className=\"cancel-btn\">Remove</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'declined' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Declined by host</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onRemoveTrip(trip._id) }} className=\"cancel-btn\">Remove</p>\r\n                                </div>\r\n                            </div>}\r\n                            {trip.status === 'approved' && <div className=\"container flex space-between align-center\">\r\n                                <div>\r\n                                    <p>Approved by host!</p>\r\n                                </div>\r\n                                <div>\r\n                                    <p onClick={() => { this.onCancelTrip(trip) }} className=\"cancel-btn\">Cancel</p>\r\n                                </div>\r\n                            </div>}\r\n                            {/* <div className=\"flex space-between\">\r\n                                {trip.status === 'pending' && <div>\r\n                                    <p>Wait for approval</p>\r\n                                </div>}\r\n                                {trip.status === 'approved' && <div>\r\n                                    <p>Approved by host!</p>\r\n                                </div>}\r\n                                <div><p className=\"user-cancel\" onClick={() => { this.onCancelTrip(trip) }}>Cancel order</p></div>\r\n                            </div> */}\r\n                        </div >\r\n                    </section>}\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onCancelOrder,\r\n    onRemoveOrder,\r\n    onUpdateOrder\r\n}\r\n\r\n\r\nexport const TripPreview = connect(mapStateToProps, mapDispatchToProps)(_TripPreview)","import { TripPreview } from \"./trip-preview\";\r\n\r\nexport function TripsList({ trips, isHost, stays }) {\r\n\r\n    return (\r\n        <div className=\"trip-list flex\">\r\n            {trips.map((trip, idx) =>\r\n                <TripPreview key={idx} trip={trip} />\r\n            )}\r\n        </div>)\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../store/user.actions'\r\nimport travelImg from '../assets/img/travel.jpg'\r\nimport { TripsList } from '../cmps/trips-page/trips-list.jsx'\r\nimport { loadOrders } from '../store/order.actions'\r\nclass _TripsPage extends React.Component {\r\n    state = {\r\n        user: null,\r\n        trips: []\r\n    }\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        await this.props.loadUser(this.props.user._id)\r\n        await this.props.loadOrders(this.props.user._id, 'buyer')\r\n    }\r\n    render() {\r\n        const { user, orders } = this.props\r\n        return (\r\n            <main className=\"trips-page-container main-container\">\r\n                {user && <section className=\"trips-container page-padding\">\r\n                    <div className=\"trips-title-container\">\r\n                        <h1>Trips</h1>\r\n                    </div>\r\n                    {!orders.length && <div className=\"no-trips-txt\">\r\n                        <p>When you’re ready to start planning your next trip, we’re here to help. </p>\r\n                        <div className=\"trips-img-container\">\r\n                            <img src={travelImg} alt=\"\" />\r\n                        </div>\r\n                    </div>}\r\n                  \r\n                    {orders && orders.length && <section className=\"trips-container\">\r\n                        <TripsList trips={orders} isHost={user.isHost} />\r\n                    </section>}\r\n                </section>}\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        orders: state.orderModule.orders\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    loadOrders\r\n}\r\n\r\n\r\nexport const TripsPage = connect(mapStateToProps, mapDispatchToProps)(_TripsPage)","\r\nimport { Component } from 'react';\r\nimport { GoogleApiWrapper } from 'google-maps-react';\r\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng, } from 'react-places-autocomplete';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nclass _AddStayMap extends Component {\r\n\r\n    state = {\r\n        selectedPlace: '',\r\n        loc: {\r\n            lat: '',\r\n            lng: '',\r\n            address: '',\r\n            country: ''\r\n        }\r\n\r\n    }\r\n    handleChange = (address) => {\r\n        this.setState({ selectedPlace: address });\r\n    }\r\n    handleSelect = async (address) => {\r\n        const results = await geocodeByAddress(address)\r\n        const latLng = await getLatLng(results[0])\r\n        this.setState({ selectedPlace: address, loc: { lat: latLng.lat, lng: latLng.lng, address: address } }, () => {\r\n            this.props.handleAddressChange(this.state.loc)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { selectedPlace } = this.state\r\n        return (\r\n            <section >\r\n                <div className=\"add-form-line flex align-center \">\r\n                    <label className=\"add-line\" htmlFor=\"\">Address</label>\r\n\r\n                    <PlacesAutocomplete\r\n                        value={selectedPlace}\r\n                        onChange={this.handleChange}\r\n                        onSelect={this.handleSelect}\r\n                    >\r\n                        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n                            <div>\r\n                                <TextField\r\n                                    value={selectedPlace}\r\n                                    {...getInputProps({\r\n                                        placeholder: 'Search Places ...',\r\n                                        className: 'location-search-input',\r\n                                    })}\r\n                                />\r\n                                <div className=\"autocomplete-dropdown-container\">\r\n                                    {loading && <div>Loading...</div>}\r\n                                    {suggestions.map((suggestion, idx) => {\r\n                                        const className = suggestion.active\r\n                                            ? 'suggestion-item--active'\r\n                                            : 'suggestion-item';\r\n                                        // inline style for demonstration purpose\r\n                                        const style = suggestion.active\r\n                                            ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                                            : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                                        return (\r\n                                            <div\r\n                                                key={idx}\r\n                                                {...getSuggestionItemProps(suggestion, {\r\n                                                    className,\r\n                                                    style,\r\n                                                })}\r\n                                            >\r\n                                                <span>{suggestion.description}</span>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </PlacesAutocomplete>\r\n                </div>\r\n                {/* <div className=\"main-add-map-container\">\r\n\r\n                    <Map\r\n                        containerStyle={style}\r\n                        google={this.props.google}\r\n                        zoom={15}\r\n                        initialCenter={center}\r\n                        onClick={this.onMapClicked}\r\n                        center={center}\r\n                    >\r\n                        <Marker\r\n                            position={center}\r\n                            name={'Current location'}\r\n                            onClick={this.onMarkerClicked}\r\n                        />\r\n                    </Map>\r\n                </div>\r\n                <div>\r\n                    {this.state.loc.address && <h1 className=\"address-title\">{this.state.loc.address.split(',')[0]} , {this.state.loc.address.split(',')[1]}</h1>}\r\n                </div> */}\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport const AddStayMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyC4nnRlZ8NjJzwvd5SZMk3ukykZTfqRKNU')\r\n})(_AddStayMap)","export default __webpack_public_path__ + \"static/media/no-img.b21add8f.png\";","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router';\r\nimport { onAddStay } from '../../store/stay.actions'\r\nimport { AddStayMap } from './add-stay-map';\r\nimport { TextField } from '@material-ui/core';\r\nimport { TextareaAutosize } from \"@material-ui/core\";\r\nimport Select from 'react-select';\r\nimport noImg from '../../assets/img/no-img.png'\r\nimport { utilService } from '../../services/util.service';\r\nclass _AddStay extends React.Component {\r\n    state = {\r\n        newStay: {\r\n            name: '',\r\n            assetType: '',\r\n            assetSpace: '',\r\n            summary: '',\r\n            uniqueStay: false,\r\n            imgUrls: [],\r\n            price: '',\r\n            capacity: '',\r\n            amenities: [],\r\n            labels: [],\r\n            loc: {\r\n                country: '',\r\n                countryCode: '',\r\n                address: '',\r\n                lat: '',\r\n                lng: ''\r\n            },\r\n            host: '',\r\n            reviews: []\r\n        },\r\n        ameintiesOptions: [\r\n            { name: 'TV', isChecked: false },\r\n            { name: 'Wifi', isChecked: false },\r\n            { name: 'Kitchen', isChecked: false },\r\n            { name: 'Smoking allowed', isChecked: false },\r\n            { name: 'Cooking basics', isChecked: false }\r\n        ]\r\n    }\r\n    handleChange = ({ target }) => {\r\n        const field = target.name;\r\n        const value = target.type === 'number' ? +target.value : target.value;\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, [field]: value } }))\r\n    }\r\n    handleAmenityChange = ({ target }) => {\r\n        const name = target.name\r\n        const checked = target.checked\r\n        const { ameintiesOptions } = this.state\r\n        const { amenities } = this.state.newStay\r\n        const updatedAmeintiesOpts = ameintiesOptions.map(amenity => (amenity.name === name) ? { name, isChecked: checked } : amenity)\r\n        if (checked) amenities.push(name)\r\n        else {\r\n            const idx = amenities.findIndex(amenity => amenity === name)\r\n            amenities.splice(idx, 1)\r\n        }\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, amenities }, ameintiesOptions: updatedAmeintiesOpts }))\r\n    }\r\n    handleAddressChange = (address) => {\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, loc: address } }))\r\n    }\r\n    handleSelectChange = (target) => {\r\n        const field = target.name\r\n        const value = target.value\r\n        this.setState(prevState => ({ ...prevState, newStay: { ...this.state.newStay, [field]: value } }))\r\n    }\r\n\r\n    onAddsStay = (ev) => {\r\n        ev.preventDefault()\r\n        const { newStay } = this.state\r\n        const { _id, fullname, ImgUrl } = this.props.user\r\n        newStay.assetType = `${newStay.assetSpace.split(' ')[1]} ${newStay.assetType}`\r\n        newStay.host = { fullname, _id, ImgUrl }\r\n        newStay.demoReviews = utilService.getRandomIntInclusive(50, 300)\r\n        this.props.onAddStay(newStay)\r\n        this.setState({\r\n            newStay: {\r\n                name: '',\r\n                assetType: '',\r\n                assetSpace: '',\r\n                summary: '',\r\n                uniqueStay: false,\r\n                imgUrls: [noImg, noImg, noImg, noImg, noImg],\r\n                price: '',\r\n                capacity: '',\r\n                amenities: [],\r\n                labels: [],\r\n                loc: {\r\n                    country: '',\r\n                    countryCode: '',\r\n                    address: '',\r\n                    lat: '',\r\n                    lng: ''\r\n                },\r\n                host: '',\r\n                reviews: []\r\n            }\r\n        })\r\n        this.props.history.push('/explore')\r\n    }\r\n    onUploadImg = (ev) => {\r\n        const CLOUD_NAME = 'dkbfdybze'\r\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n        const file = ev.target.files[0]\r\n        const formData = new FormData()\r\n        formData.append(\"file\", file)\r\n        formData.append(\"upload_preset\", \"ewa9mksh\")\r\n        return fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                const state = this.state\r\n                const ImgUrl = res.url\r\n                state.newStay.imgUrls.push(ImgUrl)\r\n                this.setState((state))\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n    getBtnDivs = () => {\r\n        let divStr = []\r\n        for (let i = 0; i < 100; i++) {\r\n            divStr.push(<div key={i + 1} className=\"cell\" ></div >)\r\n        }\r\n        return divStr\r\n    }\r\n    render() {\r\n        const { imgUrls, name, assetSpace, assetType, capacity, summary, price } = this.state.newStay\r\n        const { ameintiesOptions } = this.state\r\n        const spaceOptions = [\r\n            { name: 'assetSpace', value: 'An Entire place', label: 'An Entire place' },\r\n            { name: 'assetSpace', value: 'A Private room', label: 'A Private room' },\r\n            { name: 'assetSpace', value: 'A Shared room', label: 'A Shared room' },\r\n        ];\r\n\r\n        const assetTypeOptions = [\r\n            { name: 'assetType', value: 'Duplex', label: 'Duplex' },\r\n            { name: 'assetType', value: 'Villa', label: 'Villa' },\r\n            { name: 'assetType', value: 'Loft', label: 'Loft' },\r\n            { name: 'assetType', value: 'Farm', label: 'Farm' },\r\n            { name: 'assetType', value: 'Cabin', label: 'Cabin' },\r\n        ];\r\n\r\n        // const ameintiesOptions = [\r\n        //     'TV',\r\n        //     'Wifi',\r\n        //     'Kitchen',\r\n        //     'Smoking allowedarm',\r\n        //     'Cooking basics',\r\n\r\n        // ];\r\n        const style = {\r\n            margin: '20px 0',\r\n            padding: '20px',\r\n            width: '100%',\r\n            height: ' 150px',\r\n            resize: 'none',\r\n            borderRadius: '13px',\r\n            borderColor: ' #bdbcbc',\r\n            fontFamily: \"circular-book\",\r\n            fontSize: \"1rem\"\r\n        }\r\n        if (!imgUrls) return (<div>Loading</div>)\r\n        return (\r\n            <div className=\"add-stay-container\">\r\n                <div>\r\n                    <h1>Add stay!</h1>\r\n                </div>\r\n\r\n\r\n                <div className=\"add-stay-form-container flex\">\r\n                    <form className=\"add-stay-form\" onSubmit={this.onAddsStay}>\r\n                        <section className=\"add-basic-info-container flex align-center\">\r\n                            <div className=\"add-stay-name-container\">\r\n                                <label className=\"add-line\" htmlFor=\"\">Stay name</label>\r\n                                <TextField required type=\"text\" autoComplete=\"off\" value={name} name=\"name\" placeholder=\"Asset name...\" onChange={this.handleChange} />\r\n\r\n                            </div>\r\n                            <div className=\"add-stay-location-container\">\r\n                                <AddStayMap handleAddressChange={this.handleAddressChange} />\r\n                            </div>\r\n\r\n                        </section>\r\n                        <section className=\"add-stay-imgs-container flex\">\r\n                            <div className=\"add-stay-imgs flex\">\r\n                                <div className=\"primary-img square-ratio\" >\r\n\r\n                                    {imgUrls[0] ? <img src={imgUrls[0]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                </div>\r\n                                <div className=\"add-small-imgs-container flex column space-between\">\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[1] ? <img src={imgUrls[1]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                    </div>\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[2] ? <img src={imgUrls[2]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"add-small-imgs-container flex column space-between\">\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[3] ? <img src={imgUrls[3]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                    </div>\r\n                                    <div className=\"new-stay-img square-ratio\">\r\n                                        {imgUrls[4] ? <img src={imgUrls[4]} alt=\"\" /> : <input type=\"file\" placeholder=\"Upload Image\" name=\"imgUrls\" onChange={this.onUploadImg} />}\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </section>\r\n                        <section className=\"add-stay-details-container flex \">\r\n                            <div className=\"add-form-line flex align-center space-between\">\r\n                                <label className=\"add-line\" htmlFor=\"\">Capacity</label>\r\n                                <TextField required type=\"number\" value={capacity} name=\"capacity\" placeholder=\"Capacity...\" onChange={this.handleChange} />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center space-between\">\r\n                                <label className=\"add-line\" htmlFor=\"\">Asset space</label>\r\n                                <Select\r\n                                    required\r\n                                    placeholder=\"Space type\"\r\n                                    onChange={this.handleSelectChange}\r\n                                    name=\"assetSpace\"\r\n                                    className=\"add-stay-select\"\r\n                                    value={assetSpace}\r\n                                    options={spaceOptions}\r\n                                />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center space-between\">\r\n                                <label className=\"add-line\" htmlFor=\"\">What is your asset type?</label>\r\n                                <Select\r\n                                    required\r\n                                    placeholder=\"Asset type\"\r\n                                    onChange={this.handleSelectChange}\r\n                                    name=\"assetType\"\r\n                                    className=\"add-stay-select\"\r\n                                    value={assetType}\r\n                                    options={assetTypeOptions}\r\n                                />\r\n                            </div>\r\n                            <div className=\"add-form-line flex align-center space-between\">\r\n                                <TextField required type=\"number\" value={price} name=\"price\" placeholder=\"Price\" onChange={this.handleChange} />\r\n                                <label className=\"add-line\" htmlFor=\"\">/per night</label>\r\n                            </div>\r\n\r\n                        </section>\r\n                        <section className=\"add-stay-summary\">\r\n                            <div className=\"add-desc-line flex column  space-between\">\r\n                                <label className=\"add-line\" htmlFor=\"\">Describe your asset</label>\r\n                                <TextareaAutosize\r\n                                    required\r\n                                    style={style}\r\n                                    value={summary}\r\n                                    placeholder=\"Describe your asset...\"\r\n                                    className=\"asset-desc-input\"\r\n                                    onChange={this.handleChange}\r\n                                    name=\"summary\"\r\n                                    autoComplete=\"off\" />\r\n                            </div>\r\n                        </section>\r\n                        <section className=\"add-amenities-container \">\r\n                            {ameintiesOptions.map((amenity, idx) => {\r\n                                return <div key={idx} className=\"add-amenities-line flex align-center space-between\">\r\n                                    <input type=\"checkbox\" checked={amenity.isChecked} name={amenity.name} onChange={this.handleAmenityChange} />\r\n                                    <label variant=\"h5\">{amenity.name}</label>\r\n                                </div>\r\n                            })}\r\n                        </section>\r\n                        <section className=\"add-stay-container\">\r\n\r\n                            <div className=\"checkout-btn-container\" onClick={this.onAddsStay}>\r\n                                {this.getBtnDivs()}\r\n                                <div className=\"content\">\r\n                                    <button className=\"checkout-btn\" ><span>Add stay</span> </button>\r\n                                </div>\r\n                            </div>\r\n                        </section>\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onAddStay\r\n}\r\n\r\nexport const AddStay = withRouter(connect(mapStateToProps, mapDispatchToProps)(_AddStay))","import MUIDataTable from \"mui-datatables\";\r\nimport { Component } from \"react\";\r\nimport { FaStar } from \"react-icons/fa\";\r\nimport { NavLink } from \"react-router-dom\";\r\n// import { HoststayPreview } from \"./host-stay-preview\";\r\n\r\nexport class HostStaysList extends Component {\r\n    getData = () => {\r\n        const { stays, orders } = this.props\r\n        const dataStays = [];\r\n        let editedOrder;\r\n        if (stays) {\r\n            stays.forEach(stay => {\r\n                editedOrder = {\r\n                    stayName: stay.name,\r\n                    address: stay.loc.address,\r\n                    price: `$${stay.price}`,\r\n                    reviews: <div className=\"host-stays-reviews flex align-center\">\r\n                        <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                        <p >{stay.reviewsAvg}</p>\r\n                        <p >({stay.reviews.length} reviews)</p>\r\n                    </div>,\r\n                    // reviews: stay.reviews.length,\r\n                    // reviewsAvg: stay.reviewsAvg,\r\n                    orders: orders.filter(order => order.stay._id === stay._id).length,\r\n                    link: <NavLink to={`/stay/${stay._id}`}>Go to stay</NavLink>\r\n                }\r\n                dataStays.unshift(editedOrder)\r\n                editedOrder = null\r\n            })\r\n            return dataStays\r\n        }\r\n    }\r\n    render() {\r\n        const columns = [\r\n\r\n            {\r\n                name: 'stayName',\r\n                label: \"Name\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"address\",\r\n                label: \"Address\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"price\",\r\n                label: \"Price\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"reviews\",\r\n                label: \"Reviews\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"orders\",\r\n                label: \"Total orders\",\r\n\r\n            },\r\n            {\r\n                name: \"link\",\r\n                label: \" \",\r\n\r\n            }\r\n        ];\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n        return (\r\n            <div className=\"notifications-page-container\">\r\n                <section className=\"notifications-container\">\r\n                    <MUIDataTable\r\n                        title={\"Your orders\"}\r\n                        data={this.getData()}\r\n                        columns={columns}\r\n                        options={options}\r\n\r\n                    />\r\n                </section>\r\n                {/* {stays.map((stay, idx) => */}\r\n                {/* <HoststayPreview key={idx} stay={stay} /> */}\r\n                {/* )} */}\r\n\r\n            </div>)\r\n    }\r\n}\r\n","import { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../../store/user.actions'\r\nimport { onUpdateOrder, onRemoveOrder } from '../../store/order.actions'\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { FaStar } from 'react-icons/fa'\r\nimport ArrowRightAltRoundedIcon from '@mui/icons-material/ArrowRightAltRounded';\r\n\r\nclass _OrdersDashboard extends Component {\r\n    state = {\r\n        user: null,\r\n        orders: null\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        const { user, orders } = this.props\r\n        this.setState({ orders })\r\n\r\n        if (user) this.props.loadUser(user._id)\r\n\r\n    }\r\n    getTime = (timestamp) => {\r\n        var time = new Date(timestamp * 1000);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n    getData = () => {\r\n        const { orders } = this.props\r\n        const dataOrders = [];\r\n        let editedOrder;\r\n        if (orders) {\r\n            orders.forEach(order => {\r\n                editedOrder = {\r\n                    stayName: order.stay.name,\r\n                    // address: order.loc.address,\r\n                    buyerName: order.buyer.fullname,\r\n                    buyerImg: <div className=\"user-order-img-container flex align-center\">\r\n                        <img src={`https://i.pravatar.cc/100?u=${order.buyer._id.substr(order.buyer._id.length - 8)}`} alt=\"\" />\r\n                        <p>{order.buyer.fullname}</p>\r\n                    </div>,\r\n                    price: `$${order.totalPrice}`,\r\n                    status: `${order.status.charAt(0).toUpperCase()}${order.status.substr(1)}`,\r\n                    checkIn: this.getTime(order.startDate),\r\n                    checkOut: this.getTime(order.endDate),\r\n                    approveBtn: <div className=\"host-action-btns flex\">\r\n                        {order.status === 'pending' && <button className=\"approve-order-btn\" onClick={() => { this.onApproveOrder(order._id) }}>Approve</button>}\r\n                        <button className=\"approve-order-btn\" onClick={() => { (order.status === \"declined\") ? this.onRemoveOrder(order._id) : this.onDeclinelOrder(order._id) }}>\r\n                            {(order.status === \"pending\") ? 'Decline' : (order.status === \"approved\") ? 'Cancel' : 'Remove'}</button>\r\n                    </div>\r\n\r\n                }\r\n                dataOrders.unshift(editedOrder)\r\n                editedOrder = null\r\n            })\r\n            return dataOrders\r\n        }\r\n    }\r\n    getTotalRate = (orders) => {\r\n        let totalRate = 0;\r\n        orders.forEach(order => { totalRate += order.stay.reviewsAvg })\r\n        totalRate = totalRate / orders.length\r\n        return totalRate\r\n    }\r\n    getTotalPrice = (orders) => {\r\n        let totalPrice = 0;\r\n        orders.forEach(order => { totalPrice += +order.totalPrice })\r\n        return totalPrice\r\n    }\r\n    onApproveOrder = (orderId) => {\r\n        const { orders } = this.props\r\n        const order = orders.filter(order => order._id === orderId)\r\n        order[0].status = \"approved\"\r\n        this.props.onUpdateOrder(order[0])\r\n    }\r\n    onDeclinelOrder = (orderId) => {\r\n        const { orders } = this.props\r\n        const order = orders.filter(order => order._id === orderId)\r\n        order[0].status = \"declined\"\r\n        this.props.onUpdateOrder(order)\r\n    }\r\n    onRemoveOrder = (orderId) => {\r\n        this.props.onRemoveOrder(orderId)\r\n    }\r\n    getOrdersStatus = (status) => {\r\n        const { orders } = this.props\r\n        const filterdOrders = orders.filter(order => order.status === status)\r\n        return filterdOrders.length\r\n    }\r\n    render() {\r\n        const { orders } = this.props\r\n        const columns = [\r\n            {\r\n                name: 'buyerImg',\r\n                label: \"Name\",\r\n            },\r\n            {\r\n                name: \"stayName\",\r\n                label: \"Address\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"checkIn\",\r\n                label: \"Check in\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"checkOut\",\r\n                label: \"Check out\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"price\",\r\n                label: \"Price\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"status\",\r\n                label: \"Status\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"approveBtn\",\r\n                label: \"Actions\",\r\n\r\n            }\r\n        ];\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n\r\n        return (\r\n            <main className=\"notifications-page-container  \">\r\n                <section className=\"dashboard-header-container flex\">\r\n                    <div className=\"total-rate-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Total Rate</p>\r\n                        </div>\r\n                        <div className=\"dashboard-value flex space-between align-center \">\r\n                            <div className=\"flex  align-center \">\r\n                                <p className=\"checkout-star\"><FaStar size={13} color=\"#FF5A5F\" /></p>\r\n                                <p className=\"dash-avg-score\">{(!this.getTotalRate(orders)) ? 0 : this.getTotalRate(orders).toFixed(1)}</p>\r\n                            </div>\r\n                            <div className=\"dash-stats-arrow-container flex\">\r\n                                <p>{<ArrowRightAltRoundedIcon className={`stat-arrow ${(Math.random() >= 0.5) ? 'down' : 'up'}`} />}</p>\r\n                                <p className=\"dash-review-stat\">{Math.floor(Math.random() * 7) + 1}%</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"dash-earning-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Monthly earnings</p>\r\n                        </div>\r\n                        <div className=\"dashboard-value\">\r\n                            <p className=\"dash-avg-earning\">{new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(this.getTotalPrice(orders))}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"dash-earning-container flex column space-between\">\r\n                        <div>\r\n                            <p className=\"dashboard-label\">Orders</p>\r\n                        </div>\r\n                        <div className=\"orders-sec-dash flex \">\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle approved\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('approved')}/{orders.length}</p>\r\n                            </div>\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle pending\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('pending')}/{orders.length}</p>\r\n                            </div>\r\n                            <div className=\"dashboard-value flex align-center\">\r\n                                <div className=\"dash-orders-circle declined\"></div>\r\n                                <p className=\"dash-avg-order\">{this.getOrdersStatus('declined')}/{orders.length}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <section className=\"notifications-container\">\r\n                    <MUIDataTable\r\n                        title={\"Your orders\"}\r\n                        data={this.getData()}\r\n                        columns={columns}\r\n                        options={options}\r\n                    />\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    onUpdateOrder,\r\n    onRemoveOrder\r\n}\r\n\r\nexport const OrdersDashboard = connect(mapStateToProps, mapDispatchToProps)(_OrdersDashboard)","import Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadUser } from '../store/user.actions'\r\nimport { AddStay } from '../cmps/host-page/add-stay';\r\nimport { loadOrders } from '../store/order.actions'\r\nimport { loadStays, setFilter } from '../store/stay.actions'\r\nimport { HostStaysList } from '../cmps/host-page/host-stays-list';\r\nimport { OrdersDashboard } from '../cmps/host-page/dash-board';\r\n\r\n// import { OrdersList } from '../cmps/hosts-list.jsx'\r\nclass _HostPage extends React.Component {\r\n    state = {\r\n        user: null,\r\n        orders: [],\r\n        stays: [],\r\n        selectedTab: 'orders'\r\n    }\r\n    async componentDidMount() {\r\n        const { user } = this.props\r\n        window.scrollTo(0, 0)\r\n        this.onGetHostStays()\r\n        if (user) {\r\n            try {\r\n                await this.props.loadOrders(user._id, 'host')\r\n                await this.props.loadStays(this.props.filterBy)\r\n                // await this.props.loadUser(user._id)\r\n            } catch (err) {\r\n            }\r\n        }\r\n        else {\r\n            this.props.history.push('/')\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.onClearFilter()\r\n\r\n    }\r\n    onClearFilter = () => {\r\n        const { filterBy } = this.props\r\n        filterBy.hostId = ''\r\n        this.props.setFilter(filterBy)\r\n    }\r\n    onGetHostStays = () => {\r\n        const newFilter = this.props.filterBy\r\n        newFilter.hostId = this.props.user._id\r\n        this.props.setFilter(newFilter)\r\n    }\r\n\r\n    onChangeTab = (ev, value) => {\r\n        this.setState({ selectedTab: value })\r\n    }\r\n\r\n    render() {\r\n        const { user, orders, stays } = this.props\r\n        const { selectedTab } = this.state\r\n        return (\r\n            <main className=\"host-page-container main-container\">\r\n                {/* <div className=\" page-padding\"> */}\r\n                <div>\r\n                    <section className=\"host-tabs-container\">\r\n                        <Tabs\r\n                            value={selectedTab}\r\n                            onChange={this.onChangeTab}\r\n                            textColor=\"secondary\"\r\n                            indicatorColor=\"secondary\"\r\n                            aria-label=\"secondary tabs example\"\r\n                        >\r\n                            <Tab value=\"orders\" label={orders ? `Orders (${orders.length})` : 'Orders'} />\r\n                            <Tab value=\"my-stays\" label=\"My stays\" />\r\n                            <Tab value=\"add-stay\" label=\"Add a stay\" />\r\n                            {/* <Tab value=\"stats\" label=\"Stats\" /> */}\r\n                        </Tabs>\r\n                    </section>\r\n                    {user && <section className=\"host-container\">\r\n\r\n                        {selectedTab === 'orders' && <div>\r\n                            <div className=\"orders-container\">\r\n                                <OrdersDashboard orders={orders} />\r\n                                {/* <OrdersList orders={orders} /> */}\r\n                            </div>\r\n                        </div>}\r\n                        {selectedTab === 'my-stays' && <div className=\"orders-container\">\r\n                                {stays && <HostStaysList orders={orders} stays={stays} />}\r\n                        </div>}\r\n                        {/* {selectedTab === 'stats' && <div>\r\n                            <HostChart />\r\n                        </div>} */}\r\n                        {selectedTab === 'add-stay' && <div>\r\n                            <AddStay />\r\n                        </div>}\r\n                    </section>}\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        orders: state.orderModule.orders,\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy\r\n\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUser,\r\n    loadOrders,\r\n    loadStays,\r\n    setFilter\r\n\r\n\r\n}\r\n\r\n\r\nexport const HostPage = connect(mapStateToProps, mapDispatchToProps)(_HostPage)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { onBecomeHost, loadUser } from '../store/user.actions.js'\r\nimport { FaAirbnb } from 'react-icons/fa'\r\nconsole.log('check');\r\n\r\nclass _BecomeAHost extends React.Component {\r\n   \r\n    onBecomeHost = () => {\r\n        if (this.props.user) {\r\n            console.log('loloa');\r\n            const userId = this.props.user._id\r\n            this.props.onBecomeHost(userId)\r\n            this.props.history.push('/host')\r\n        }\r\n        else this.props.history.push('/')\r\n    }\r\n    render() {\r\n        return (\r\n            <section className=\"be-host-container\">\r\n                <div className=\"be-host-left-container flex column \">\r\n                    <div className=\"be-host-logo flex align-center\" onClick={() => { this.props.history.push('/') }}><FaAirbnb color=\"#fff\" size={40} /></div>\r\n                    <div className=\"be-host-txt-container flex column align-center\">\r\n                        <div><h1>Hosting</h1></div>\r\n                        <div><h1>makes AnyGo,</h1></div>\r\n                        <div><h1>AnyGo</h1></div>\r\n                    </div>\r\n                    <div className=\"be-host-btn-container flex  align-center\">\r\n                        <button onClick={this.onBecomeHost} className=\"be-host-btn\">Try hosting</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"be-host-img-container\">\r\n                    <img src=\"https://res.cloudinary.com/dkbfdybze/image/upload/v1633436197/become-host_ufwcx6.jpg\" alt=\"\" />\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onBecomeHost,\r\n    loadUser\r\n}\r\n\r\nexport const BecomeAHost = connect(mapStateToProps, mapDispatchToProps)(_BecomeAHost)","import { Component } from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport { loadUser, updateUser } from '../store/user.actions'\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\n\r\nclass _NotificationsPage extends Component {\r\n    state = {\r\n        user: null,\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n    }\r\n    async componentWillUnmount() {\r\n        const { user } = this.props\r\n        if (user?.notifications?.length) {\r\n            const userUnreadNotifs = user.notifications.map(notif => ({ ...notif, isRead: true }))\r\n            await this.props.updateUser({ ...user, notifications: userUnreadNotifs })\r\n\r\n        }\r\n    }\r\n    getTime = (timestamp) => {\r\n        var time = new Date(timestamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n    getData = () => {\r\n        const { notifications } = this.props.user\r\n        const dataNotifications = [];\r\n        let editedNotification;\r\n        if (notifications) {\r\n            notifications.forEach(notification => {\r\n                editedNotification = {\r\n                    ...notification,\r\n                    byUserImg: <div className=\"user-order-img-container flex align-center\">\r\n                        <img src={notification.byUserImg} alt=\"\" />\r\n                        <p>{notification.byUser}</p>\r\n                    </div>,\r\n                    createdAt: this.getTime(notification.createdAt)\r\n                    // approveBtn: <div className=\"host-action-btns flex\">\r\n                    //     {notification.status === 'pending' && <button className=\"approve-notification-btn\" onClick={() => { this.onApproveNotification(notification._id) }}>Approve</button>}\r\n                    //     <button className=\"approve-notification-btn\" onClick={() => { (notification.status === \"declined\") ? this.onRemoveNotification(notification._id) : this.onDeclinelNotification(notification._id) }}>\r\n                    //         {(notification.status === \"pending\") ? 'Decline' : (notification.status === \"approved\") ? 'Cancel' : 'Remove'}</button>\r\n                    // </div>\r\n                }\r\n                dataNotifications.unshift(editedNotification)\r\n                editedNotification = null\r\n            })\r\n            return dataNotifications\r\n        }\r\n    }\r\n    render() {\r\n        const { user } = this.props\r\n        const columns = [\r\n            {\r\n                name: \"byUserImg\",\r\n                label: \"Name\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"notifTxt\",\r\n                label: \"Notification\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            },\r\n            {\r\n                name: \"createdAt\",\r\n                label: \"Time\",\r\n                options: {\r\n                    filter: true,\r\n                    sort: true\r\n                }\r\n            }\r\n        ];\r\n\r\n        const options = {\r\n            filter: true,\r\n            filterType: \"dropdown\",\r\n        };\r\n\r\n        return (\r\n            <main className=\"notifications-page-container  main-container\">\r\n                <section className=\"page-padding\">\r\n                    <div className=\"notifications-title-container\">\r\n                        <h1>Notifications</h1>\r\n                    </div>\r\n                    {user && <section className=\"notifications-container\" >\r\n                        <MUIDataTable\r\n                            title={\"Notifications list\"}\r\n                            data={this.getData()}\r\n                            columns={columns}\r\n                            options={options}\r\n\r\n                        />\r\n                    </section>}\r\n                </section>\r\n            </main>\r\n        )\r\n    }\r\n\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    updateUser,\r\n    loadUser\r\n}\r\n\r\n\r\nexport const NotificationsPage = connect(mapStateToProps, mapDispatchToProps)(_NotificationsPage)","import { HomePage } from './pages/home-page.jsx'\r\nimport { AboutUs } from './pages/about-us.jsx'\r\nimport { Explore } from './pages/explore.jsx'\r\n// import { ChatApp } from './pages/chat-app.jsx'\r\nimport { AdminApp } from './pages/admin-app.jsx'\r\nimport { StayDetails } from './pages/stay-details.jsx'\r\nimport { LoginPage } from './pages/login.jsx'\r\nimport { TripsPage } from './pages/trips-page.jsx'\r\nimport { HostPage } from './pages/host-page.jsx'\r\nimport { BecomeAHost } from './pages/become-a-host.jsx'\r\nimport { NotificationsPage } from './pages/notifications.jsx'\r\nimport { LoginSignup } from './cmps/login-signup.jsx'\r\n// import { Login } from './pages/'\r\n\r\n// Routes accesible from the main navigation (in AppHeader)\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: HomePage,\r\n    },\r\n    {\r\n        path: '/explore/',\r\n        component: Explore,\r\n    },\r\n    {\r\n        path: '/stay/:stayId',\r\n        component: StayDetails,\r\n    },\r\n    {\r\n        path: '/trips',\r\n        component: TripsPage,\r\n    },\r\n    {\r\n        path: '/host',\r\n        component: HostPage,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginPage\r\n    },\r\n    {\r\n        path: '/login-dev',\r\n        component: LoginSignup\r\n    },\r\n    {\r\n        path: '/become-a-host',\r\n        component: BecomeAHost\r\n    },\r\n\r\n    {\r\n        path: '/about',\r\n        component: AboutUs,\r\n\r\n    },\r\n    {\r\n        path: '/notifications',\r\n        component: NotificationsPage,\r\n\r\n    },\r\n    {\r\n        path: '/admin',\r\n        component: AdminApp,\r\n    }\r\n]\r\n\r\nexport default routes;","import React from 'react'\r\nimport { FaPlus, FaMinus } from 'react-icons/fa'\r\nexport class GuestsModal extends React.Component {\r\n    render() {\r\n        const { adultNumber, kidsNumber, infantsNumber, onSelectAmount } = this.props\r\n        return (\r\n            <div className=\"guest-modal flex column\">\r\n                <div className=\"guest-card flex space-between  align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Adults</p>\r\n                        <p className=\"guest-desc\">Ages 13 or above</p>\r\n                    </div>\r\n                    <div className=\"guest-amount\">\r\n                        <p className={adultNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('adultNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{adultNumber ? adultNumber : 0}</p>\r\n                        <p className=\"guest-btn \" onClick={() => onSelectAmount('adultNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"guest-card flex space-between align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Children</p>\r\n                        <p className=\"guest-desc\">Ages 2-12</p>\r\n                    </div>\r\n                    <div className=\"guest-amount\">\r\n                        <p className={kidsNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('kidsNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{kidsNumber ? kidsNumber : 0}</p>\r\n                        <p className=\"guest-btn \" onClick={() => onSelectAmount('kidsNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"guest-card flex space-between  align-center\">\r\n                    <div className=\"column\">\r\n                        <p className=\"guest-type\">Infants</p>\r\n                        <p className=\"guest-desc\">Under 2</p>\r\n                    </div>\r\n                    <div className=\"guest-amount \">\r\n                        <p className={infantsNumber ? \"guest-btn\" : \"guest-btn zero\"} onClick={() => onSelectAmount('infantsNumber', -1)}><FaMinus /></p>\r\n                        <p className=\"guest-amount-count\">{infantsNumber ? infantsNumber : 0}</p>\r\n                        <p className=\"guest-btn\" onClick={() => onSelectAmount('infantsNumber', 1)}><FaPlus />\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nconst locations = [{ city: 'Porto', country: 'Portugal', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-1_avfpxl.png' }, { city: 'Barcelona', country: 'Spain', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-2_qchnx7.png' }, { city: 'Tel Aviv', country: 'Israel', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521280/location%20previews/location-preview-3_fndewl.png' }, { city: 'Paris', country: \"France\", imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-4_nqshaa.jpg' }, { city: 'London', country: 'United Kingdom', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-5_pbuhtd.jpg' }, { city: 'New York', country: 'United States', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-6_kynrq5.png' }, { city: 'Amsterdam', country: 'Netherlands', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521278/location%20previews/location-preview-7_unmsuc.jpg' }, { city: 'Rome', country: 'Italy', imgUrl: 'https://res.cloudinary.com/dpbqsvvtk/image/upload/v1633521279/location%20previews/location-preview-8_yjbewa.png' }]\r\nexport function LocationsPopUp({ closeAllModals, onSetLocationPopUp }) {\r\n    async function onPushTo(loc) {\r\n        closeAllModals()\r\n        onSetLocationPopUp(loc)\r\n    }\r\n    return (\r\n        <div className=\"location-modal flex column\">\r\n            {locations.map((location, idx) => <div key={idx} className=\"location-card flex align-center\" onClick={() => { onPushTo(location.city) }}>\r\n                <img src={location.imgUrl} alt=\"location\" className=\"loc-img\" />\r\n                <div className=\"flex column\">\r\n                    <p className=\"location-city\">{location.city}</p>\r\n                    <p className=\"location-country\">{location.country}</p>\r\n                </div>\r\n            </div>\r\n            )}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { GuestsModal } from './guests-modal';\r\nimport { FaSearch, FaChevronLeft } from 'react-icons/fa'\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { DatesPicker2 } from \"./dates-picker2\"\r\nimport { LocationsPopUp } from './locations-popup';\r\nclass _SearchBar extends React.Component {\r\n    state = {\r\n        startDate: '',\r\n        endDate: '',\r\n        location: '',\r\n        adultNumber: 0,\r\n        kidsNumber: 0,\r\n        infantsNumber: 0,\r\n        capacity: 0,\r\n        amenities: '',\r\n        assetType: '',\r\n        uniqueStay: '',\r\n        guestModal: false,\r\n        datesModal: false,\r\n        hostId: ''\r\n    }\r\n    componentDidMount() {\r\n        const params = this.onGetQueryParams()\r\n        this.props.setFilter(params)\r\n        this.setState({ ...params })\r\n    }\r\n    onGetQueryParams = () => {\r\n        const urlParams = new URLSearchParams(this.props.location.search);\r\n        const location = urlParams.get('location') || '';\r\n        const startDate = urlParams.get('startDate') || '';\r\n        const endDate = urlParams.get('endDate') || '';\r\n        const adultNumber = +urlParams.get('adults') || 1;\r\n        const kidsNumber = +urlParams.get('kids') || 0;\r\n        const infantsNumber = +urlParams.get('infants') || 0;\r\n        const params = {\r\n            location,\r\n            startDate,\r\n            endDate,\r\n            adultNumber,\r\n            kidsNumber,\r\n            infantsNumber,\r\n            capacity: 0,\r\n            amenities: '',\r\n            assetType: '',\r\n            uniqueStay: '',\r\n            guestModal: false,\r\n            datesModal: false,\r\n            hostId: ''\r\n        }\r\n        return params\r\n    }\r\n    handleChange = (ev) => {\r\n        const value = ev.target.value;\r\n        var newValue = this.capitalizeArray(value)\r\n        this.setState({ location: newValue }, () => { this.props.setFilter(this.state) });\r\n    }\r\n    capitalizeArray = (str) => {\r\n        var newStr = str.split(' ')\r\n        for (var i = 0; i < newStr.length; i++) {\r\n            var currWord = ''\r\n            currWord = newStr[i]\r\n            currWord = this.capitalize(currWord)\r\n            newStr[i] = currWord\r\n        }\r\n        newStr = newStr.join(' ')\r\n        return newStr\r\n    }\r\n    capitalize = (str) => {\r\n        return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()\r\n    }\r\n    onSelectDates = ({ startDate, endDate }) => {\r\n        this.setState({ startDate, endDate }, () => { this.props.setFilter(this.state) })\r\n    }\r\n    onSelectAmount = (guestType, diff) => {\r\n        switch (guestType) {\r\n            case 'adultNumber':\r\n                if (this.state.adultNumber + diff >= 0) {\r\n                    this.setState({ adultNumber: this.state.adultNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            case 'kidsNumber':\r\n                if (this.state.kidsNumber + diff >= 0) {\r\n                    this.setState({ kidsNumber: this.state.kidsNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            case 'infantsNumber':\r\n                if (this.state.infantsNumber + diff >= 0) {\r\n                    this.setState({ infantsNumber: this.state.infantsNumber + diff }, () => { this.props.setFilter(this.state) })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    onSetFilter = async () => {\r\n        await this.props.setFilter(this.state)\r\n        const { location, startDate, endDate, adultNumber, kidsNumber, infantsNumber } = this.state\r\n        const urlQuery = `/explore/?location=${location}&startDate=${startDate}&endDate=${endDate}&adults=${adultNumber}&kids=${kidsNumber}&infants=${infantsNumber}`\r\n        this.props.closeAllModals()\r\n        await this.props.loadStays(this.props.filterBy)\r\n        this.props.history.push(urlQuery)\r\n    }\r\n    onSetLocationPopUp = (val) => {\r\n        this.setState({ location: val }, () => { this.onSetFilter() })\r\n    }\r\n\r\n    timeToShow = (date, val) => {\r\n        var timeStamp = Date.parse(date);\r\n        var time = new Date(timeStamp);\r\n        var day = \"0\" + time.getDate();\r\n        var month = \"0\" + (time.getMonth() + 1);\r\n        var year = \"0\" + time.getFullYear();\r\n        var formattedTime = day.substr(-2) + '.' + month.substr(-2) + '.' + year.substr(-2);\r\n        return formattedTime\r\n    }\r\n\r\n    render() {\r\n        const { isMiniHeader, guestModal, datesModal, locModal, onToggleSearchModals, onToggleMiniSearchBar, closeAllModals, filterBy } = this.props\r\n        const { location, adultNumber, kidsNumber, infantsNumber, endDate, startDate } = this.state\r\n        return (\r\n            <div >\r\n                <div className=\"search-bar-container flex align-center \">\r\n                    <button className=\"go-back-btn\" onClick={() => { window.history.back() }}><FaChevronLeft size={22} /></button>\r\n                    <div className=\"location-container flex column\" onClick={() => { onToggleSearchModals('locModal') }}>\r\n                        <label htmlFor=\"location\" className=\"loc-inpt\">Location\r\n                            <input type=\"text\" name=\"location\" autoComplete=\"off\" value={location} onChange={this.handleChange} placeholder=\"Where are you going?\" />\r\n                        </label>\r\n                    </div>\r\n                    {locModal && <LocationsPopUp onSetLocationPopUp={this.onSetLocationPopUp} closeAllModals={closeAllModals} />}\r\n                    <div className=\"mini-search-input\" onClick={onToggleMiniSearchBar}>\r\n                        <p >\r\n                            {filterBy.location ? filterBy.location : 'Start your search'}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"dates-container flex \">\r\n                        <div className=\"check-in-input flex column\">\r\n                            <label htmlFor=\"\" onClick={() => { onToggleSearchModals('datesModal') }}>Check in <span>{startDate ? this.timeToShow(startDate, 'startDate') : 'Add date'}</span></label>\r\n                        </div>\r\n                        <div className=\"check-out-input flex column\" >\r\n                            <label htmlFor=\"\" onClick={() => { onToggleSearchModals('datesModal') }}>Check out <span>{endDate ? this.timeToShow(endDate, 'startDate') : 'Add date'}</span></label>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"guests-container\" >\r\n                        <div className=\"guests-label align-center flex\" onClick={(ev) => { onToggleSearchModals('guestModal',) }}>\r\n                            <label htmlFor=\"\" className=\"flex column\" >\r\n                                <span>Guests</span>\r\n                                <span className=\"guest-placeholder\">{(adultNumber + kidsNumber + infantsNumber) <= 1 ? 'Add guests' : (adultNumber + kidsNumber + infantsNumber)}</span>\r\n                            </label>\r\n                        </div>\r\n                        {guestModal && <GuestsModal adultNumber={adultNumber} kidsNumber={kidsNumber} infantsNumber={infantsNumber} onSelectAmount={this.onSelectAmount} />}\r\n                    </div>\r\n                    <div className=\"search-btn-container flex align-center justify-center\" onClick={() => { this.onSetFilter() }} >\r\n                        {isMiniHeader && < FaSearch size={13} />}\r\n                        {!isMiniHeader && < FaSearch size={20} />}\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"search-dates-container \">\r\n                    {datesModal && <DatesPicker2 onSelectDates={this.onSelectDates} />}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport const SearchBar = withRouter(_SearchBar)\r\n\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { onLogout, loadUser } from '../store/user.actions'\r\nimport NotificationsNoneIcon from '@mui/icons-material/NotificationsNone';\r\nimport { socketService } from '../services/socket.service'\r\nclass _UserMenu extends React.Component {\r\n    state = {\r\n        isLoginModalOn: false\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.user) {\r\n            this.props.loadUser(this.props.user._id)\r\n        }\r\n    }\r\n    onLogout = () => {\r\n        this.props.onLogout()\r\n        this.props.onToggleSearchModals('menuModal')\r\n        socketService.off('getNotif')\r\n        socketService.terminate()\r\n    }\r\n\r\n    onCloseLogin = () => {\r\n        this.setState({ isLoginModalOn: false })\r\n        this.props.onToggleSearchModals('menuModal')\r\n    }\r\n    onOpenLogin = () => {\r\n        this.props.history.push('/login')\r\n        this.props.onOpenBotLogin()\r\n        this.props.onToggleSearchModals('menuModal')\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <div className=\"user-menu-container flex column\" >\r\n                <section className=\"user-menu top-section \">\r\n                    <div >\r\n                        {user && <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line flex space-between\" to=\"/notifications\"><p>Notifications</p><span className={user.notifications.length ? 'user-notifications-icon' : 'user-notifications-icon hide'}>{user.notifications.some(notif => !notif.isRead) ? <NotificationsNoneIcon /> : ''}</span></NavLink>}\r\n                    </div>\r\n                    <div  >\r\n                        {user && <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line\" to=\"/trips\"><p >Trips</p></NavLink>}\r\n                        {!user && <p className=\"user-menu-line\"> Trips</p>}\r\n\r\n                    </div>\r\n                    {\r\n                        user && user.isHost && <div >\r\n                            <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} to=\"/host\" className=\"user-menu-line\" ><p>Host</p></NavLink>\r\n\r\n                        </div>\r\n                    }\r\n                    <div className=\"user-menu-line\">\r\n                        <p>Wishlist</p>\r\n                    </div>\r\n                    <div >\r\n                        {user ? <NavLink onClick={() => this.props.onToggleSearchModals('menuModal')} className=\"user-menu-line\" to=\"/become-a-host\"><p >Host a expirience</p></NavLink> : <p className=\"user-menu-line\">Host a expirience</p>}\r\n\r\n                    </div>\r\n                </section >\r\n                <section className=\"user-menu bottom-section\">\r\n                    {user && <div className=\"user-menu-line\" onClick={this.onLogout}>\r\n                        <p>Logout</p>\r\n                    </div>}\r\n                    {!user && <div className=\"user-menu-line\" onClick={this.onOpenLogin}>\r\n                        <p>Login</p>\r\n                    </div>}\r\n                    {!user && <div className=\"user-menu-line\">\r\n                        <p>Signup</p>\r\n                    </div>}\r\n\r\n                </section>\r\n            </div >\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogout,\r\n    loadUser\r\n}\r\nexport const UserMenu = withRouter(connect(mapStateToProps, mapDispatchToProps)(_UserMenu))","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { FaAirbnb, FaBars } from 'react-icons/fa'\r\nimport { onLogin, onLogout, onSignup, loadUsers, removeUser, } from '../store/user.actions.js'\r\nimport { setFilter, setMiniHeader, loadStays } from '../store/stay.actions';\r\nimport { SearchBar } from './search-bar';\r\nimport { UserMenu } from './user-menu';\r\nclass _AppHeader extends React.Component {\r\n    state = {\r\n        isUserMenuOpen: false,\r\n        isLoginBotmodal: false,\r\n        isScreenOpen: false,\r\n        guestModal: false,\r\n        datesModal: false,\r\n        locModal: false,\r\n        isMiniInput: false,\r\n        isNotifRead: false\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        window.addEventListener('scroll', this.onScrollCloseModals)\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.isMiniHeader !== this.props.isMiniHeader && !this.props.isMiniHeader) {\r\n            this.closeAllModals()\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.onScrollCloseModals)\r\n    }\r\n    onScrollCloseModals = (ev) => {\r\n        if (ev.target.scrollingElement.scrollTop > 1) {\r\n            this.closeAllModals()\r\n            this.setState({ isMiniInput: false })\r\n        }\r\n    }\r\n    onOpenBotLogin = () => {\r\n        this.setState({ isLoginBotmodal: true })\r\n    }\r\n    onToggleScreen = (val) => {\r\n        this.setState({ isScreenOpen: val })\r\n    }\r\n    onToggleSearchModals = (modal) => {\r\n        this.closeAllModals()\r\n        switch (modal) {\r\n            case 'locModal':\r\n                this.onToggleScreen(!this.state.locModal)\r\n                this.setState({ locModal: !this.state.locModal })\r\n                break;\r\n            case 'guestModal':\r\n                this.onToggleScreen(!this.state.guestModal)\r\n                this.setState({ guestModal: !this.state.guestModal })\r\n                break;\r\n            case 'datesModal':\r\n                this.onToggleScreen(!this.state.datesModal)\r\n                this.setState({ datesModal: !this.state.datesModal })\r\n                break;\r\n            case 'menuModal':\r\n                this.onToggleScreen(!this.state.isUserMenuOpen)\r\n                this.setState({ isUserMenuOpen: !this.state.isUserMenuOpen })\r\n                break;\r\n            default:\r\n                break;\r\n\r\n        }\r\n    }\r\n    closeAllModals = () => {\r\n        this.onToggleScreen(false)\r\n        this.setState({ locModal: false, guestModal: false, datesModal: false, isUserMenuOpen: false })\r\n    }\r\n    onToggleMiniSearchBar = () => {\r\n        this.setState({ isMiniInput: !this.state.isMiniInput })\r\n    }\r\n    render() {\r\n        const { user, setFilter, filterBy, isMiniHeader } = this.props\r\n        const { isUserMenuOpen, isLoginBotmodal, isScreenOpen, locModal, datesModal, guestModal, isMiniInput } = this.state\r\n        return (\r\n            <header className={isMiniInput ? `app-header-conatiner main-container mini-header-with-input` : isMiniHeader ? `app-header-conatiner main-container mini-header full` : `app-header-conatiner main-container `}>\r\n                <div className={isScreenOpen ? \"screen screen-open full\" : \"screen full\"} onClick={() => { this.closeAllModals() }}></div>\r\n                <nav className=\"user-header-section flex space-between align-center\">\r\n                    <div className=\"logo-container flex align-center\">\r\n                        <NavLink to=\"/\" className=\"logo\"><FaAirbnb size={40} color={!isMiniHeader ? '#fff' : '#ff5a5f'} /><span>AnyGo</span></NavLink>\r\n                    </div>\r\n                    <div className=\"search-bar\">\r\n                        {isMiniHeader && <SearchBar loadStays={this.props.loadStays} closeAllModals={this.closeAllModals} setFilter={setFilter} isMiniHeader={isMiniHeader} filterBy={filterBy} datesModal={datesModal} guestModal={guestModal} locModal={locModal} onToggleSearchModals={this.onToggleSearchModals} onToggleMiniSearchBar={this.onToggleMiniSearchBar} />}\r\n                    </div>\r\n                    <div className=\"nav-bar-container flex \">\r\n                        <div className=\"flex align-center\">\r\n                            <NavLink to=\"/explore/\" className=\"nav-opt\">Explore</NavLink>\r\n                        </div>\r\n                        <div className=\"nav-options flex align-center\">\r\n                            {user && user.isHost ? <NavLink to=\"/host\" className=\"nav-opt\">Switch to hosting</NavLink> : <NavLink to=\"/become-a-host\" className=\"nav-opt\">Become a host</NavLink>}\r\n                        </div>\r\n                        <div className=\"user-img-container \" onClick={() => { this.onToggleSearchModals('menuModal') }}>\r\n                            <button className=\"user-btn flex align-center btn-section  \">\r\n                                <FaBars className=\"menu-btn\" />\r\n                                <div className=\"user-logo-container\">\r\n                                    {user && <img src={`https://i.pravatar.cc/100?u=${user._id.substr(user._id.length - 8)}`} alt=\"\" />}\r\n                                </div>\r\n\r\n                            </button>\r\n                            {(user?.notifications.length && user.notifications.some(notif => !notif.isRead)) ? <div className=\"notif-icon-container\">\r\n                                <div className=\"notif-icon flex align-center justify-center\">{user.notifications.filter(notif => !notif.isRead).length}</div>\r\n                            </div> : ''}\r\n                        </div>\r\n                        <div className=\"user-menu\">\r\n                            {isUserMenuOpen && <UserMenu onCheckRead={this.onCheckRead} onToggleSearchModals={this.onToggleSearchModals} onOpenBotLogin={this.onOpenBotLogin} />}\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n                {!isMiniHeader && <SearchBar loadStays={this.props.loadStays} closeAllModals={this.closeAllModals} setFilter={setFilter} isMiniHeader={isMiniHeader} filterBy={filterBy} datesModal={datesModal} guestModal={guestModal} locModal={locModal} onToggleSearchModals={this.onToggleSearchModals} />}\r\n            </header>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.userModule.users,\r\n        user: state.userModule.user,\r\n        count: state.userModule.count,\r\n        isLoading: state.systemModule.isLoading,\r\n        filterBy: state.stayModule.filterBy,\r\n        isMiniHeader: state.stayModule.isMiniHeader\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onLogout,\r\n    loadUsers,\r\n    removeUser,\r\n    setFilter,\r\n    setMiniHeader,\r\n    loadStays\r\n}\r\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","import { Link } from \"react-router-dom\"\r\n\r\nexport function TopRatedStays({ stays}) {\r\n    return (\r\n        <section className=\"flex column top-rated-stays \">\r\n            <h4>Top rated stays</h4>\r\n            {\r\n                stays.map(stay =>\r\n                    \r\n                    <div  key={stay._id} className=\"flex column stay-links\">\r\n                        <Link to={`/stay/${stay._id}`}>{stay.name}</Link>\r\n                    </div>\r\n                )\r\n            }\r\n        </section>\r\n    )\r\n}","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n\r\n\r\n// eventBusService.emit('baba', [5, 8, 11])\r\n// setTimeout(()=>{\r\n//     eventBusService.emit('baba', 17)\r\n// }, 2000)\r\n\r\n/* Listening Component...\r\n    import {eventBusService} from 'path...event-bus-service'\r\n    eventBusService.on('some-event', (dataFromEvent) => {\r\n    do something with dataFromEvent\r\n    })\r\n\r\n   Receiving Component...\r\n    eventBusService.emit('some-event', data)\r\n*/","import React from 'react'\r\n\r\nimport { eventBusService } from '../services/event-bus.service.js'\r\n\r\n\r\nexport class UserMsg extends React.Component {\r\n\r\n  removeEvent;\r\n\r\n  state = {\r\n    msg: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Here we listen to the event that we emited, its important to remove the listener \r\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\r\n      this.setState({ msg })\r\n      setTimeout(() => {\r\n        this.setState({ msg: null })\r\n      }, 2500)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEvent()\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.msg) return <span></span>\r\n    const msgClass = this.state.msg.type || ''\r\n    return (\r\n      <section className={'user-msg ' + msgClass}>\r\n        <div className=\"content-msg\">\r\n        <h3> {this.state.msg.txt}</h3>\r\n        </div>\r\n        <div className=\"close-msg-btn\">\r\n        <button onClick={() => {\r\n          this.setState({ msg: null })\r\n        }}>x</button>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n","const locations = [{ city: 'Porto', country: 'Portugal' }, { city: 'Barcelona', country: 'Spain' }, { city: 'Tel Aviv', country: 'Israel' }, { city: 'Paris', country: \"France\" }, { city: 'London', country: 'United Kingdom' }, { city: 'New York', country: 'United States' }, { city: 'Amsterdam', country: 'Netherlands' }, { city: 'Rome', country: 'Italy' }]\r\nexport function FooterLocations({onClickLoc}) {\r\n    return (\r\n        <div className='flex column footer-locations'>\r\n            <h4>Locations</h4>\r\n            {\r\n                locations.map((loc,idx) =><p key={idx} onClick={()=>onClickLoc(loc.city,'location')}>{loc.city},{loc.country}</p>)\r\n            }\r\n        </div>\r\n    )\r\n}","import { Link } from \"react-router-dom\"\r\n\r\nexport function NearbyStays({ stays }) {\r\n    return <div className='flex column nearby-stays'>\r\n        <h4>Nearby</h4>\r\n        {stays.map(stay => <Link key={stay._id} to={`/stay/${stay._id}`}>{stay.name}</Link>)}\r\n    </div>\r\n}","\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { TopRatedStays } from './app-footer/top-rated-stays'\r\nimport { loadStays } from '../store/stay.actions'\r\nimport { removeFromCart, checkout, setFilter } from '../store/stay.actions'\r\nimport { onBookTrip, loadUser } from '../store/user.actions'\r\nimport { UserMsg } from './user-msg.jsx'\r\nimport { FooterLocations } from './app-footer/locations-footer'\r\nimport { NearbyStays } from './app-footer/nearby-stays'\r\nclass _AppFooter extends React.Component {\r\n    state = {\r\n        isCartShown: false,\r\n        topRatedStays: [],\r\n        nearbyStays: [],\r\n        stays: []\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadStays(this.props.filterBy)\r\n        this.setState({ stays: this.props.stays })\r\n        await this.props.loadUser()\r\n        const topRatedStays = this.state.stays.slice(0, 8)\r\n        this.setState({ topRatedStays })\r\n        this.filterLocs(this.state.stays)\r\n    }\r\n    filterLocs =  (stays) => {\r\n        stays = stays.filter(stay => stay.loc.address.toLowerCase().includes('paris'))\r\n        stays = stays.slice(0, 8)\r\n         this.setState({ nearbyStays: stays })\r\n    }\r\n    removeFromCart = (stayId) => {\r\n        this.props.removeFromCart(stayId)\r\n    }\r\n    checkout = () => {\r\n        this.props.checkout();\r\n    }\r\n    getstaytTotal() {\r\n        return this.props.cart.reduce((acc, stay) => acc + stay.price, 0)\r\n    }\r\n    onClickLoc = (val, type) => {\r\n        const newFilter = { ...this.props.filterBy }\r\n        newFilter[type] = val\r\n        this.props.setFilter(newFilter)\r\n        this.props.history.push('/explore')\r\n    }\r\n    render() {\r\n        const { user } = this.props\r\n        return (\r\n            <footer className=\"app-footer main-container full\">\r\n                <h2>Insparation for future getaways</h2>\r\n                <div className='flex footer-link-headers'>\r\n                </div>\r\n                <div className=\"flex footer-links align-center space-between\">\r\n                    <TopRatedStays stays={this.state.topRatedStays} />\r\n                    <FooterLocations locations={this.locations} onClickLoc={this.onClickLoc} />\r\n                    <NearbyStays stays={this.state.nearbyStays} />\r\n                </div>\r\n                <div className=\"footer-info flex space-between align-center\">\r\n                    <div className=\"footer-first flex\">\r\n                        <p>\r\n                            © 2021 AnyGo ,Inc.,\r\n                        </p>\r\n                        <Link to='/login'>Login</Link>\r\n                        {user && <Link to={user.isHost ? '/host' : '/become-a-host'}>{user.isHost ? ' Host page' : ' Become a host'}</Link>}\r\n                    </div>\r\n                    <div className=\"footer-second flex\">\r\n                        <p>$US</p>\r\n                        <p>English(US)</p>\r\n                    </div>\r\n                </div>\r\n                <UserMsg />\r\n            </footer>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        count: state.userModule.count,\r\n        cart: state.stayModule.cart,\r\n        user: state.userModule.user,\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    checkout,\r\n    onBookTrip,\r\n    removeFromCart,\r\n    loadStays,\r\n    loadUser,\r\n    setFilter\r\n}\r\nexport const AppFooter = withRouter(connect(mapStateToProps, mapDispatchToProps)(_AppFooter))","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {loadAndWatchUser} from '../store/user.actions'\r\n\r\nexport class _UserDetails extends Component {\r\n  \r\n  async componentDidMount() {\r\n    this.props.loadAndWatchUser(this.props.match.params.id)\r\n  }\r\n\r\n  render() {\r\n    const {user} = this.props\r\n    return (\r\n      <section className=\"user-details\">\r\n        <h1>User Details</h1>\r\n        {user && <div>\r\n          <h3>\r\n            {user.fullname}\r\n          </h3>\r\n          <pre>\r\n            {JSON.stringify(user, null, 2)}\r\n          </pre>\r\n        </div>}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.userModule.watchedUser\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  loadAndWatchUser\r\n}\r\n\r\nexport const UserDetails = connect(mapStateToProps, mapDispatchToProps)(_UserDetails)\r\n","import React from 'react'\r\n\r\n// const { Switch, Route } = ReactRouterDOM\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nimport routes from './routes'\r\n\r\nimport {AppHeader} from './cmps/app-header'\r\nimport {AppFooter} from './cmps/app-footer'\r\nimport {UserDetails} from './pages/user-details'\r\n\r\nexport class RootCmp extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"root-cmp\">\r\n                <AppHeader  />\r\n                <main>\r\n                    <Switch>\r\n                        {routes.map(route=> <Route key={route.path} exact component={route.component} path={route.path} /> )}\r\n                        <Route path=\"/user/:id\" component={UserDetails} />\r\n                    </Switch>\r\n                </main>\r\n                <AppFooter />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store'\r\nimport { RootCmp } from './root-cmp';\r\nimport './assets/styles/main.scss';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}